(()=>{var e,t={3804:(e,t,n)=>{"use strict";n.r(t),n.d(t,{initPage:()=>Co});var r={};n.r(r),n.d(r,{FILE:()=>Fe,HTML:()=>We,TEXT:()=>Ve,URL:()=>Be});const o=window.wp.element,a=window.wp.notices,i=window.wp.data;function s(e,t){return(0,i.useSelect)(e,t)}const l=window.NelioContent.calendar,c=window.NelioContent.data,u=window.wp.url;function d(e,t){var n=(0,u.removeQueryArgs)(document.location.href,"date","day"),r="month"===e?(0,u.addQueryArgs)(n,{date:t.substring(0,7)}):(0,u.addQueryArgs)(n,{day:t});window.history.replaceState(null,"",r)}const g=window.NelioContent.utils;var h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h.apply(this,arguments)};const m=window.wp.domReady,f=n.n(m)(),p=window.lodash;function v(){var e=document.querySelector(".nelio-content-calendar__grid");if(e){e.style.display="none";var t,n,r=(t=document.body,n=document.documentElement,Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight));e.removeAttribute("style");var o=document.getElementById("wpadminbar"),a=document.querySelector(".nelio-content-calendar__header"),s=document.querySelector(".nelio-content-grid__header"),c=r-y(o)-y(a)-y(s),u=(0,i.select)(l.store).getCalendarMode(),d=(0,i.dispatch)(l.store).setCalendarDimensions;switch(u){case"agenda":case"month":return void d({adminSidebarWidth:E(),calendarWidth:b(),minRowHeight:c/6-1});case"two-weeks":return void d({adminSidebarWidth:E(),calendarWidth:b(),minRowHeight:c/2-1});default:return void d({adminSidebarWidth:E(),calendarWidth:b(),minRowHeight:c-1})}}}function E(){var e=document.getElementById("adminmenu");return e?Math.round(e.getBoundingClientRect().width):0}function b(){var e=document.getElementById("nelio-content-page");return e?Math.round(e.getBoundingClientRect().width):0}function y(e){return e?e.getBoundingClientRect().height:0}const _=window.wp.components;var C=n(6942),w=n.n(C),D=n(4848);function x(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var T="function"==typeof Symbol&&Symbol.observable||"@@observable",S=function(){return Math.random().toString(36).substring(7).split("").join(".")},N={INIT:"@@redux/INIT"+S(),REPLACE:"@@redux/REPLACE"+S(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+S()}};function I(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(x(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(x(1));return n(I)(e,t)}if("function"!=typeof e)throw new Error(x(2));var o=e,a=t,i=[],s=i,l=!1;function c(){s===i&&(s=i.slice())}function u(){if(l)throw new Error(x(3));return a}function d(e){if("function"!=typeof e)throw new Error(x(4));if(l)throw new Error(x(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(x(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),i=null}}}function g(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(x(7));if(void 0===e.type)throw new Error(x(8));if(l)throw new Error(x(9));try{l=!0,a=o(a,e)}finally{l=!1}for(var t=i=s,n=0;n<t.length;n++)(0,t[n])();return e}return g({type:N.INIT}),(r={dispatch:g,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(x(10));o=e,g({type:N.REPLACE})}})[T]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(x(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[T]=function(){return this},e},r}function O(e,t,...n){if("undefined"!=typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;e=new Error(t.replace(/%s/g,(function(){return n[r++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function k(e){return"object"==typeof e}const P="dnd-core/INIT_COORDS",M="dnd-core/BEGIN_DRAG",R="dnd-core/PUBLISH_DRAG_SOURCE",A="dnd-core/HOVER",L="dnd-core/DROP",H="dnd-core/END_DRAG";function U(e,t){return{type:P,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const j={type:P,payload:{clientOffset:null,sourceClientOffset:null}};function F(e){return function(t=[],n={publishSource:!0}){const{publishSource:r=!0,clientOffset:o,getSourceClientOffset:a}=n,i=e.getMonitor(),s=e.getRegistry();e.dispatch(U(o)),function(e,t,n){O(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){O(n.getSource(e),"Expected sourceIds to be registered.")}))}(t,i,s);const l=function(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,i);if(null==l)return void e.dispatch(j);let c=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");!function(e){O("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(a),c=a(l)}e.dispatch(U(o,c));const u=s.getSource(l).beginDrag(i,l);if(null==u)return;!function(e){O(k(e),"Item must be an object.")}(u),s.pinSource(l);const d=s.getSourceType(l);return{type:M,payload:{itemType:d,item:u,sourceId:l,clientOffset:o||null,sourceClientOffset:c||null,isSourcePublic:!!r}}}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}function W(e){return function(t={}){const n=e.getMonitor(),r=e.getRegistry();!function(e){O(e.isDragging(),"Cannot call drop while not dragging."),O(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const o=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);o.forEach(((o,a)=>{const i=function(e,t,n,r){const o=n.getTarget(e);let a=o?o.drop(r,e):void 0;return function(e){O(void 0===e||k(e),"Drop result must either be an object or undefined.")}(a),void 0===a&&(a=0===t?{}:r.getDropResult()),a}(o,a,r,n),s={type:L,payload:{dropResult:V({},t,i)}};e.dispatch(s)}))}}function q(e){return function(){const t=e.getMonitor(),n=e.getRegistry();!function(e){O(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const r=t.getSourceId();return null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource()),{type:H}}}function z(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function Y(e){return function(t,{clientOffset:n}={}){!function(e){O(Array.isArray(e),"Expected targetIds to be an array.")}(t);const r=t.slice(0),o=e.getMonitor(),a=e.getRegistry();return function(e,t,n){for(let r=e.length-1;r>=0;r--){const o=e[r];z(t.getTargetType(o),n)||e.splice(r,1)}}(r,a,o.getItemType()),function(e,t,n){O(t.isDragging(),"Cannot call hover while not dragging."),O(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){const r=e[t];O(e.lastIndexOf(r)===t,"Expected targetIds to be unique in the passed array."),O(n.getTarget(r),"Expected targetIds to be registered.")}}(r,o,a),function(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}(r,o,a),{type:A,payload:{targetIds:r,clientOffset:n||null}}}}function G(e){return function(){if(e.getMonitor().isDragging())return{type:R}}}class ${receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store,n=function(e){return{beginDrag:F(e),publishDragSource:G(e),hover:Y(e),drop:W(e),endDrag:q(e)}}(this);return Object.keys(n).reduce(((r,o)=>{const a=n[o];var i;return r[o]=(i=a,(...n)=>{const r=i.apply(e,n);void 0!==r&&t(r)}),r}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function X(e,t){return{x:e.x-t.x,y:e.y-t.y}}const Q=[],K=[];Q.__IS_NONE__=!0,K.__IS_ALL__=!0;class J{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;O("function"==typeof e,"listener must be a function."),O(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),o=t.stateId;try{const a=o===r||o===r+1&&!function(e,t){return e!==Q&&(e===K||void 0===t||(n=e,t.filter((e=>n.indexOf(e)>-1))).length>0);var n}(t.dirtyHandlerIds,n);a||e()}finally{r=o}}))}subscribeToOffsetChange(e){O("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==t&&(t=n,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return O(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);return O(t,`Expected to find a valid target. targetId=${e}`),!(!this.isDragging()||this.didDrop())&&(z(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e))}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);return O(t,`Expected to find a valid source. sourceId=${e}`),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),o=this.getItemType();if(o&&!z(r,o))return!1;const a=this.getTargetIds();if(!a.length)return!1;const i=a.indexOf(e);return n?i===a.length-1:i>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return t&&n&&r?X((a=r,{x:(o=t).x+a.x,y:o.y+a.y}),n):null;var o,a}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:n}=e;return t&&n?X(t,n):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const Z="undefined"!=typeof global?global:self,ee=Z.MutationObserver||Z.WebKitMutationObserver;function te(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const ne="function"==typeof ee?function(e){let t=1;const n=new ee(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:te;class re{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const oe=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=ne(this.flush),this.requestErrorThrow=te((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},ae=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new re(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(oe.registerPendingError),ie="dnd-core/ADD_SOURCE",se="dnd-core/ADD_TARGET",le="dnd-core/REMOVE_SOURCE",ce="dnd-core/REMOVE_TARGET";function ue(e,t){t&&Array.isArray(e)?e.forEach((e=>ue(e,!1))):O("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var de;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(de||(de={}));let ge=0;function he(e){switch(e[0]){case"S":return de.SOURCE;case"T":return de.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function me(e,t){const n=e.entries();let r=!1;do{const{done:e,value:[,o]}=n.next();if(o===t)return!0;r=!!e}while(!r);return!1}class fe{addSource(e,t){ue(e),function(e){O("function"==typeof e.canDrag,"Expected canDrag to be a function."),O("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),O("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);const n=this.addHandler(de.SOURCE,e,t);return this.store.dispatch(function(e){return{type:ie,payload:{sourceId:e}}}(n)),n}addTarget(e,t){ue(e,!0),function(e){O("function"==typeof e.canDrop,"Expected canDrop to be a function."),O("function"==typeof e.hover,"Expected hover to be a function."),O("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);const n=this.addHandler(de.TARGET,e,t);return this.store.dispatch(function(e){return{type:se,payload:{targetId:e}}}(n)),n}containsHandler(e){return me(this.dragSources,e)||me(this.dropTargets,e)}getSource(e,t=!1){return O(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return O(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return O(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return O(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return he(e)===de.SOURCE}isTargetId(e){return he(e)===de.TARGET}removeSource(e){var t;O(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:le,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},oe.enqueueTask(ae.create(t))}removeTarget(e){O(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:ce,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);O(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){O(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const r=function(e){const t=(ge++).toString();switch(e){case de.SOURCE:return`S${t}`;case de.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}(e);return this.types.set(r,t),e===de.SOURCE?this.dragSources.set(r,n):e===de.TARGET&&this.dropTargets.set(r,n),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const pe=(e,t)=>e===t;function ve(e=Q,t){switch(t.type){case A:break;case ie:case se:case ce:case le:return Q;default:return K}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,o=function(e,t){const n=new Map,r=e=>{n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);const o=[];return n.forEach(((e,t)=>{1===e&&o.push(t)})),o}(n,r),a=o.length>0||!function(e,t,n=pe){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(n,r);if(!a)return Q;const i=r[r.length-1],s=n[n.length-1];return i!==s&&(i&&o.push(i),s&&o.push(s)),o}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const be={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function ye(e=be,t){const{payload:n}=t;switch(t.type){case P:case M:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case A:return r=e.clientOffset,o=n.clientOffset,!r&&!o||r&&o&&r.x===o.x&&r.y===o.y?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ee(e,t,n[t])}))}return e}({},e,{clientOffset:n.clientOffset});case H:case L:return be;default:return e}var r,o}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_e(e,t,n[t])}))}return e}const we={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function De(e=we,t){const{payload:n}=t;switch(t.type){case M:return Ce({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case R:return Ce({},e,{isSourcePublic:!0});case A:return Ce({},e,{targetIds:n.targetIds});case ce:return-1===e.targetIds.indexOf(n.targetId)?e:Ce({},e,{targetIds:(r=e.targetIds,o=n.targetId,r.filter((e=>e!==o)))});case L:return Ce({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case H:return Ce({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var r,o}function xe(e=0,t){switch(t.type){case ie:case se:return e+1;case le:case ce:return e-1;default:return e}}function Te(e=0){return e+1}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Se(e,t,n[t])}))}return e}function Ie(e={},t){return{dirtyHandlerIds:ve(e.dirtyHandlerIds,{type:t.type,payload:Ne({},t.payload,{prevTargetIds:(n=e,r=[],"dragOperation.targetIds".split(".").reduce(((e,t)=>e&&e[t]?e[t]:r||null),n))})}),dragOffset:ye(e.dragOffset,t),refCount:xe(e.refCount,t),dragOperation:De(e.dragOperation,t),stateId:Te(e.stateId)};var n,r}function Oe(e,t=void 0,n={},r=!1){const o=function(e){const t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return I(Ie,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(r),a=new J(o,new fe(o)),i=new $(o,a),s=e(i,t,n);return i.receiveBackend(s),i}var ke=n(1609);const Pe=(0,ke.createContext)({dragDropManager:void 0});let Me=0;const Re=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Ae=(0,ke.memo)((function(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children"]);const[r,o]=function(e){if("manager"in e)return[{dragDropManager:e.manager},!1];return[function(e,t=Le(),n,r){const o=t;return o[Re]||(o[Re]={dragDropManager:Oe(e,t,n,r)}),o[Re]}(e.backend,e.context,e.options,e.debugMode),!e.context]}(n);return(0,ke.useEffect)((()=>{if(o){const e=Le();return++Me,()=>{0==--Me&&(e[Re]=null)}}}),[]),(0,D.jsx)(Pe.Provider,{value:r,children:t})}));function Le(){return"undefined"!=typeof global?global:window}function He(e){let t=null;return()=>(null==t&&(t=e()),t)}class Ue{enter(e){const t=this.entered.length;return this.entered=function(e,t){const n=new Set,r=e=>n.add(e);e.forEach(r),t.forEach(r);const o=[];return n.forEach((e=>o.push(e))),o}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var n,r;return this.entered=(n=this.entered.filter(this.isNodeInDocument),r=e,n.filter((e=>e!==r))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class je{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((n=>{const r=this.config.exposeProperties[n];null!=r&&(t[n]={value:r(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Fe="__NATIVE_FILE__",Be="__NATIVE_URL__",Ve="__NATIVE_TEXT__",We="__NATIVE_HTML__";function qe(e,t,n){const r=t.reduce(((t,n)=>t||e.getData(n)),"");return null!=r?r:n}const ze={[Fe]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[We]:{exposeProperties:{html:(e,t)=>qe(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Be]:{exposeProperties:{urls:(e,t)=>qe(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Ve]:{exposeProperties:{text:(e,t)=>qe(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Ye(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(ze).filter((e=>{const n=ze[e];return!!(null==n?void 0:n.matchesTypes)&&n.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const Ge=He((()=>/firefox/i.test(navigator.userAgent))),$e=He((()=>Boolean(window.safari)));class Xe{interpolate(e){const{xs:t,ys:n,c1s:r,c2s:o,c3s:a}=this;let i=t.length-1;if(e===t[i])return n[i];let s,l=0,c=a.length-1;for(;l<=c;){s=Math.floor(.5*(l+c));const r=t[s];if(r<e)l=s+1;else{if(!(r>e))return n[s];c=s-1}}i=Math.max(0,c);const u=e-t[i],d=u*u;return n[i]+r[i]*u+o[i]*d+a[i]*u*d}constructor(e,t){const{length:n}=e,r=[];for(let e=0;e<n;e++)r.push(e);r.sort(((t,n)=>e[t]<e[n]?-1:1));const o=[],a=[],i=[];let s,l;for(let r=0;r<n-1;r++)s=e[r+1]-e[r],l=t[r+1]-t[r],a.push(s),o.push(l),i.push(l/s);const c=[i[0]];for(let e=0;e<a.length-1;e++){const t=i[e],n=i[e+1];if(t*n<=0)c.push(0);else{s=a[e];const r=a[e+1],o=s+r;c.push(3*o/((o+r)/t+(o+s)/n))}}c.push(i[i.length-1]);const u=[],d=[];let g;for(let e=0;e<c.length-1;e++){g=i[e];const t=c[e],n=1/a[e],r=t+c[e+1]-g-g;u.push((g-t-r)*n),d.push(r*n*n)}this.xs=e,this.ys=t,this.c1s=c,this.c2s=u,this.c3s=d}}const Qe=1;function Ke(e){const t=e.nodeType===Qe?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Je(e){return{x:e.clientX,y:e.clientY}}class Ze{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){et(e,t,n[t])}))}return e}class nt{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const r=t=>this.handleDragStart(t,e),o=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=t=>this.handleDragEnter(t,e),r=t=>this.handleDragOver(t,e),o=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",o),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return tt({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return tt({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(r).some((t=>r[t]===e))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const n=ze[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new je(n);return r.loadDataTransfer(t),r}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&Ke(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const n=Je(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});const{dataTransfer:r}=e,o=Ye(r);if(this.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),o=this.sourcePreviewNodes.get(e)||t;if(o){const{anchorX:e,anchorY:a,offsetX:i,offsetY:s}=this.getCurrentSourcePreviewNodeOptions(),l=function(e,t,n,r,o){const a="IMG"===(i=t).nodeName&&(Ge()||!(null===(s=document.documentElement)||void 0===s?void 0:s.contains(i)));var i,s;const l=Ke(a?e:t),c={x:n.x-l.x,y:n.y-l.y},{offsetWidth:u,offsetHeight:d}=e,{anchorX:g,anchorY:h}=r,{dragPreviewWidth:m,dragPreviewHeight:f}=function(e,t,n,r){let o=e?t.width:n,a=e?t.height:r;return $e()&&e&&(a/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:a}}(a,t,u,d),{offsetX:p,offsetY:v}=o,E=0===v||v;return{x:0===p||p?p:new Xe([0,.5,1],[c.x,c.x/u*m,c.x+m-u]).interpolate(g),y:E?v:(()=>{let e=new Xe([0,.5,1],[c.y,c.y/d*f,c.y+f-d]).interpolate(h);return $e()&&a&&(e+=(window.devicePixelRatio-1)*f),e})()}}(t,o,n,{anchorX:e,anchorY:a},{offsetX:i,offsetY:s});r.setDragImage(o,l.x,l.y)}}try{null==r||r.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(o)this.beginDragNativeItem(o);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)),!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:n}=e,r=Ye(n);r&&this.beginDragNativeItem(r,n)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:Je(e)}),t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=e=>{var t;this.dragOverTargetIds=[],this.isDraggingNativeItem()&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=Je(e),this.scheduleHover(t),(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;this.dropTargetIds=[],this.isDraggingNativeItem()?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Ye(e.dataTransfer)&&e.preventDefault(),this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:Je(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new Ze(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Ue(this.isNodeInDocument)}}const rt=function(e,t,n){return new nt(e,t,n)},ot=window.NelioContent.components,at=window.NelioContent.postQuickEditor,it=window.NelioContent.socialMessageEditor,st=window.NelioContent.taskEditor,lt=window.wp.i18n;var ct=[{title:(0,lt._x)("Editorial Calendar","text","nelio-content"),intro:(0,lt._x)("Welcome to Nelio Content’s Editorial Calendar, an outstanding overview of all your WordPress and social media content.","user","nelio-content")},{title:(0,lt._x)("Editorial Calendar","text","nelio-content"),intro:(0,lt._x)("The calendar shows all your posts, social messages, and editorial tasks. You can drag-and-drop any item in the calendar to reschedule it to a different day or click on them to open a quick editor modal.","user","nelio-content")},{title:(0,lt._x)("Add Items","text","nelio-content"),intro:(0,lt._x)("Use this button to add new posts, social messages, or tasks in the calendar. You can also hover over any (non-past) day in the calendar to reveal the same set of actions to create items for that specific day.","user","nelio-content"),element:function(){return document.querySelector(".nelio-content-item-creation-button")}},{title:(0,lt._x)("Filters","text","nelio-content"),intro:(0,lt._x)("Use this option to open the filter panel and select which elements should be visible in the calendar. When there are active filters, the color of this button will be different.","user","nelio-content"),element:function(){return document.querySelector(".nelio-content-header__toolbar-button--is-filter")}},{title:(0,lt._x)("Unscheduled Items","text","nelio-content"),intro:(0,lt._x)("This button toggles the “Unscheduled” posts panel. When enabled, you’ll be able to drag-and-drop items from and to the “Unscheduled” area to (un)schedule them.","user","nelio-content"),element:function(){return document.querySelector(".nelio-content-header__toolbar-button--is-unscheduled")}},{title:(0,lt._x)("More Options","text","nelio-content"),intro:(0,lt._x)("Under this menu, you’ll find some additional options like, for example, changing the calendar view, pausing the publication of any scheduled messages on your social media, exporting the calendar to CSV, or clearing all your active filters.","user","nelio-content"),element:function(){return document.querySelector(".nelio-content-header__toolbar-button--is-more")}}];const ut=window.moment;var dt=n.n(ut);const gt=window.NelioContent.date;var ht,mt=function(e){var t=e.isBlurred,n=s((function(e){return e(c.store).getFirstDayOfWeek()})),r=s((function(e){return e(l.store).getCalendarMode()})),a=s((function(e){return e(l.store).getFirstDay(n)})),i=s((function(e){return e(l.store).getLastDay(n)}));if(!a)return null;if("month"===r){var u=dt()(a).add(15,"days"),d=(0,p.upperFirst)((0,gt.dateI18n)("F",u)),g=(0,gt.dateI18n)("Y",u);return o.createElement("h2",{className:"nelio-content-period-label"},d," ",g)}var h=(0,p.upperFirst)((0,gt.dateI18n)("F",a)),m=(0,p.upperFirst)((0,gt.dateI18n)("F",i)),f=(0,gt.dateI18n)("Y",a),v=(0,gt.dateI18n)("Y",i);if(h===m&&f===v)return o.createElement("h2",{className:w()({"nelio-content-period-label":!0,"nelio-content-period-label--is-blurred":t})},h," ",f);var E=(0,p.upperFirst)((0,gt.dateI18n)("M",a)),b=(0,p.upperFirst)((0,gt.dateI18n)("M",i));return f===v?o.createElement("h2",{className:w()({"nelio-content-period-label":!0,"nelio-content-period-label--is-blurred":t})},(0,lt.sprintf)(/* translators: 1 -> month, 2 -> month, 3 -> year */ /* translators: 1 -> month, 2 -> month, 3 -> year */
(0,lt._x)("%1$s – %2$s %3$s","text (M-M Y)","nelio-content"),E,b,f)):o.createElement("h2",{className:w()({"nelio-content-period-label":!0,"nelio-content-period-label--is-blurred":t})},(0,lt.sprintf)(/* translators: 1 -> month, 2 -> year, 3 -> month, 4 -> year */ /* translators: 1 -> month, 2 -> year, 3 -> month, 4 -> year */
(0,lt._x)("%1$s %2$s – %3$s %4$s","text (M Y-M Y)","nelio-content"),E,f,b,v))};function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ft.apply(null,arguments)}const pt=function(e){return ke.createElement("svg",ft({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true",className:"today_svg__dashicon today_svg__dashicons-calendar-alt"},e),ht||(ht=ke.createElement("path",{d:"M6.5 1.5c-.41 0-.77.15-1.06.44C5.15 2.24 5 2.59 5 3v1H2v15h16V4h-3V3c0-.41-.15-.76-.44-1.06-.29-.29-.65-.44-1.06-.44s-.77.15-1.06.44c-.29.3-.44.65-.44 1.06v1H8V3c0-.41-.15-.76-.44-1.06-.29-.29-.65-.44-1.06-.44m0 1c.14 0 .26.05.35.15.1.09.15.21.15.35v2.5q0 .21-.15.36c-.09.09-.21.14-.35.14s-.26-.05-.35-.14A.5.5 0 0 1 6 5.5V3c0-.14.05-.26.15-.35.09-.1.21-.15.35-.15m7 0q.21 0 .36.15c.09.09.14.21.14.35v2.5c0 .14-.05.26-.14.36-.1.09-.22.14-.36.14s-.26-.05-.36-.14A.52.52 0 0 1 13 5.5V3c0-.14.05-.26.14-.35q.15-.15.36-.15M3 8h14v10H3zm10.344 1.752L9.676 13.42l-2.121-2.121-1.414 1.414 2.12 2.121 1.415 1.414 1.414-1.414 3.668-3.668z"})))};var vt=function(e){var t=e.className,n=void 0===t?"":t,r=(0,l.useToday)(),a=(0,l.useNewPostLabel)(),i=(0,l.useCanCreatePosts)(),s=(0,l.useCanCreateMessages)(),c=(0,l.useCanCreateTasks)(),u=(0,l.useDefaultTime)("post"),d=(0,l.usePostCreator)(r,u),g=(0,l.useDefaultTime)("social"),h=(0,l.useMessageCreator)(r,g),m=(0,l.useTaskCreator)(r);return o.createElement(_.DropdownMenu,{className:"nelio-content-item-creation-button ".concat(n),icon:"plus",label:(0,lt._x)("Create Item","command","nelio-content"),toggleProps:{variant:"primary",tooltipPosition:"bottom center"}},(function(e){var t=e.onClose;return o.createElement(_.MenuGroup,null,o.createElement(_.MenuItem,{role:"menuitem",icon:"admin-post",disabled:!i,onClick:function(){t(),d()}},a),o.createElement(_.MenuItem,{role:"menuitem",icon:"share",disabled:!s,onClick:function(){t(),h()}},(0,lt._x)("Social Message","text","nelio-content")),o.createElement(_.MenuItem,{role:"menuitem",icon:"flag",disabled:!c,onClick:function(){t(),m()}},(0,lt._x)("Task","text","nelio-content")))}))},Et=function(e){var t,n=e.className,r=void 0===n?"":n,c=(0,i.useDispatch)(l.store).toggleSidePane,u=s((function(e){return e(l.store).isErrorPaneOpen()})),d=s((function(e){return!!e(a.store).getNotices().length}));return(0,o.useEffect)((function(){u&&!d&&c("errors")}),[u,d]),u||d?o.createElement("div",{className:r},o.createElement(_.Button,{className:w()((t={},t[r]=!0,t["nelio-content-error-pane-toggle"]=!0,t["nelio-content-error-pane-toggle--has-errors"]=d,t["nelio-content-error-pane-toggle--is-toggled"]=u,t)),icon:"warning",label:u?(0,lt._x)("Hide Errors","command","nelio-content"):(0,lt._x)("Show Errors","command","nelio-content"),tooltipPosition:"bottom center",isPressed:u,onClick:function(){return c("errors")}})):null},bt=function(e){var t,n=e.className,r=void 0===n?"":n,a=s((function(e){return e(l.store).isReusableMessageViewOpen()})),c=(0,i.useDispatch)(l.store).toggleSidePane;return o.createElement("div",{className:r},o.createElement(_.Button,{className:w()((t={},t[r]=!0,t["nelio-content-reusable-message-toggle"]=!0,t["nelio-content-reusable-message-toggle--is-toggled"]=a,t)),icon:"image-rotate",label:(0,lt._x)("Reusable Messages","text","nelio-content"),tooltipPosition:"bottom center",isPressed:a,onClick:function(){return c("reusable-messages")}}))},yt=function(e){var t,n=e.className,r=void 0===n?"":n,a=(0,i.useDispatch)(l.store).toggleSidePane,c=s((function(e){return e(l.store).isFilterPaneOpen()})),u=s((function(e){return e(l.store).areThereActiveFilters()}));return o.createElement("div",{className:r},o.createElement(_.Button,{className:w()((t={},t[r]=!0,t["nelio-content-toggle-filter-pane-button"]=!0,t["nelio-content-toggle-filter-pane-button--has-active-filters"]=u,t["nelio-content-toggle-filter-pane-button--is-toggled"]=c,t)),icon:"filter",label:c?(0,lt._x)("Hide Filters","command","nelio-content"):(0,lt._x)("Show Filters","command","nelio-content"),tooltipPosition:"bottom center",isPressed:c,onClick:function(){return a("filters")}}))},_t=function(e){var t,n=e.className,r=void 0===n?"":n,a=s((function(e){return e(l.store).isUnscheduledViewOpen()})),c=(0,i.useDispatch)(l.store).toggleSidePane;return o.createElement("div",{className:r},o.createElement(_.Button,{className:w()((t={},t[r]=!0,t["nelio-content-toggle-unscheduled-posts-button"]=!0,t["nelio-content-toggle-unscheduled-posts-button--is-toggled"]=a,t)),icon:"portfolio",label:(0,lt._x)("Unscheduled Content","text","nelio-content"),tooltipPosition:"bottom center",isPressed:a,onClick:function(){return c("unscheduled-posts")}}))},Ct=function(){var e=s((function(e){return e(l.store).getCalendarMode()})),t=(0,i.useDispatch)(l.store).setCalendarMode;return o.createElement(_.MenuGroup,{label:(0,lt._x)("View","text (name)","nelio-content")},o.createElement(_.MenuItemsChoice,{choices:wt,value:e,onSelect:t}))},wt=[{value:"agenda",label:(0,lt._x)("Agenda","text","nelio-content")},{value:"week",label:(0,lt._x)("One Week","text","nelio-content")},{value:"two-weeks",label:(0,lt._x)("Two Weeks","text","nelio-content")},{value:"month",label:(0,lt._x)("Month","text","nelio-content")}],Dt=function(){var e=xt(),t=e[0],n=e[1],r=s((function(e){return e(l.store).isIcsEnabled()})),a=Tt("all"),i=Tt("user"),c=St();return t?o.createElement(_.Modal,{className:"nelio-content-calendar-export-dialog",isDismissible:!0,shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!0,onRequestClose:function(){return n(!1)},title:(0,lt._x)("Export Calendar","text","nelio-content")},o.createElement("div",{className:"nelio-content-calendar-export-dialog__paragraph"},(0,lt._x)("Export your editorial calendar in CSV format:","user","nelio-content")),o.createElement("div",{className:"nelio-content-calendar-export-dialog__download-csv"},o.createElement(_.Button,{variant:"primary",onClick:function(){c(),n(!1)}},(0,lt._x)("Download CSV","command","nelio-content"))),r&&o.createElement("div",{className:"nelio-content-calendar-export-dialog__ics"},o.createElement("div",{className:"nelio-content-calendar-export-dialog__paragraph"},(0,lt._x)("Export your editorial calendar to Google Calendar or any tool that supports iCalendar (.ics) format.","user","nelio-content")),o.createElement("div",{className:"nelio-content-calendar-export-dialog__ics-option"},o.createElement(_.TextControl,{label:(0,lt._x)("URL to export your posts only:","user","nelio-content"),value:null!=i?i:"",onChange:function(){},readOnly:!0})),o.createElement("div",{className:"nelio-content-calendar-export-dialog__ics-option"},o.createElement(_.TextControl,{label:(0,lt._x)("URL to export all posts:","user","nelio-content"),value:null!=a?a:"",onChange:function(){},readOnly:!0})))):null},xt=function(){return[s((function(e){return e(l.store).isExportDialogOpen()})),(0,i.useDispatch)(l.store).openExportDialog]},Tt=function(e){return s((function(t){return t(l.store).getIcsLink(e)}))},St=function(){var e=s((function(e){var t=e(c.store),n=t.getCSV,r=t.getFirstDayOfWeek,o=e(l.store),a=o.getFirstDay,i=o.getLastDay,s=r();return n(a(s),i(s))}));return function(){var t=window.URL||window.webkitURL,n=new window.Blob([e],{type:"text/csv;charset=UTF-8"}),r=document.createElement("a");r.setAttribute("href",t.createObjectURL(n)),r.setAttribute("download","export.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},Nt=function(e){var t=e.close,n=(0,c.useIsFeatureEnabled)("calendar/export"),r=(0,c.useFeatureGuard)("calendar/export"),a=s((function(e){return e(c.store).canCurrentUserManagePlugin()})),u=s((function(e){return e(c.store).isSocialPublicationPaused()})),d=s((function(e){return e(c.store).isSocialPublicationStatusBeingSynched()})),g=(0,i.useDispatch)(c.store).toggleSocialPublicationStatus,h=(0,i.useDispatch)(l.store).openExportDialog,m=(0,i.useDispatch)(l.store).clearFilters;return o.createElement(_.MenuGroup,{label:(0,lt._x)("Tools","text","nelio-content")},o.createElement(_.MenuItem,{role:"menuitem",disabled:d||!a,onClick:g},u&&!d&&(0,lt._x)("Resume Social Publication","command","nelio-content"),!u&&!d&&(0,lt._x)("Pause Social Publication","command","nelio-content"),u&&d&&(0,lt._x)("Resuming Social Publication…","text","nelio-content"),!u&&d&&(0,lt._x)("Pausing Social Publication…","text","nelio-content")),o.createElement(_.MenuItem,{role:"menuitem",icon:n?void 0:"lock",onClick:function(){t(),r(h)()}},(0,lt._x)("Export Calendar","command","nelio-content"),o.createElement(Dt,null)),o.createElement(_.MenuItem,{role:"menuitem",onClick:function(){t(),m()}},(0,lt._x)("Clear Filters","command","nelio-content")),o.createElement(ot.ContextualHelp,{context:"editorial-calendar",walkthrough:ct,component:It(t)}))},It=function(e){return function(t){return o.createElement(_.MenuItem,{role:"menuitem",onClick:function(){setTimeout(e,0),t.runWalkthrough()}},(0,lt._x)("Help","text","nelio-content"))}},Ot=function(e){var t=e.className,n=void 0===t?"":t;return o.createElement(_.DropdownMenu,{className:"nelio-content-more-options ".concat(n),icon:"ellipsis",label:(0,lt._x)("More tools & options","text","nelio-content"),toggleProps:{tooltipPosition:"bottom center"}},(function(e){var t=e.onClose;return o.createElement(o.Fragment,null,o.createElement(Ct,null),o.createElement(Nt,{close:t}))}))},kt=function(){var e=s((function(e){return e(l.store).isCalendarSynching()})),t=s((function(e){return e(c.store).isSocialPublicationPaused()})),n=Mt(),r=(0,i.useDispatch)(l.store),a=r.previousPeriod,u=r.nextPeriod,d=Pt(),g=(0,i.useDispatch)(l.store).showToday;return o.createElement(o.Fragment,null,o.createElement("div",{className:"nelio-content-header__block nelio-content-header__calendar-controls"},o.createElement(vt,{className:"nelio-content-header__create-item-button"}),o.createElement(_.Button,{className:"nelio-content-header__previous-button",icon:"arrow-left-alt2",label:n.prev,tooltipPosition:"bottom center",onClick:function(){a()}}),o.createElement(_.Button,{className:"nelio-content-header__next-button",icon:"arrow-right-alt2",label:n.next,tooltipPosition:"bottom center",onClick:function(){u()}}),o.createElement(mt,null),o.createElement(_.Button,{className:"nelio-content-header__today-button",icon:o.createElement(pt,{className:"dashicon"}),label:(0,lt._x)("Today","text","nelio-content"),tooltipPosition:"bottom center",onClick:function(){g()},disabled:d}),o.createElement(ot.SubscribeAction,{className:"nelio-content-header__promo-button"}),e&&o.createElement(_.Spinner,null)),!!t&&o.createElement("div",{className:"nelio-content-header__block"},o.createElement("span",{title:(0,lt._x)("Publication on social media is paused and, therefore, Nelio Content will not share any of your scheduled social messages","user","nelio-content"),className:"nelio-content-header__paused-social-publication-warning"},(0,lt._x)("Paused","text (social media publication)","nelio-content"))),o.createElement("div",{className:"nelio-content-header__block nelio-content-header__toolbar"},o.createElement(Et,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-error"}),o.createElement(yt,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-filter"}),o.createElement(bt,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-reusable"}),o.createElement(_t,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-unscheduled"}),o.createElement(Ot,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-more"})))},Pt=function(){return s((function(e){var t=e(c.store),n=t.getToday,r=t.getFirstDayOfWeek,o=e(l.store),a=o.getFirstDay,i=o.getLastDay,s=r(),u=n();return a(s)<=u&&u<=i(s)}))},Mt=function(){switch(s((function(e){return e(l.store).getCalendarMode()}))){case"month":return{prev:(0,lt._x)("Previous Month","text","nelio-content"),next:(0,lt._x)("Next Month","text","nelio-content")};case"two-weeks":return{prev:(0,lt._x)("Previous Two Weeks","text","nelio-content"),next:(0,lt._x)("Next Two Weeks","text","nelio-content")};case"week":return{prev:(0,lt._x)("Previous Week","text","nelio-content"),next:(0,lt._x)("Next Week","text","nelio-content")};default:return{prev:(0,lt._x)("Previous Period","text","nelio-content"),next:(0,lt._x)("Next Period","text","nelio-content")}}},Rt=n(2017);const At="undefined"!=typeof window?ke.useLayoutEffect:ke.useEffect;function Lt(e,t,n){return function(e,t,n){const[r,o]=function(e,t,n){const[r,o]=(0,ke.useState)((()=>t(e))),a=(0,ke.useCallback)((()=>{const a=t(e);Rt(r,a)||(o(a),n&&n())}),[r,e,n]);return At(a),[r,a]}(e,t,n);return At((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(o,{handlerIds:[t]})}),[e,o]),r}(t,e||(()=>({})),(()=>n.reconnect()))}function Ht(e,t){const n=[...t||[]];return null==t&&"function"!=typeof e&&n.push(e),(0,ke.useMemo)((()=>"function"==typeof e?e():e),n)}function Ut(e){return(0,ke.useMemo)((()=>e.hooks.dropTarget()),[e])}function jt(e,t,n,r){let o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;const a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let i=0;i<a.length;i++){const l=a[i];if(!s(l))return!1;const c=e[l],u=t[l];if(o=n?n.call(r,c,u,l):void 0,!1===o||void 0===o&&c!==u)return!1}return!0}function Ft(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Bt(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const e=function(e){return(t=null,n=null)=>{if(!(0,ke.isValidElement)(t)){const r=t;return e(r,n),r}const r=t;return function(e){if("string"==typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(r),function(e,t){const n=e.ref;return O("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,ke.cloneElement)(e,{ref:e=>{Vt(n,e),Vt(t,e)}}):(0,ke.cloneElement)(e,{ref:t})}(r,n?t=>e(t,n):e)}}(r);t[n]=()=>e}})),t}function Vt(e,t){"function"==typeof e?e(t):e.current=t}class Wt{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!jt(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Bt({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,Ft(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function qt(){const{dragDropManager:e}=(0,ke.useContext)(Pe);return O(null!=e,"Expected drag drop context"),e}let zt=!1;class Yt{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;O(!zt,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return zt=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{zt=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class Gt{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function $t(e,t){const n=Ht(e,t),r=function(){const e=qt();return(0,ke.useMemo)((()=>new Yt(e)),[e])}(),o=function(e){const t=qt(),n=(0,ke.useMemo)((()=>new Wt(t.getBackend())),[t]);return At((()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget())),[e]),n}(n.options);return function(e,t,n){const r=qt(),o=function(e,t){const n=(0,ke.useMemo)((()=>new Gt(e,t)),[t]);return(0,ke.useEffect)((()=>{n.spec=e}),[e]),n}(e,t),a=function(e){const{accept:t}=e;return(0,ke.useMemo)((()=>(O(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t])),[t])}(e);At((function(){const[e,i]=function(e,t,n){const r=n.getRegistry(),o=r.addTarget(e,t);return[o,()=>r.removeTarget(o)]}(a,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),i}),[r,t,o,n,a.map((e=>e.toString())).join("|")])}(n,r,o),[Lt(n.collect,r,o),Ut(o)]}var Xt=function(e){var t=e.children,n=e.onHover,r=e.interval,a=$t({accept:["post","social","task"],hover:Qt(n,r),collect:function(e){return{isHovered:e.canDrop()&&e.isOver()}}}),i=a[0].isHovered,s=a[1];return o.createElement("div",{className:w()({"nelio-content-header__drop-control":!0,"nelio-content-header__period-control":!0,"nelio-content-header__period-control--is-hovered":i}),ref:s},t)},Qt=function(e,t){var n=(0,o.useState)(!1),r=n[0],a=n[1],i=function(n){n.isOver()?(e(),setTimeout((function(){return i(n)}),t)):a(!1)};return function(e,n){r||(a(!0),setTimeout((function(){return i(n)}),t))}},Kt=function(e){var t=e.children,n=(0,l.useDraggingItem)(),r=Jt(n),a=$t({accept:["post","social","task"],drop:Zt(),collect:function(e){return{isHovered:e.canDrop()&&e.isOver()}}}),i=a[0].isHovered,s=a[1];return r?o.createElement("div",{className:w()({"nelio-content-header__drop-control":!0,"nelio-content-header__trash-control":!0,"nelio-content-header__trash-control--is-hovered":i}),ref:s},t):null},Jt=function(e){return s((function(t){if(t(c.store),!e)return!1;switch(e.type){case"reusable-message":return!1;case"social":var n=t(c.store),r=n.getSocialMessage;return(0,n.canCurrentUserDeleteSocialMessage)(r(e.id));case"task":var o=t(c.store),a=o.getTask;return(0,o.canCurrentUserDeleteTask)(a(e.id));case"post":var i=t(c.store),s=i.getPost;return(0,i.canCurrentUserDeletePost)(s(e.id))}}))},Zt=function(){var e=(0,i.useDispatch)(l.store),t=e.deleteSocialMessage,n=e.deleteTask,r=e.dragEnd,o=e.requestRecurringTrashMode,a=e.trashPost;return function(e){!function(e){var r=e.id;switch(e.type){case"post":return a(r);case"social":var s=(0,i.select)(c.store).getSocialMessage(r);return(0,g.isRecurringMessage)(s)&&!(0,g.isRecurringSource)(s)?o({id:r}):t(r,(0,g.isRecurringMessage)(s)&&(0,g.isRecurringSource)(s)?"following":void 0);case"task":return n(r);case"reusable-message":(0,p.noop)()}}(e),r()}},en=function(e){var t=e.type,n=s((function(e){return e(l.store).isCalendarSynching()})),r=tn();return o.createElement("div",{className:"nelio-content-header__dragging-controls"},o.createElement("div",{className:"nelio-content-header__period-controller"},o.createElement(Xt,{onHover:r.prev,interval:1e3},(0,lt._x)("Previous","command","nelio-content")),o.createElement(Xt,{onHover:r.next,interval:1e3},(0,lt._x)("Next","command","nelio-content")),o.createElement(mt,{isBlurred:!0}),n&&o.createElement(_.Spinner,null)),o.createElement(Kt,null,"post"===t?(0,lt._x)("Trash","command","nelio-content"):(0,lt._x)("Delete","command","nelio-content")))},tn=function(){var e=(0,i.useDispatch)(l.store),t=e.previousPeriod,n=e.nextPeriod;return{prev:function(){return t(1200)},next:function(){return n(1200)}}},nn=["post","social","task"],rn=function(e){var t,n=e.className,r=void 0===n?"":n,a=null===(t=(0,l.useDraggingItem)())||void 0===t?void 0:t.type,i=s((function(e){return e(l.store).getAdminSidebarWidth()}));return o.createElement("div",{className:"nelio-content-header ".concat(r),style:{width:"calc(100% - ".concat(i,"px)")}},a&&nn.includes(a)?o.createElement(en,{type:a}):o.createElement(kt,null))},on=function(e){var t=e.day,n=(0,l.useNewPostLabel)(),r=(0,l.useCanCreatePosts)(),a=(0,l.useCanCreateMessages)(),i=(0,l.useCanCreateTasks)(),s=(0,l.useDefaultTime)("post"),c=(0,l.usePostCreator)(t,s),u=(0,l.useDefaultTime)("social"),d=(0,l.useMessageCreator)(t,u),g=(0,l.useTaskCreator)(t);return o.createElement("div",{className:"nelio-content-calendar-day__actions"},o.createElement(_.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-item-icon",icon:"insert"}),o.createElement(_.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-post",icon:"admin-post",disabled:!r,label:n,tooltipPosition:"bottom center",onClick:c}),o.createElement(_.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-social-message",icon:"share",disabled:!a,label:(0,lt._x)("Add New Social Message","command","nelio-content"),tooltipPosition:"bottom center",onClick:d}),o.createElement(_.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-task",icon:"flag",disabled:!i,label:(0,lt._x)("Add New Task","command","nelio-content"),tooltipPosition:"bottom center",onClick:g}))};function an(e){return(0,ke.useMemo)((()=>e.hooks.dragSource()),[e])}function sn(e){return(0,ke.useMemo)((()=>e.hooks.dragPreview()),[e])}class ln{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(t?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!jt(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!jt(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Bt({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,Ft(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,Ft(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}let cn=!1,un=!1;class dn{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){O(!cn,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return cn=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{cn=!1}}isDragging(){if(!this.sourceId)return!1;O(!un,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return un=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{un=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class gn{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return n="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{},null!=n?n:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const n=this.spec,r=this.monitor,{isDragging:o}=n;return o?o(r):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:r}=e;r&&r(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function hn(e,t){const n=Ht(e,t);O(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=function(){const e=qt();return(0,ke.useMemo)((()=>new dn(e)),[e])}(),o=function(e,t){const n=qt(),r=(0,ke.useMemo)((()=>new ln(n.getBackend())),[n]);return At((()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource())),[r,e]),At((()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview())),[r,t]),r}(n.options,n.previewOptions);return function(e,t,n){const r=qt(),o=function(e,t,n){const r=(0,ke.useMemo)((()=>new gn(e,t,n)),[t,n]);return(0,ke.useEffect)((()=>{r.spec=e}),[e]),r}(e,t,n),a=function(e){return(0,ke.useMemo)((()=>{const t=e.type;return O(null!=t,"spec.type must be defined"),t}),[e])}(e);At((function(){if(null!=a){const[e,i]=function(e,t,n){const r=n.getRegistry(),o=r.addSource(e,t);return[o,()=>r.removeSource(o)]}(a,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),i}}),[r,t,n,o,a])}(n,r,o),[Lt(n.collect,r,o),an(o),sn(o)]}const mn=window.NelioContent.premiumHooksForPages;var fn=function(e){var t=e.className,n=e.postType,r=e.postStatus,a=(0,l.usePostStatus)(n,r);return(null==a?void 0:a.icon)?o.createElement("span",{className:t,title:a.name},o.createElement(_.Dashicon,{icon:a.icon})):null},pn=function(e){var t=e.className,n=void 0===t?"":t,r=e.type,a=e.date,i=e.status,c=e.title,u=s((function(e){return!!a&&e(l.store).formatCalendarTime(a)}));return o.createElement("div",{className:n},o.createElement(fn,{className:"nelio-content-calendar-post__status-icon",postStatus:i,postType:r})," ",!!u&&o.createElement(o.Fragment,null,o.createElement("strong",null,u)," "),o.createElement("span",null,c))},vn=function(e){var t=e.className,n=e.itemId,r=e.type,a=e.typeName,i=En(n);return"post"===r?o.createElement("div",{className:t},o.createElement(_.Dashicon,{icon:"category"})," ".concat(i)):"page"===r?o.createElement("div",{className:t},o.createElement(_.Dashicon,{icon:"admin-page"})," ".concat(a)):o.createElement("div",{className:t},o.createElement(_.Dashicon,{icon:"sticky"})," ".concat(a))},En=function(e){return s((function(t){var n;return(0,p.map)(null===(n=t(c.store).getPost(e))||void 0===n?void 0:n.taxonomies[g.CAT],"name").join(", ")}))},bn=function(e){var t,n,r=e.className,a=void 0===r?"":r,s=e.itemId,c=e.dragReference,u=e.isClickable,d=(0,l.useItem)("post",s),g=(0,l.usePostStatus)(null==d?void 0:d.type,null==d?void 0:d.status),h=(0,i.useDispatch)(at.store).openPostEditor,m=(0,l.useItemHoverListeners)("post",s),f=m.onMouseEnter,p=m.onMouseLeave;if(!d)return null;var v=d.author,E=d.date,b=d.status,y=d.title,_=d.type,C=d.typeName;return o.createElement("div",{role:C,className:"nelio-content-calendar-post nelio-content-calendar-post--is-".concat(null!=b?b:"unknown"," ").concat(a),"data-item-id":s,style:{backgroundColor:null===(t=null==g?void 0:g.colors)||void 0===t?void 0:t.background,borderTopColor:null===(n=null==g?void 0:g.colors)||void 0===n?void 0:n.main},onClick:function(){d&&u&&h(d)},onMouseEnter:f,onMouseLeave:p,ref:c},o.createElement(ot.AuthorIcon,{className:"nelio-content-calendar-post__author-icon",authorId:v}),o.createElement(pn,{className:"nelio-content-calendar-post__content",date:E||"",status:b,type:_,title:y}),o.createElement(vn,{className:"nelio-content-calendar-post__details",itemId:s,type:_,typeName:C}))};const yn=window.NelioContent.networks;var Cn=function(e){var t=e.className,n=e.message,r=e.schedule,a=s((function(e){return e(l.store).formatCalendarTime(r)}));return o.createElement("div",{className:t},o.createElement("strong",null,a)," ",o.createElement("span",null,n))},wn=function(e){var t,n=e.className,r=void 0===n?"":n,a=e.itemId,s=e.dragReference,c=e.isClickable,u=(0,l.useItem)("social",a),d=(0,i.useDispatch)(it.store).openSocialMessageEditor,h=(0,l.useItemHoverListeners)("social",a),m=h.onMouseEnter,f=h.onMouseLeave;if(!u)return null;var p=u.auto,v=u.isFreePreview,E=u.network,b=u.profileId,y=u.schedule,C=u.status,D=u.text,x=u.textComputed,T=u.type;return o.createElement("div",{role:(0,lt._x)("Social Message","text","nelio-content"),className:w()((t={"nelio-content-calendar-social-message":!0,"nelio-content-calendar-social-message--is-auto":!!p},t["nelio-content-calendar-social-message--is-".concat(E)]=!0,t["nelio-content-calendar-social-message--is-".concat(C)]=!0,t["nelio-content-calendar-social-message--is-free-preview"]=v,t[r]=!!r,t)),onClick:function(){u&&c&&d(u,{context:"calendar"})},"data-item-id":a,onMouseEnter:m,onMouseLeave:f,ref:s},!!v&&o.createElement("div",{className:"nelio-content-calendar-social-message__mode-icon"},o.createElement(_.Dashicon,{icon:"lock"})),!v&&(0,g.isRecurringMessage)(u)&&o.createElement("div",{className:"nelio-content-calendar-social-message__mode-icon"},o.createElement(_.Dashicon,{icon:"controls-repeat"})),o.createElement(ot.SocialProfileIcon,{className:"nelio-content-calendar-social-message__profile-icon",profileId:b}),o.createElement(Cn,{className:"nelio-content-calendar-social-message__content",message:(0,yn.doesNetworkSupport)("text",E)?x:D||Dn(T),schedule:null!=y?y:""}))};function Dn(e){switch(e){case"auto-image":case"text":return"";case"image":return(0,lt._x)("(image)","text","nelio-content");case"video":return(0,lt._x)("(video)","text","nelio-content")}}var xn=function(e){var t,n=e.className,r=void 0===n?"":n,a=e.itemId,s=e.dragReference,c=e.isClickable,u=(0,l.useItem)("task",a),d=Tn(u),g=(0,i.useDispatch)(l.store).toggleTaskCompletion,h=(0,i.useDispatch)(l.store).openTaskViewerDialog,m=(0,i.useDispatch)(st.store).openExistingTaskEditor,f=(0,l.useItemHoverListeners)("task",a),p=f.onMouseEnter,v=f.onMouseLeave;if(!u)return null;var E=u.assigneeId,b=u.color,y=u.completed,_=u.task;return o.createElement("div",{role:(0,lt._x)("Task","text","nelio-content"),className:w()((t={"nelio-content-calendar-task":!0},t[r]=!0,t["nelio-content-calendar-task--is-".concat(b)]=!!b,t)),"data-item-id":a,onClick:function(e){var t;return"INPUT"!==(null===(t=e.target)||void 0===t?void 0:t.nodeName)&&!!u&&c&&(d?m(u,{context:"calendar",post:void 0}):h(a))},onMouseEnter:p,onMouseLeave:v,ref:s},o.createElement(ot.AuthorIcon,{className:"nelio-content-calendar-task__author-icon",authorId:E}),o.createElement("div",{className:"nelio-content-calendar-task__value"},o.createElement("input",{type:"checkbox",checked:y,disabled:!d,onChange:function(){g(a)}}),o.createElement("span",null,_)))},Tn=function(e){return s((function(t){return t(c.store).canCurrentUserEditTask(e)}))},Sn=function(e){var t=e.className,n=e.itemId,r=On(n),a=Nn(),i=In(),c=s((function(e){return!!r&&!r.isDayEvent&&e(l.store).formatCalendarTime(r.date)}));if(!r)return null;var u=r.date,d=r.title,g=r.isDayEvent,h=g?u<a:i(u);return o.createElement("div",{className:w()("nelio-content-calendar-external-event",t,g&&"nelio-content-calendar-external-event--is-day-event",h&&"nelio-content-calendar-external-event--is-past-event")},!!c&&o.createElement("strong",null,c," "),o.createElement("span",null,d))},Nn=function(){return s((function(e){return e(c.store).getToday()}))},In=function(){return s((function(e){var t=e(c.store).getUtcNow(),n="Y-m-d H:m";return function(e){return(0,gt.format)(n,e)<(0,gt.format)(n,t)}}))},On=function(e){return s((function(t){return t(c.store).getExternalEvent(e)}))};const kn=window.wp.primitives;var Pn=function(e){var t=e.className,n=e.type,r=Mn(n);return o.createElement("span",{className:t,title:n},o.createElement(r,null))},Mn=function(e){return"mailpoet-newsletter"===e?function(){return o.createElement(kn.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 152.02 156.4"},o.createElement(kn.Path,{d:"M37.71 89.1c3.5 0 5.9-.8 7.2-2.3a8 8 0 002-5.4V35.7l17 45.1a12.68 12.68 0 003.7 5.4c1.6 1.3 4 2 7.2 2a12.54 12.54 0 005.9-1.4 8.41 8.41 0 003.9-5l18.1-50V81a8.53 8.53 0 002.1 6.1c1.4 1.4 3.7 2.2 6.9 2.2 3.5 0 5.9-.8 7.2-2.3a8 8 0 002-5.4V8.7a7.48 7.48 0 00-3.3-6.6c-2.1-1.4-5-2.1-8.6-2.1a19.3 19.3 0 00-9.4 2 11.63 11.63 0 00-5.1 6.8l-19.6 58.3-20.5-58.7a12.4 12.4 0 00-4.5-6.2c-2.1-1.5-5-2.2-8.8-2.2a16.51 16.51 0 00-8.9 2.1c-2.3 1.5-3.5 3.9-3.5 7.2v71.5c0 2.8.7 4.8 2 6.2 1.5 1.4 3.7 2.1 7 2.1zM149 116.6l-2.4-1.9a7.4 7.4 0 00-9.4.3 19.65 19.65 0 01-12.5 4.6h-21.4A37.08 37.08 0 0077 130.5l-1.1 1.2-1.1-1.1a37.25 37.25 0 00-26.3-10.9H27a19.59 19.59 0 01-12.4-4.6 7.28 7.28 0 00-9.4-.3l-2.4 1.9a7.43 7.43 0 00-2.8 5.5 7.14 7.14 0 002.4 5.7 37.28 37.28 0 0024.6 9.5h21.6a19.59 19.59 0 0118.9 14.4v.2c.1.7 1.2 4.4 8.5 4.4s8.4-3.7 8.5-4.4v-.2a19.59 19.59 0 0118.9-14.4H125a37.28 37.28 0 0024.6-9.5 7.42 7.42 0 002.4-5.7 7.86 7.86 0 00-3-5.6z"}))}:"the-events-calendar"===e?function(){return o.createElement(kn.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 110"},o.createElement(kn.Path,{d:"M44.28 65.55c-3.273 1.327-6.302 2.044-8.505 1.925-2.853-.16-4.07-1.417-4.075-1.89-.002-.337 1.061-1.393 4.345-1.631a22.85 22.85 0 0 1 1.618-.06c2.243 0 4.74.368 6.617 1.655m6.123 28.93c-12.002 3.31-24.685.258-32.317-7.785-5.4-5.691-7.21-12.813-4.968-19.54 4.51-13.534 26.125-21.657 39.94-21.657.148 0 .296 0 .443.002 5.147.066 8.712 1.31 9.303 3.249.33 1.085-.452 2.984-2.095 5.079-2.899 3.696-7.304 7.046-11.784 9.504-2.84-3.117-7.397-4.535-13.224-4.115-6.487.47-8.773 3.619-8.75 6.408.026 3.04 2.974 6.282 8.56 6.592 3.381.185 7.422-.857 11.48-2.632.595 2.337.41 5.402-.563 9.056a2.375 2.375 0 0 0 4.588 1.224c1.324-4.966 1.423-9.131.3-12.44 5.297-2.974 10.194-6.923 13.13-10.666 2.755-3.514 3.731-6.675 2.901-9.396-.603-1.977-2.022-3.544-4.16-4.656.163-17.845 3.326-30.17 6.174-30.187h.017c.418 0 .984.093 1.678.783 2.314 2.3 5.07 9.85 5.07 32.759 0 22.605-1.935 41.85-25.723 48.417M27.745 41.756c-.003-.06.004-.118-.003-.178-.01-.086-.02-.176-.032-.264-.341-4.873.243-8.713 1.73-10.773.738-1.022 1.664-1.57 2.914-1.724 1.743-.21 3.16.24 4.352 1.384 2.306 2.217 3.652 7.01 3.524 12.255a65.61 65.61 0 0 0-11.85 4.153 51.109 51.109 0 0 1-.635-4.853m20.457-8.274c.875-.951 1.99-1.414 3.413-1.414 2.262 0 3.245.74 3.788 1.296 1.3 1.33 2 3.912 2.096 7.67a31.624 31.624 0 0 0-3.938-.283c-.16-.002-.32-.002-.482-.002-2.144 0-4.48.186-6.919.54-.105-3.445.615-6.251 2.042-7.806M74.405 9.935C72.98 8.518 71.24 7.77 69.374 7.77h-.042c-6.257.038-8.416 9.373-9.496 16.392-.317 2.06-.561 4.162-.752 6.196-.093-.103-.184-.211-.282-.31-1.766-1.81-4.185-2.728-7.187-2.728-2.749 0-5.139 1.02-6.911 2.95-.505.55-.94 1.189-1.332 1.873-.783-2.06-1.878-3.926-3.375-5.365-2.223-2.137-5.064-3.062-8.223-2.674-2.545.313-4.684 1.577-6.186 3.659a.414.414 0 0 1-.018.028C22.968 14.812 18.02-.86 9.388.037 7.264.26 5.387 1.403 3.961 3.34-2.7 12.394.426 39.314 3.32 53.792a2.377 2.377 0 0 0 2.795 1.864A2.375 2.375 0 0 0 7.98 52.86C3.13 28.618 4.212 11.015 7.787 6.156c.84-1.142 1.6-1.344 2.098-1.396C14.65 4.264 20.521 20.914 23 41.928c.198 2.602.592 5.039.972 6.933.002.008.006.016.008.026-7.136 4.114-13.025 9.738-15.367 16.767-2.816 8.444-.618 17.306 6.029 24.31 6.49 6.839 16.063 10.578 26.114 10.578 3.616 0 7.295-.485 10.911-1.484 26.976-7.445 29.21-29.316 29.21-52.995 0-20.259-2.056-31.738-6.472-36.127"}))}:"nelio-ab-testing"===e?function(){return o.createElement(kn.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},o.createElement(kn.Path,{d:"M 20 2.5 C 18.64939 2.5 17.335197 2.6519887 16.072266 2.9414062 C 16.157726 3.2278678 16.249103 3.5653246 16.369141 3.9902344 C 16.533466 4.5114781 16.656702 4.8822491 16.738281 5.1015625 L 19.355469 13.769531 C 20.165167 13.733791 20.992028 13.692398 21.662109 13.673828 C 22.183247 13.645468 22.70546 13.626841 23.240234 13.613281 C 23.775047 13.598521 24.180659 13.589772 24.455078 13.576172 C 24.742938 13.562572 25.061468 13.554685 25.404297 13.554688 C 27.543705 13.554688 29.280995 13.838214 30.625 14.400391 C 31.982758 14.962673 32.951314 15.708185 33.527344 16.640625 C 34.103491 17.559465 34.394531 18.566948 34.394531 19.664062 C 34.394531 20.514283 34.205998 21.32577 33.835938 22.09375 C 33.479318 22.848035 33.027042 23.471186 32.478516 23.964844 C 31.971129 24.444785 31.410061 24.819425 30.792969 25.09375 C 30.175877 25.354261 29.490552 25.595124 28.736328 25.814453 C 30.916875 25.951778 32.745347 26.574975 34.226562 27.685547 C 34.612707 27.975077 34.948923 28.290193 35.234375 28.634766 C 36.679656 26.08828 37.505859 23.143437 37.505859 20.005859 C 37.505859 10.336945 29.668903 2.5000194 20 2.5 z M 12.134766 4.3632812 C 12.099806 4.3803743 12.063472 4.3974466 12.027344 4.4160156 L 8.2636719 14.974609 L 15.259766 14.974609 L 12.134766 4.3632812 z M 9.84375 5.7460938 C 5.3936172 8.9203011 2.4902344 14.123734 2.4902344 20.005859 C 2.4902344 21.856984 2.781932 23.641614 3.3144531 25.316406 C 3.6143556 23.557726 4.1760974 21.73933 4.7695312 19.873047 C 4.7773012 19.853237 4.785221 19.824211 4.796875 19.800781 C 4.798775 19.789131 4.8003214 19.778055 4.8007812 19.765625 L 9.3984375 7.0546875 C 9.4788517 6.8305376 9.6381694 6.3661577 9.84375 5.7460938 z M 24.683594 15.074219 C 23.901945 15.074219 23.133129 15.141231 22.378906 15.279297 L 22.378906 25.277344 L 24.310547 25.277344 C 26.271684 25.277344 27.647919 24.823164 28.443359 23.904297 C 29.252474 22.985473 29.658203 21.752818 29.658203 20.216797 C 29.658203 18.817969 29.267978 17.608672 28.486328 16.59375 C 27.704678 15.578973 26.438995 15.074219 24.683594 15.074219 z M 7.9765625 16.662109 C 5.7600424 23.325767 9.9883692 25.364004 9.4960938 29.197266 C 9.2867057 30.827035 8.2323767 31.62537 7.0527344 31.789062 C 9.6497267 34.640448 13.177559 36.630877 17.154297 37.28125 C 17.266566 37.2318 17.362546 37.17596 17.441406 37.109375 C 17.715669 36.890042 17.883189 36.499763 17.951172 35.9375 C 18.032752 35.375956 18.076172 34.471874 18.076172 33.240234 L 18.076172 26.496094 C 18.041212 25.339011 18.013853 24.304838 17.539062 22.525391 C 17.415527 22.01786 17.221529 21.311341 16.947266 20.40625 L 15.818359 16.662109 L 7.9765625 16.662109 z M 22.378906 26.796875 L 22.378906 26.800781 L 22.378906 37.146484 C 22.611991 37.160084 22.864409 37.179801 23.138672 37.207031 C 23.165862 37.208931 23.207578 37.211591 23.236328 37.212891 C 26.373262 36.626602 29.214139 35.204535 31.521484 33.185547 C 31.566544 32.870921 31.595703 32.541085 31.595703 32.189453 C 31.595703 31.352826 31.407558 30.529744 31.037109 29.720703 C 30.680489 28.897769 29.989346 28.200954 28.960938 27.638672 C 27.946164 27.07627 26.540681 26.796875 24.744141 26.796875 L 22.378906 26.796875 z "}))}:function(){return null}},Rn=function(e){var t=e.className,n=e.itemId,r=e.isClickable,a=Hn(n),i=An(),c=Ln(),u=s((function(e){return!!a&&!a.isDayEvent&&e(l.store).formatCalendarTime(a.date)}));if(!a)return null;var d=a.date,g=a.color,h=a.backgroundColor,m=a.editLink,f=a.isDayEvent,p=a.title,v=a.type,E=function(){r&&m&&(window.location.href=m)},b=f?d<i:c(d);return o.createElement("div",{role:v,className:w()("nelio-content-calendar-internal-event",t,f&&"nelio-content-calendar-internal-event--is-day-event",b&&"nelio-content-calendar-internal-event--is-past-event"),style:{color:g,backgroundColor:h,borderColor:h},onClick:E,onKeyUp:function(e){"Enter"===e.key&&E()}},o.createElement(Pn,{className:"nelio-content-calendar-internal-event__type-icon",type:v})," ",!!u&&o.createElement("strong",null,u," "),o.createElement("span",null,p))},An=function(){return s((function(e){return e(c.store).getToday()}))},Ln=function(){return s((function(e){var t=e(c.store).getUtcNow(),n="Y-m-d H:m";return function(e){return(0,gt.format)(n,e)<(0,gt.format)(n,t)}}))},Hn=function(e){return s((function(t){return t(c.store).getInternalEvent(e)}))},Un={type:"unknown",id:""},jn=function(e){var t=e.itemType,n=e.itemId,r=Fn(t,n),a=r.isBlurred,i=r.isClickable,s=r.isDraggable,c=r.isDragging,u=r.isHighlighted,d=r.isLocked,g=r.isSynching,h=qn(t,n),m=(0,l.useItemDragTriggers)(h),f=m.onDragStart,p=m.onDragEnd,v=null!=h?h:Un,E=hn({type:v.type,item:function(){return f(),v},end:p,canDrag:function(){return s}},[v]),b=(E[0],E[1]),y=w()({"nelio-content-calendar-item":!0,"nelio-content-calendar-item--is-blurred":a,"nelio-content-calendar-item--is-dragging":c,"nelio-content-calendar-item--is-highlighted":u,"nelio-content-calendar-item--is-locked":d,"nelio-content-calendar-item--is-synching":g});switch(t){case"post":return o.createElement(bn,{className:y,itemId:n,dragReference:b,isClickable:i});case"social":return o.createElement(wn,{className:y,itemId:n,dragReference:b,isClickable:i});case"task":return o.createElement(xn,{className:y,itemId:n,dragReference:b,isClickable:i});case"external-event":return o.createElement(Sn,{className:y,itemId:n});case"internal-event":return o.createElement(Rn,{className:y,itemId:n,isClickable:i});default:var _=(0,mn.getPremiumCalendarItemView)(t);return o.createElement(_,{className:y,itemId:n,dragReference:b,isClickable:i})}},Fn=function(e,t){var n=Wn(e,t),r=Bn(e,t),o=Vn(e,t);return s((function(a){var i=a(l.store),s=i.getDraggingItem,c=i.getHoverItem,u=i.isDragging,d=i.isHighlighted,g=i.isSynching,h=u(e,t),m=d(e,t),f=g(e,t),p=!!c()&&!m,v=!!s()&&!h,E=["post","social"].includes(e)&&!o&&!m,b=r&&!f,y=n&&!f&&(0,mn.isItemTypeDraggable)(e);return{isBlurred:E||f||p||v,isClickable:b,isDraggable:y,isDragging:h,isHighlighted:m,isLocked:!b&&!y,isSynching:f}}))},Bn=function(e,t){var n=(0,l.useItem)(e,t),r=Vn(e,t);return s((function(t){switch(t(c.store),e){case"post":var o=n;return t(c.store).canCurrentUserViewPost(o);case"social":var a=n;return r||!!(null==a?void 0:a.isFreePreview)||"publish"===(null==a?void 0:a.status);case"task":return!0;case"external-event":case"internal-event":return r;default:var i=n;return t(c.store).canCurrentUserViewPremiumItem(e,i)}}))},Vn=function(e,t){var n=(0,l.useItem)(e,t);return s((function(t){switch(e){case"post":var r=n;return t(c.store).canCurrentUserEditPost(r);case"social":var o=n;return t(c.store).canCurrentUserEditSocialMessage(o);case"task":var a=n;return t(c.store).canCurrentUserEditTask(a);case"internal-event":return!0;case"external-event":return!1;default:var i=n;return t(c.store).canCurrentUserEditPremiumItem(e,i)}}))},Wn=function(e,t){var n=(0,l.useItem)(e,t),r=Vn(e,t);if("internal-event"===e)return!1;if("post"!==e)return r;return r&&"publish"!==(null==n?void 0:n.status)},qn=function(e,t){var n=zn(e,t);if("post"===e||"social"===e||"task"===e)return{id:t,type:e,minDroppableDay:n}},zn=function(e,t){var n,r,o=(0,l.useItem)(e,t),a=s((function(e){return e(c.store).getToday()}));switch(e){case"post":var i=o;return(null==i?void 0:i.date)&&(null==i?void 0:i.date)<a&&null!==(n=null==i?void 0:i.date)&&void 0!==n?n:a;case"social":return function(e,t){if(!t)return e;var n=t.dateType,r=t.dateValue,o=t.schedule;return"exact"===n?e:"0"===r?(0,gt.date)("Y-m-d",o):(0,gt.date)("Y-m-d",dt()(o).add(-r,"days"))}(a,o);case"task":case"internal-event":case"external-event":return a;default:return null!==(r=(0,mn.getPremiumItemsMinDroppableDay)(e,o))&&void 0!==r?r:a}},Yn=function(e){var t=e.day,n=!!(0,l.useDraggingItem)(),r=!!(0,l.useHoverItem)(),a=n||r,i=(0,l.useCollapsableItemCount)(t),s=(0,l.useDayCollapser)(t),c=s[0],u=s[1],d=(0,l.useDayType)(t);return i?c?o.createElement(_.Button,{className:w()({"nelio-content-collapsed-social-messages-wrapper":!0,"nelio-content-collapsed-social-messages-wrapper--is-blurred":!a&&"past-day"===d}),disabled:a,onClick:function(){return u(!1)}},o.createElement("span",null,(0,lt.sprintf)(/* translators: number of hidden messages on a certain day in the Editorial Calendar */ /* translators: number of hidden messages on a certain day in the Editorial Calendar */
(0,lt._x)("+%d more","command","nelio-content"),i)),o.createElement(_.Dashicon,{icon:"arrow-down"})):o.createElement(_.Button,{className:"nelio-content-collapsed-social-messages-wrapper",disabled:a,onClick:function(){return u(!0)}},o.createElement("span",null,(0,lt._x)("Collapse","command","nelio-content")),o.createElement(_.Dashicon,{icon:"arrow-up"})):null},Gn=function(e){var t=e.day,n=(0,l.useNonCollapsedDayItems)(t),r=(0,l.useDayType)(t);return o.createElement("div",{className:"nelio-content-calendar-day__items nelio-content-calendar-day__items--".concat(r)},n.map((function(e){return o.createElement(jn,{key:"".concat(e.type,"-").concat(e.id),itemId:e.id,itemType:e.type})})),o.createElement(Yn,{day:t}))},$n=function(e){var t=e.day,n=(0,l.useDayType)(t),r=(0,l.useItemDropper)(t),a=(0,l.useMinRowHeight)(),i=$t({accept:["post","social","task","reusable-message"],drop:r,canDrop:function(e){return e.minDroppableDay<=t},collect:function(e){return{isHovered:e.canDrop()&&e.isOver()}}}),s=i[0].isHovered,c=i[1],u=t.substring(8).replace(/^0/,"");return o.createElement("div",{className:w()({"nelio-content-calendar-day":!0,"nelio-content-calendar-day--is-hovered":s}),ref:c,style:{minHeight:a}},o.createElement("div",{className:"nelio-content-calendar-day__header"},o.createElement("div",{className:"nelio-content-calendar-day__label nelio-content-calendar-day__label--".concat(n)},u),"past-day"!==n&&o.createElement(on,{day:t})),o.createElement(Gn,{day:t}))},Xn=function(e){for(var t=e.className,n=void 0===t?"":t,r=e.firstDay,a=e.numberOfDays,i=dt()((0,gt.wpifyDateTime)("c",r,"12:00")),s=[],l=0;l<a;++l)s.push((0,gt.dateI18n)("Y-m-d",i)),i.add(1,"day");var c=dt()((0,gt.wpifyDateTime)("c",r,"12:00")),u=[];for(l=0;l<7;++l)u.push((0,p.upperFirst)((0,gt.dateI18n)("D",c))),c.add(1,"day");return o.createElement("div",{className:w()("nelio-content-day-grid",n)},o.createElement("div",{className:"nelio-content-day-grid__header"},u.map((function(e,t){return o.createElement("div",{key:t,className:"nelio-content-day-grid__weekday"},e)}))),s.map((function(e){return o.createElement($n,{key:"day-".concat(e),day:e})})))},Qn=function(e){var t=e.day,n=e.hour,r=(0,l.useNewPostLabel)(),a=(0,l.useCanCreatePosts)(),i=(0,l.useCanCreateMessages)(),s=(0,l.useCanCreateTasks)(),c=(0,l.usePostCreator)(t,n),u=(0,l.useMessageCreator)(t,n),d=(0,l.useTaskCreator)(t);return o.createElement("div",{className:"nelio-content-calendar-agenda-hour-segment__actions"},o.createElement(_.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-item-icon",icon:"insert"}),o.createElement(_.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-post",icon:"admin-post",disabled:!a,label:r,tooltipPosition:"bottom center",onClick:c}),o.createElement(_.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-social-message",icon:"share",disabled:!i,label:(0,lt._x)("Add New Social Message","command","nelio-content"),tooltipPosition:"bottom center",onClick:u}),o.createElement(_.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-task",icon:"flag",disabled:!s,label:(0,lt._x)("Add New Task","command","nelio-content"),tooltipPosition:"bottom center",onClick:d}))},Kn=function(e){var t=e.day,n=e.hour,r=Jn(t,n);return o.createElement("div",null,r.map((function(e){return o.createElement(jn,{key:"".concat(e.type,"-").concat(e.id),itemId:e.id,itemType:e.type})})))},Jn=function(e,t){return s((function(n){var r=n(c.store),o=r.getItem,a=r.getItemsInDay,i=n(l.store).isItemVisible;return(0,p.filter)(a(e),(function(e){var n=e.id,r=e.type,a=o(r,n);return!!a&&i(r,a)&&function(e,t,n){switch(e){case"external-event":case"internal-event":case"task":return 0===n;case"post":case"social":var r="post"===e?t.date:t.schedule,o=(0,g.extractDateTimeValues)(r);if(!o)return!1;var a=o.timeValue,i=Number.parseInt(a.substring(0,2));return i>=n&&i<n+4;default:return(0,mn.isPremiumItemInSegment)(e,t,n)}}(r,a,t)}))}))},Zn=function(e){var t,n=e.day,r=e.hour,a=e.isHoveredByTask,u=e.onHoveredByTask,d=(0,l.useItemDropper)(n,r),h=(0,l.useMinRowHeight)(),m=s((function(e){return e(l.store).getDraggingItem()})),f=null!==(t=null==m?void 0:m.type)&&void 0!==t?t:"",v=function(e,t,n){var r=(0,g.extractDateTimeValues)(e);if(!r)return"past-segment";var o=r.dateValue,a=r.timeValue,i=n,s=i+4;if(t!==o)return t<o?"past-segment":"future-segment";var l=parseInt(a.substring(0,2));return s<=l?"past-segment":i<=l&&l<s?"current-segment":"future-segment"}(s((function(e){return e(c.store).getUtcNow()})),n,r),E={day:n,hour:r,type:v},b=$t({accept:["post","social","task","reusable-message"],drop:d,canDrop:function(e){return er(e,E)||nr(e,E)||function(e,t){if("social"!==e.type)return!1;var n=(0,i.select)(c.store).getSocialMessage(e.id);if(!n)return!1;var r=(0,i.select)(c.store).getPost(n.postId);if(!r)return"future-segment"===t.type;if(!r.date)return!1;var o=(0,g.extractDateTimeValues)(r.date);if(!o)return!1;var a=o.timeValue,s=r.date.substring(0,10),l=Number.parseInt(a.substring(0,2));return"future-segment"===t.type&&(t.day>s||t.day===s&&t.hour>=l+4)}(e,E)||tr(e,E)},collect:function(e){return{isDirectlyHovered:e.canDrop()&&e.isOver()}}}),y=b[0].isDirectlyHovered,_=b[1];(0,o.useEffect)((function(){u("task"===f&&y)}),[f,y]);var C="task"===f?a:y;return o.createElement("div",{className:w()({"nelio-content-calendar-agenda-hour-segment":!0,"nelio-content-calendar-agenda-hour-segment--is-hovered":C}),ref:_,style:{minHeight:h}},o.createElement("div",{className:"nelio-content-calendar-agenda-hour-segment__header"},o.createElement("div",{className:"nelio-content-calendar-agenda-hour-segment__label--".concat(v)},(0,p.padStart)("".concat(r),2,"0")+":00"),"past-segment"!==v&&o.createElement(Qn,{day:n,hour:(0,p.padStart)("".concat(r),2,"0")+":00"})),o.createElement(Kn,{day:n,hour:r}))},er=function(e,t){return"post"===e.type&&"future-segment"===t.type},tr=function(e,t){return"reusable-message"===e.type&&"future-segment"===t.type},nr=function(e,t){return"task"===e.type&&("future-segment"===t.type||(0,i.select)(c.store).getToday()===t.day)},rr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},or=function(e){for(var t,n,r=e.className,a=void 0===r?"":r,i=e.firstDay,l=e.numberOfDays,u=(0,o.useState)([]),d=u[0],g=u[1],h=0<d.length&&null!==(n=null===(t=d[0])||void 0===t?void 0:t.substring(0,10))&&void 0!==n?n:"",m=s((function(e){return e(c.store).getToday()})),f=dt()((0,gt.wpifyDateTime)("c",i,"12:00")),v=[],E=0;E<l;++E)v.push((0,gt.dateI18n)("Y-m-d",f)),f.add(1,"day");var b=dt()((0,gt.wpifyDateTime)("c",i,"12:00")),y=[];for(E=0;E<l;++E)y.push((0,p.upperFirst)((0,gt.dateI18n)("D",b))),b.add(1,"day");var _=[0,4,8,12,16,20].flatMap((function(e){return v.map((function(t){return{id:"".concat(t,":").concat(e),day:t,startHour:e}}))}));return o.createElement("div",{className:w()("nelio-content-agenda-grid","nelio-content-agenda-grid--has-".concat(l,"-days"),a)},y.map((function(e,t){var n,r=null!==(n=v[t])&&void 0!==n?n:"";return o.createElement("div",{key:t,className:"nelio-content-agenda-grid__weekday nelio-content-agenda-grid__weekday--is-".concat(ar(m,r))},o.createElement("div",null,e," ",r.substring(8).replace(/^0/,"")))})),_.map((function(e){return o.createElement(Zn,{key:e.id,day:e.day,hour:e.startHour,isHoveredByTask:e.day===h,onHoveredByTask:function(t){return g(t?rr(rr([],d,!0),[e.id],!1):(0,p.without)(d,e.id))}})})))};function ar(e,t){return t<e?"past-day":t===e?"today":"future-day"}var ir,sr,lr,cr=function(){return cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cr.apply(this,arguments)},ur=function(e){return"agenda"===s((function(e){return e(l.store).getCalendarMode()}))?o.createElement(or,cr({},e)):o.createElement(Xn,cr({},e))},dr=function(e){var t=e.onChange,n=e.value,r=s((function(e){return e(c.store).getCurrentUserId()}));return o.createElement("div",{className:"nelio-content-post-filters__author"},o.createElement("span",null,(0,lt._x)("Author","text","nelio-content")),o.createElement(ot.AuthorSearcher,{placeholder:(0,lt._x)("Search author…","command","nelio-content"),value:n,onChange:t,hasAllAuthors:!0}),o.createElement("div",{className:"nelio-content-post-filters__right-action"},o.createElement(_.Button,{variant:"link",onClick:function(){return t(r)}},(0,lt._x)("Show My Posts","command","nelio-content"))))},gr=function(e){var t=e.name,n=e.boldLabel,r=e.checked,a=e.label,i=e.onChange;return o.createElement("li",{className:"nelio-content-post-filters__post-type nelio-content-post-filters__post-type--".concat(t)},o.createElement(_.CheckboxControl,{label:n?o.createElement("strong",null,a):a,checked:r,onChange:i}))},hr=function(){return hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hr.apply(this,arguments)},mr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},fr=function(){var e=vr(),t=e[0],n=e[1],r=pr();return r.length?o.createElement("div",{className:"nelio-content-post-filters__by-status"},o.createElement("div",null,(0,lt._x)("Post Status","text","nelio-content")),o.createElement("ul",{className:"nelio-content-post-filters__statuses"},r.map((function(e){var r=e.label,a=e.value;return o.createElement("li",{key:"nelio-content-post-filters__category-".concat(a)},o.createElement(_.CheckboxControl,{label:r,checked:!t.includes(a),onChange:function(){return e=a,n((0,p.xor)(t,[e]));var e}}))})))):null},pr=function(){return s((function(e){var t=e(c.store),n=t.getPostTypes,r=t.getPostStatuses,o=(0,e(l.store).getDisabledPostTypes)(),a=(n("calendar")||[]).filter((function(e){return!o.includes(e.name)})),i=(0,p.flatten)(a.map((function(e){var t=e.name;return r(t)}))).filter((function(e){return"nelio-content-unscheduled"!==e.slug})),s=i.reduce((function(e,t){var n,r,o=t.slug,a=t.name;return"nelio-content-unscheduled"===o?e:hr(hr({},e),((n={})[o]=(0,p.uniq)(mr(mr([],null!==(r=e[o])&&void 0!==r?r:[],!0),[a],!1)),n))}),{});return(0,p.map)(s,(function(e,t){return{value:t,label:e.join(", ")}}))}))},vr=function(){return[s((function(e){return e(l.store).getDisabledStatuses()})),(0,i.useDispatch)(l.store).setDisabledStatuses]},Er=function(){var e=br(),t=e.disabledPostTypes,n=e.postAuthor,r=e.postTypes,a=yr(),i=a.togglePostType,l=a.setPostAuthor,u=s((function(e){return e(c.store).getPremiumStatus()})),d=(0,ot.getPremiumComponent)("calendar/future-actions-filter","null");return o.createElement("div",{className:"nelio-content-post-filters"},o.createElement(dr,{value:n,onChange:l}),o.createElement("div",{className:"nelio-content-post-filters__by-type"},o.createElement("div",null,(0,lt._x)("Content Type","text","nelio-content")),o.createElement("ul",{className:"nelio-content-post-filters__post-types"},r.map((function(e){var n=e.name,r=e.labels.singular;return o.createElement(gr,{key:"nelio-content-post-filters__post-type-".concat(n),name:n,label:r,checked:!t.includes(n),onChange:function(){return i(n)}})})))),o.createElement(fr,null),"ready"===u&&o.createElement(o.Fragment,null,o.createElement("strong",null,(0,lt._x)("Additional Filters","text","nelio-content")),o.createElement(d,null)))},br=function(){return s((function(e){var t=e(c.store).getPostTypes,n=e(l.store),r=n.getDisabledPostTypes,o=n.getPostAuthorFilter;return{postTypes:t("calendar"),disabledPostTypes:r(),postAuthor:o()}}))},yr=function(){var e=br().disabledPostTypes,t=(0,i.useDispatch)(l.store),n=t.setDisabledPostTypes;return{togglePostType:function(t){return n((r=e,o=t,(0,p.xor)(r,[o])));var r,o},setPostAuthor:t.setPostAuthorFilter}},_r=function(e){var t=e.checked,n=e.children,r=e.isPartialCheck,a=e.network,i=e.onChange;return o.createElement("li",{className:"nelio-content-social-filters__network-and-profiles",key:"nelio-content-social-filters__network-".concat(a)},o.createElement(ot.PartialCheckboxControl,{label:o.createElement("strong",null,(0,yn.getNetworkLabel)("name",a)),checked:t,isPartialCheck:r,onChange:i}),o.createElement("ul",{className:"nelio-content-social-filters__profiles"},n))},Cr=function(e){var t=e.label,n=e.checked,r=e.onChange;return o.createElement("li",null,o.createElement(_.CheckboxControl,{label:t,checked:n,onChange:r}))},wr=(0,c.withProfileCheck)((function(){var e=Dr(),t=e.areAutomaticMessagesVisible,n=e.areFailedMessagesVisible,r=e.disabledProfilesByNetwork,a=e.networks,i=e.profilesByNetwork,s=xr(),l=s.showAutomaticMessages,c=s.showFailedMessages,u=s.toggleProfile,d=s.enableAllProfilesInNetwork,h=s.disableAllProfilesInNetwork;return o.createElement("div",{className:"nelio-content-social-filters"},o.createElement("ul",null,o.createElement("li",{key:"nelio-content-social-filters__profile-title",className:"nelio-content-social-filters__title"},o.createElement("strong",null,(0,lt._x)("Profile Filters","text","nelio-content"))),a.map((function(e){var t=i[e]||[],n=r[e]||[];return o.createElement(_r,{key:"nelio-content-social-filters__network-".concat(e),checked:n.length!==t.length,isPartialCheck:!(0,g.isEmpty)(n),network:e,onChange:function(t){return t?d(e):h(e)}},1<t.length&&t.map((function(t){var r=t.id,a=t.displayName;return o.createElement(Cr,{key:"nelio-content-social-filters__profile-".concat(r),label:a,checked:!n.includes(r),onChange:function(){return u(e,r)}})})))})),o.createElement("li",{key:"nelio-content-social-filters__additional-title",className:"nelio-content-social-filters__title"},o.createElement("strong",null,(0,lt._x)("Additional Filters","text","nelio-content"))),o.createElement("li",{key:"nelio-content-social-filters__auto"},o.createElement(_.CheckboxControl,{label:(0,lt._x)("Show automatic social messages","command","nelio-content"),checked:t,onChange:function(){return l(!t)}})),o.createElement("li",{key:"nelio-content-social-filters__failed"},o.createElement(_.CheckboxControl,{label:(0,lt._x)("Always show failed social messages","command","nelio-content"),checked:n,onChange:function(){return c(!n)}}))))})),Dr=function(){return s((function(e){var t=e(c.store).getSocialProfiles,n=e(l.store),r=n.areAutomaticMessagesVisible,o=n.areFailedMessagesVisible,a=n.getDisabledSocialProfilesByNetwork,i=t(),s=(0,p.uniq)((0,p.map)(i,"network")),u={};s.forEach((function(e){u[e]=(0,p.filter)(i,{network:e})}));for(var d=a(),g={},h=(0,p.map)(i,"id"),m=0,f=s;m<f.length;m++){var v=f[m];g[v]=(0,p.filter)(d[v],(function(e){return h.includes(e)}))}return{areAutomaticMessagesVisible:r(),areFailedMessagesVisible:o(),networks:s,profilesByNetwork:u,disabledProfilesByNetwork:g}}))},xr=function(){var e=Dr(),t=e.profilesByNetwork,n=e.disabledProfilesByNetwork,r=(0,i.useDispatch)(l.store),o=r.setDisabledSocialProfilesInNetwork;return{showAutomaticMessages:r.showAutomaticMessages,showFailedMessages:r.showFailedMessages,toggleProfile:function(e,t){return o(e,(r=n[e],a=t,(0,p.xor)(null!=r?r:[],[a])));var r,a},enableAllProfilesInNetwork:function(e){return o(e,[])},disableAllProfilesInNetwork:function(e){return o(e,(0,p.map)(t[e],"id"))}}},Tr=function(){var e=s((function(e){return e(c.store).getCurrentUserId()})),t=s((function(e){return e(l.store).areTasksVisible()})),n=s((function(e){return e(l.store).getTaskAssigneeFilter()})),r=(0,i.useDispatch)(l.store).setTaskAssigneeFilter,a=(0,i.useDispatch)(l.store).toggleTasksVisibility;return o.createElement("div",{className:"nelio-content-task-filters"},o.createElement(_.CheckboxControl,{className:"nelio-content-task-filters__visibility",checked:t,onChange:a,label:(0,lt._x)("Show tasks","command","nelio-content")}),t&&o.createElement("div",{className:"nelio-content-task-filters__assignee"},o.createElement("span",null,(0,lt._x)("Assignee","text","nelio-content")),o.createElement(ot.AuthorSearcher,{placeholder:(0,lt._x)("Search assignee…","command","nelio-content"),value:n,onChange:r,hasAllAuthors:!0,allAuthorsLabel:(0,lt._x)("All Assignees","text","nelio-content")}),o.createElement("div",{className:"nelio-content-task-filters__right-action"},o.createElement(_.Button,{variant:"link",onClick:function(){return r(e)}},(0,lt._x)("Show My Tasks","command","nelio-content")))))},Sr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Nr=function(){var e=s((function(e){return e(l.store).getDisabledExternalCalendars()})),t=s((function(e){return e(l.store).getExternalCalendars()})),n=s((function(e){return e(l.store).getDisabledInternalEventTypes()})),r=Or(),a=(0,i.useDispatch)(l.store),c=a.manageExternalCalendars,u=a.setDisabledInternalEventTypes,d=a.setDisabledExternalCalendars;return o.createElement(o.Fragment,null,o.createElement("div",{className:"nelio-content-external-event-filters"},o.createElement("p",{className:"nelio-content-external-event-filters__title"},(0,lt._x)("External Calendars","text","nelio-content")),t.map((function(t){var n=t.name,r=t.url;return o.createElement(_.CheckboxControl,{key:r,label:(0,p.trim)(n)||Ir(r),checked:!e.includes(r),onChange:function(){return function(t){return d(e.includes(t)?(0,p.without)(e,t):Sr(Sr([],e,!0),[t],!1))}(r)}})})),o.createElement("div",{className:"nelio-content-external-event-filters__actions"},o.createElement(_.Button,{variant:"link",onClick:function(){return c(!0)}},(0,lt._x)("Manage Calendars","command","nelio-content")))),!!r.length&&o.createElement("div",{className:"nelio-content-internal-event-filters"},o.createElement("p",{className:"nelio-content-internal-event-filters__title"},(0,lt._x)("Events from Plugins","text","nelio-content")),r.map((function(e){var t=e.type,r=e.label;return o.createElement(_.CheckboxControl,{key:t,label:(0,p.trim)(r),checked:!n.includes(t),onChange:function(){return function(e){return u(n.includes(e)?(0,p.without)(n,e):Sr(Sr([],n,!0),[e],!1))}(t)}})}))))},Ir=function(e){return void 0===e&&(e=""),e.replace(/^https?:\/\//,"").replace(/\/.*$/,"")},Or=function(){return s((function(e){return e(c.store).getActivePlugins()})).reduce((function(e,t){switch(t){case"mailpoet/mailpoet":return Sr(Sr([],e,!0),[{type:g.MAILPOET_NEWSLETTER,label:(0,lt._x)("MailPoet Newsletters","text","nelio-content")}],!1);case"the-events-calendar/the-events-calendar":return Sr(Sr([],e,!0),[{type:g.THE_EVENTS_CAL,label:(0,lt._x)("The Events Calendar","text","nelio-content")}],!1);case"nelio-ab-testing/nelio-ab-testing":return Sr(Sr([],e,!0),[{type:g.NELIO_AB_TESTING,label:(0,lt._x)("Nelio A/B Testing","text","nelio-content")}],!1);default:return e}}),[])},kr=function(e){var t=e.className,n=s((function(e){return e(l.store).getActiveTabInFilterPane()})),r=(0,i.useDispatch)(l.store).setActiveTabInFilterPane,a=[{name:"post",title:o.createElement(_.Dashicon,{icon:"admin-post"}),className:"nelio-content-calendar-filters__tab"},{name:"social",title:o.createElement(_.Dashicon,{icon:"share"}),className:"nelio-content-calendar-filters__tab"},{name:"task",title:o.createElement(_.Dashicon,{icon:"flag"}),className:"nelio-content-calendar-filters__tab"},{name:"event",title:o.createElement(_.Dashicon,{icon:"calendar-alt"}),className:"nelio-content-calendar-filters__tab"}];return o.createElement("div",{className:w()("nelio-content-calendar-filters",t)},o.createElement(_.TabPanel,{className:"nelio-content-calendar-filters__tab-panel",activeClass:"nelio-content-calendar-filters__tab--is-active",orientation:"horizontal",initialTabName:n,tabs:a,onSelect:function(e){r(e)}},(function(e){var t=e.name;return o.createElement(o.Fragment,null,"post"===t&&o.createElement(Er,null),"social"===t&&o.createElement(wr,null),"task"===t&&o.createElement(Tr,null),"event"===t&&o.createElement(Nr,null))})))},Pr=function(e){var t=e.className,n=void 0===t?"":t,r=Mr(),a=r.notices,i=r.removeNotice;return o.createElement("div",{className:"".concat(n," nelio-content-calendar-error-pane")},o.createElement(_.NoticeList,{notices:a,onRemove:i}))},Mr=function(){return{notices:s((function(e){return e(a.store).getNotices()})),removeNotice:(0,i.useDispatch)(a.store).removeNotice}},Rr=function(e){var t=e.id,n=s((function(e){return e(c.store).getReusableMessage(t)})),r=Lr(n),a=r.summary,l=r.onDragStart,u=r.onDragEnd,d=hn({type:a.type,item:function(){return l(),a},end:u},[a]),g=(d[0],d[1]),h=(0,c.useFeatureGuard)("calendar/edit-reusable-messages"),m=(0,i.useDispatch)(it.store).openSocialMessageEditor;if(!n)return null;var f=h((function(){return!!n&&m(n,{context:"calendar",reusableMessage:n.id})}));return o.createElement("div",{ref:g,className:"nelio-content-reusable-message",onClick:function(){f()}},o.createElement(ot.SocialProfileIcon,{className:"nelio-content-calendar-social-message__profile-icon",profileId:n.profileId}),o.createElement("div",{className:"nelio-content-calendar-social-message__content"},(0,yn.doesNetworkSupport)("text",n.network)?n.textComputed:function(e){switch(e){case"auto-image":case"text":return"";case"image":return(0,lt._x)("(image)","text","nelio-content");case"video":return(0,lt._x)("(video)","text","nelio-content")}}(n.type)))},Ar={type:"unknown",id:""},Lr=function(e){var t=s((function(t){var n=t(c.store).getToday();return e?{type:"reusable-message",id:e.id,minDroppableDay:n}:void 0})),n=(0,l.useItemDragTriggers)(t),r=n.onDragStart,o=n.onDragEnd;return{summary:null!=t?t:Ar,onDragStart:r,onDragEnd:o}},Hr=function(e){var t,n=e.className,r=void 0===n?"":n,a=Ur(),s=(0,i.useDispatch)(c.store),l=s.setReusableMessageQuery,u=s.loadReusableMessages;return(0,o.useEffect)((function(){var e=setTimeout((function(){a!==ir&&(ir=a,u(a))}),void 0===ir?0:300);return function(){return clearTimeout(e)}}),[a,u]),o.createElement("div",{className:w()((t={},t[r]=!0,t["nelio-content-reusable-message-searcher"]=!0,t))},o.createElement(_.TextControl,{value:a,onChange:l,placeholder:(0,lt._x)("Search","command","nelio-content")}))},Ur=function(){return s((function(e){return e(c.store).getReusableMessageQuery()}))},jr=function(e){var t,n=e.className,r=void 0===n?"":n,a=Vr(),l=Wr(a),u=s((function(e){return e(c.store).canCurrentUserCreateMessagesAlways()})),d=s((function(e){return e(c.store).getSocialProfiles()[0]})),g=(0,c.useFeatureGuard)("calendar/create-reusable-messages",u),h=(0,i.useDispatch)(it.store).openNewSocialMessageEditor;return o.createElement("div",{className:w()((t={"nelio-content-reusable-messages":!0},t[r]=!0,t))},o.createElement("div",{className:"nelio-content-reusable-messages__title"},o.createElement("div",null,(0,lt._x)("Reusable","text (social messages)","nelio-content"))),u&&o.createElement("div",{className:"nelio-content-reusable-messages__actions"},o.createElement(_.Button,{className:"nelio-content-reusable-messages__header-button nelio-content-reusable-messages__add-item-icon",icon:"insert"}),o.createElement(_.Button,{className:"nelio-content-reusable-messages__header-button nelio-content-reusable-messages__add-reusable-message",icon:"share",label:(0,lt._x)("Add New Reusable Message","command","nelio-content"),tooltipPosition:"bottom center",disabled:!u,onClick:g((function(){return h({profileId:null==d?void 0:d.id,network:null==d?void 0:d.network,timeType:"time-interval",timeValue:"morning"},{context:"calendar",reusableMessage:!0})}))})),o.createElement(Hr,{className:"nelio-content-reusable-messages__searcher"}),o.createElement("div",{className:"nelio-content-reusable-messages__list"},!l.length&&o.createElement(Fr,null),l.map((function(e){return o.createElement(Rr,{key:e.id,id:e.id})}))),o.createElement(Br,null))},Fr=function(){var e=Vr();return"loaded"===qr(e)?o.createElement("div",{className:"nelio-content-reusable-messages__no-messages"},(0,p.trim)(e)?(0,lt._x)("No reusable messages found","text","nelio-content"):(0,lt._x)("No reusable messages","text","nelio-content")):o.createElement("div",{className:"nelio-content-reusable-messages__no-messages"},o.createElement(_.Spinner,null),o.createElement("span",null,(0,lt._x)("Loading…","text","nelio-content")))},Br=function(){var e=Vr(),t=qr(e),n=(0,i.useDispatch)(c.store).loadReusableMessages;return"pending"!==t?null:o.createElement("div",{className:"nelio-content-reusable-messages__load-more-action"},o.createElement(_.Button,{variant:"secondary",onClick:function(){n(e)}},(0,lt._x)("Load More","command (reusable messages)","nelio-content")))},Vr=function(){return s((function(e){return e(c.store).getReusableMessageQuery()}))},Wr=function(e){return s((function(t){return t(c.store).getReusableMessages(e)}))},qr=function(e){return s((function(t){return t(c.store).getReusableMessageQueryStatus(e)}))};function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zr.apply(null,arguments)}const Yr=function(e){return ke.createElement("svg",zr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 590.702 190.205"},e),sr||(sr=ke.createElement("path",{d:"M95.102 0C42.683 0 0 42.683 0 95.102c0 52.418 42.683 95.103 95.102 95.103 30.346 0 57.516-14.278 74.97-36.594l-14.34-11.216C141.587 160.479 119.755 172 95.102 172c-42.582 0-76.897-34.317-76.897-76.898 0-42.582 34.315-76.897 76.897-76.897 18.04 0 34.624 6.266 47.757 16.723L95.232 82.24 68.648 55.574 55.756 68.428l39.416 39.535 67.346-66.904-.004-.004.088.047 5.712-5.711.432-.354C151.295 13.72 124.71 0 95.102 0m110.4 15.402v79.7h13.201V28.703h46.299c3.8 0 6.9 3.099 6.9 6.899v59.5h13.301v-65.8c0-7.7-6.2-13.9-13.9-13.9zm93 0v13.301h79.701v-13.3zm93 0v65.801c0 7.7 6.2 13.899 13.9 13.899h65.801v-13.3h-59.5c-3.8 0-6.9-3.1-6.9-6.9v-59.5zm92.9 0v79.7h13.301v-79.7zm40.4 0c-7.7 0-13.8 6.201-13.8 13.801v52.1c0 7.7 6.2 13.799 13.8 13.799h52.1c7.6 0 13.801-6.2 13.801-13.8V29.204c0-7.7-6.2-13.8-13.8-13.8zm6.3 13.2h39.4c3.8 0 6.8 3.1 6.8 6.9v39.4c0 3.8-3 6.801-6.8 6.801h-39.4c-3.8 0-6.8-3-6.8-6.8V35.501c0-3.8 3-6.9 6.8-6.9m-232.6 20v13.3h79.701v-13.3zm0 33.2v13.3h79.701v-13.3z",className:"full-logo_svg__nelio-content-logo-dark"})),lr||(lr=ke.createElement("path",{d:"M174.402 53.203c-5 0-9 4-9 9 0 4.9 4 9 9 9s9-4 9-9-4-9.1-9-9m6.7 32.899c-5 0-9 4-9 9 0 4.9 4 9 9 9s9-4 9-9-4-9.1-9-9m221.3 18-5.199.601v15.7h-11.5v4.5h11.5v32.8c0 10.5 3.7 17.299 15.2 17.299 3.3 0 6.699-1.1 10.099-2.7l-1.9-4.4c-2.7 1.3-5.7 2.2-8.3 2.2-8.4 0-9.9-5.099-9.9-12.399v-32.8h18.301v-4.5h-18.3zm168.2 0-5.2.601v15.7h-11.5v4.5h11.5v32.8c0 10.5 3.7 17.299 15.2 17.299 3.3 0 6.701-1.1 10.101-2.7l-1.9-4.4c-2.7 1.3-5.701 2.2-8.301 2.2-8.4 0-9.9-5.099-9.9-12.399v-32.8h18.3v-4.5h-18.3zm-396.1 14.9c-5 0-9 4-9 9 0 4.9 4 9 9 9s9-4 9-9-4-9-9-9m115.4.4c-15.2 0-27.4 10.9-27.4 28 0 17.2 12.2 27.6 27.4 27.6s27.4-10.5 27.4-27.6-12.2-28-27.4-28m64.2 0c-7.5.1-15.1 3.2-19.2 10.6v-9.7h-5.199v53.901h5.299v-30c0-11.1 7.8-19.501 18.9-19.601 11.7-.1 19.2 6.5 19.2 18.7v31h5.3v-31.099c0-15-9.9-23.8-24.3-23.8m168.2 0c-7.5.1-15.1 3.2-19.2 10.6v-9.7h-5.2v53.901h5.301v-30c0-11.1 7.799-19.501 18.899-19.601 11.7-.1 19.2 6.5 19.2 18.7v31h5.3v-31.099c0-15-9.9-23.8-24.3-23.8m-64.9.1c-15.2 0-27.4 11.7-27.4 27.8 0 17.2 12.2 27.7 27.4 27.8 8.6 0 18-3.499 23.2-10.399l-3.8-3.101c-4 5.4-12.3 8.2-19.4 8.2-11.1 0-20.8-7.3-21.9-20h48.5c2.1-21-11.4-30.3-26.6-30.3m-224 .3c-15.6 0-27.699 10.5-27.699 27.5s12.5 27.5 27.7 27.5c7.1 0 14.099-2.599 19.599-8.099l-3.6-3.5c-4.3 4.4-10.2 6.7-16 6.7-12.2 0-22.5-8-22.5-22.5s10.3-22.5 22.5-22.5c5.7 0 11.7 2 16.1 6.4l3.5-3.4c-5.4-5.4-12.5-8.1-19.6-8.1m56.6 4.6c12.2 0 22.1 9 22.1 23s-10 22.4-22.1 22.4c-12.2 0-22.1-8.5-22.1-22.4s9.9-23 22.1-23m167.4 0c13 0 21.701 7.4 21.801 20.7h-43.701c1.2-13.2 10.8-20.7 21.9-20.7",className:"full-logo_svg__nelio-content-logo-light"})))};var Gr=function(e){var t,n=e.className,r=void 0===n?"":n,a=s((function(e){return e(c.store).getToday()})),i=(0,g.getSubscribeLink)(a,"calendar-sidebar"),l=(0,g.getSubscribeLabel)(a);return o.createElement("div",{className:w()((t={"nelio-content-calendar-subscribe-sidebar":!0},t[r]=!0,t))},o.createElement("div",{className:"nelio-content-calendar-subscribe-sidebar__logo"},o.createElement(Yr,null)),o.createElement("p",null,o.createElement("strong",null,(0,lt._x)("Maximize the potential of your blog with Nelio Content Premium","text","nelio-content"))),o.createElement("p",null,(0,lt._x)("Streamline your content creation, scheduling, and promotion on all relevant social platforms, including X, Bluesky, Instagram, or Threads.","text","nelio-content")),o.createElement("div",{className:"nelio-content-calendar-subscribe-sidebar__button-wrapper"},o.createElement(_.ExternalLink,{className:"nelio-content-calendar-subscribe-sidebar__subscribe-button components-button is-primary",href:i},l),o.createElement("p",null,(0,lt._x)("30-day money-back guarantee","text","nelio-content"))),o.createElement("div",{className:"nelio-content-calendar-subscribe-sidebar__extra-features"},o.createElement("p",null,o.createElement("strong",null,(0,lt._x)("Nelio Content Premium also gives you:","text","nelio-content"))),o.createElement("ul",null,g.PREMIUM_FEATURES.map((function(e,t){var n=e.name,r=e.description;return o.createElement("li",{key:t},o.createElement("strong",null,n)," ".concat(r))})))))},$r=function(e){var t,n=e.className,r=void 0===n?"":n,a=Xr(),i=a[0],s=a[1];return o.createElement("div",{className:w()((t={},t[r]=!0,t["nelio-content-unscheduled-post-searcher"]=!0,t))},o.createElement(_.TextControl,{value:i,placeholder:(0,lt._x)("Search","text","nelio-content"),onChange:s}))},Xr=function(){var e=s((function(e){return e(l.store).getUnscheduledPostsSearchQuery()||""})),t=(0,o.useState)(e),n=t[0],r=t[1],a=Qr(),c=a[0],u=a[1],d=(0,i.useDispatch)(l.store).loadUnscheduledPosts;(0,o.useEffect)((function(){e!==n&&(r(e),clearTimeout(c),u((function(){d(e)}),250))}),[e,n]);var g=(0,i.useDispatch)(l.store).setUnscheduledPostsQuery;return[e,g]},Qr=function(){var e=s((function(e){return e(l.store).getUnscheduledPostsSearchTimeout()})),t=(0,i.useDispatch)(l.store).setUnscheduledPostsSearchTimeout;return[e,function(e,n){return t(setTimeout(e,n))}]},Kr=function(e){var t,n=e.className,r=void 0===n?"":n,a=Zr(),i=eo(),s=i.isLoading,c=i.isFirstPageLoaded,u=i.areTherePostsToLoad,d=to(),g=$t({accept:["post"],drop:no(),collect:function(e){return{isHovered:e.canDrop()&&e.isOver()}}}),h=g[0].isHovered,m=g[1],f=(0,l.useNewPostLabel)(),p=(0,l.useCanCreatePosts)(),v=(0,l.usePostCreator)("","");return o.createElement("div",{className:w()((t={"nelio-content-unscheduled-posts":!0,"nelio-content-unscheduled-posts--is-hovered":h},t[r]=!0,t)),ref:m},o.createElement("div",{className:"nelio-content-unscheduled-posts__title"},o.createElement("div",null,(0,lt._x)("Unscheduled","text (posts)","nelio-content"))),o.createElement("div",{className:"nelio-content-unscheduled-posts__actions"},o.createElement(_.Button,{className:"nelio-content-unscheduled-posts__header-button nelio-content-unscheduled-posts__add-item-icon",icon:"insert"}),o.createElement(_.Button,{className:"nelio-content-unscheduled-posts__header-button nelio-content-unscheduled-posts__add-post",icon:"admin-post",disabled:!p,label:f,tooltipPosition:"bottom center",onClick:v})),o.createElement($r,{className:"nelio-content-unscheduled-posts__searcher"}),o.createElement("div",{className:"nelio-content-unscheduled-posts__list"},a.map((function(e){return o.createElement(jn,{key:"".concat(e.type,"-").concat(e.id),itemId:e.id,itemType:e.type})})),c&&u&&o.createElement("div",{className:"nelio-content-unscheduled-posts__load-more-action"},o.createElement(_.Button,{variant:"secondary",isBusy:s,disabled:s,onClick:d},s?(0,lt._x)("Loading…","text","nelio-content"):(0,lt._x)("Load More","command","nelio-content")))))},Jr=function(){return s((function(e){return e(l.store).getUnscheduledPostsSearchQuery()||""}))},Zr=function(){var e=Jr();return s((function(t){var n=t(c.store),r=n.getPost,o=n.getUnscheduledPosts,a=t(l.store).isItemVisible,i=(0,p.trim)(e.toLowerCase()),s=o();return i?s.filter((function(e){var t=e.id,n=r(t);return-1!==((null==n?void 0:n.title)?n.title.toLowerCase():"").indexOf(i)||"".concat(t)===i})):s.filter((function(e){var t=e.id,n=r(t);return!!n&&a("post",n)}))}))},eo=function(){var e=Jr();return s((function(t){var n=t(l.store),r=n.areThereUnscheduledPostsToLoad,o=n.getLastLoadedPageInUnscheduled;return{isLoading:(0,n.isLoadingUnscheduledPosts)(e),isFirstPageLoaded:0<o(e),areTherePostsToLoad:r(e)}}))},to=function(){var e=Jr(),t=(0,i.useDispatch)(l.store).loadUnscheduledPosts;return function(){return t(e)}},no=function(){var e=(0,i.useDispatch)(l.store),t=e.unschedulePost,n=e.dragEnd;return function(e){var r=e.type,o=e.id;"post"===r&&t(o),n()}},ro=function(){switch((0,l.useSidePane)()){case"none":return null;case"unscheduled-posts":return o.createElement(Kr,{className:"nelio-content-calendar__sidebar"});case"reusable-messages":return o.createElement(jr,{className:"nelio-content-calendar__sidebar"});case"filters":return o.createElement(kr,{className:"nelio-content-calendar__sidebar"});case"subscribe-banner":return o.createElement(Gr,{className:"nelio-content-calendar__sidebar nelio-content-calendar__sidebar--is-banner"});case"errors":return o.createElement(Pr,{className:"nelio-content-calendar__sidebar"})}},oo=function(){var e=s((function(e){return[e(l.store).getEditingExternalCalendarUrl(),e(l.store).isSavingAnExternalCalendar()]})),t=e[0],n=e[1],r=(0,i.useDispatch)(l.store).setEditingExternalCalendarUrl;return o.createElement(o.Fragment,null,o.createElement(_.TextControl,{className:"nelio-content-new-external-calendar-form__input-text",value:t,onChange:r,disabled:n,placeholder:(0,lt._x)("Write the URL of an ical calendar…","user","nelio-content")}))},ao=function(){var e=s((function(e){return[e(l.store).getEditingExternalCalendarName(),e(l.store).isSavingAnExternalCalendar()]})),t=e[0],n=e[1],r=(0,i.useDispatch)(l.store).setEditingExternalCalendarName;return o.createElement(o.Fragment,null,o.createElement(_.TextControl,{required:!0,label:(0,lt._x)("Name","text","nelio-content"),disabled:n,value:t,onChange:r,placeholder:(0,lt._x)("Name this calendar…","user","nelio-content")}))},io=function(){var e=s((function(e){return e(l.store).getExternalCalendars()}));return(0,p.isEmpty)(e)?o.createElement(o.Fragment,null,(0,lt._x)("Add your first external calendar and look at its events using Nelio’s Editorial Calendar.","user","nelio-content")," "):o.createElement(o.Fragment,null,e.map((function(e){var t=e.url;return o.createElement(so,{key:t,url:t})})))},so=function(e){var t,n=e.url,r=s((function(e){return e(l.store).isAddingAnExternalCalendar()})),a=s((function(e){return e(l.store).isDeletingExternalCalendar(n)})),c=s((function(e){return e(l.store).getExternalCalendar(n)})),u=null!==(t=null==c?void 0:c.name)&&void 0!==t?t:"",d=(0,i.useDispatch)(l.store),g=d.openExternalCalendarEditor,h=d.deleteExternalCalendar;return o.createElement("div",{className:w()({"nelio-content-external-calendar-manager__item":!0,"nelio-content-external-calendar-manager__item--is-deleting":a})},o.createElement("div",{className:"nelio-content-external-calendar-manager__item-name"},u),o.createElement("div",{className:"nelio-content-external-calendar-manager__item-url"},a?o.createElement("span",null,n):o.createElement(_.ExternalLink,{href:n},n)),a?o.createElement("div",{className:"nelio-content-external-calendar-manager__item-feedback"},o.createElement(ot.DeleteButton,{isDeleting:!0,onClick:function(){}})):o.createElement("div",{className:"nelio-content-external-calendar-manager__item-actions"},o.createElement(_.Button,{variant:"link",disabled:r,onClick:function(){return g({url:n,name:u})}},(0,lt._x)("Edit","command","nelio-content"))," | ",o.createElement(ot.DeleteButton,{disabled:r,onClick:function(){return h(n)}})))},lo=function(){var e=co(),t=s((function(e){return{url:e(l.store).getEditingExternalCalendarUrl(),name:e(l.store).getEditingExternalCalendarName()}})),n=(0,i.useDispatch)(l.store),r=n.closeExternalCalendarEditor,a=n.manageExternalCalendars,c=n.openExternalCalendarEditor,u=n.saveExternalCalendar,d=n.addExternalCalendar,h={label:(0,lt._x)("Add Calendar","command","nelio-content"),onClick:c},m=t.url,f={label:(0,lt._x)("Add Calendar","command","nelio-content"),onClick:(0,g.isUrl)(m)?function(){return d(m)}:void 0},p={label:(0,lt._x)("Update Calendar","command","nelio-content"),onClick:function(){return u({url:t.url,name:t.name})}},v={label:(0,lt._x)("Close","command","nelio-content"),onClick:function(){return a(!1)}},E={label:(0,lt._x)("Back","command","nelio-content"),onClick:r};switch(e){case"hidden":return null;case"view":return o.createElement(uo,{title:(0,lt._x)("External Calendar Management","text","nelio-content"),content:io,actions:[v,h]});case"create":return o.createElement(uo,{title:(0,lt._x)("Add External Calendar","text","nelio-content"),content:oo,actions:[E,f]});case"edit":return o.createElement(uo,{title:(0,lt._x)("Edit External Calendar","text","nelio-content"),content:ao,actions:[E,p]})}},co=function(){return s((function(e){if(!e(l.store).isManagingExternalCalendars())return"hidden";var t=e(l.store).getExternalCalendarEditorMode();return"none"===t?"view":t}))},uo=function(e){var t,n,r=e.title,a=e.content,i=e.actions,c=i[0],u=i[1],d=s((function(e){return[e(l.store).isSavingAnExternalCalendar()||e(l.store).isAddingAnExternalCalendar(),e(l.store).isDeletingAnExternalCalendar()]})),g=d[0],h=d[1],m=g||h;return o.createElement(_.Modal,{title:r,isDismissible:!1,onRequestClose:function(){},className:"nelio-content-external-calendar-manager"},o.createElement("div",{className:"nelio-content-external-calendar-manager__content"},o.createElement(a,null)),o.createElement("div",{className:"nelio-content-external-calendar-manager__actions"},o.createElement(_.Button,{variant:"secondary",onClick:null!==(t=c.onClick)&&void 0!==t?t:function(){},disabled:m||!c.onClick},c.label),o.createElement(_.Button,{variant:"primary",onClick:null!==(n=u.onClick)&&void 0!==n?n:function(){},disabled:m||!u.onClick,isBusy:g},u.label)))},go=function(){var e=s((function(e){return e(l.store).getRecurringAction()})),t=(0,i.useDispatch)(l.store),n=t.closeRecurringDialog,r=t.deleteSocialMessage,a=t.rescheduleSocialMessage;if(!e)return null;var c=e.type,u=ho(c);return o.createElement(_.Modal,{title:u.title,isDismissible:!1,onRequestClose:function(){}},o.createElement("div",{className:"nelio-content-recurring-dialog-mode"},o.createElement(_.Button,{variant:"secondary",onClick:function(){switch(c){case"trash":r(e.props.id),n();break;case"reschedule":a(e.props.id,e.props.day,e.props.hour,"disable-recurrence"),n();break;default:(0,g.assertUnreachable)(c)}}},u.one),o.createElement(_.Button,{variant:"primary",onClick:function(){switch(c){case"trash":r(e.props.id,"following"),n();break;case"reschedule":a(e.props.id,e.props.day,e.props.hour),n();break;default:(0,g.assertUnreachable)(c)}}},u.following)))},ho=function(e){switch(e){case"trash":return{title:(0,lt._x)("Recurring Message Trash","text","nelio-content"),one:(0,lt._x)("Trash This Message","command","nelio-content"),following:(0,lt._x)("Trash This and Following Messages","command","nelio-content")};case"reschedule":return{title:(0,lt._x)("Recurring Message Reschedule","text","nelio-content"),one:(0,lt._x)("Update This Message","command","nelio-content"),following:(0,lt._x)("Update This and Following Messages","command","nelio-content")}}},mo=function(){var e=fo(),t=po(null==e?void 0:e.postId),n=vo(e),r=n.assignee,a=n.assigner,s=(0,i.useDispatch)(l.store).openTaskViewerDialog,c=function(){return s()};return e?o.createElement(ot.LoadingModal,{className:"nelio-content-calendar-task-viewer",isLoading:"loading"===t.status,title:(0,lt._x)("Task Details","text","nelio-content"),onClose:c},o.createElement("ul",{className:"nelio-content-calendar-task-viewer__content"},o.createElement("li",null,o.createElement("strong",null,(0,lt._x)("Task:","text","nelio-content"))," ".concat(e.task)),o.createElement("li",null,o.createElement("strong",null,(0,lt._x)("Assignee:","text","nelio-content"))," ",r||(0,lt._x)("Unknown user","text","nelio-content")),o.createElement("li",null,o.createElement("strong",null,(0,lt._x)("Creator:","text","nelio-content"))," ",a||(0,lt._x)("Unknown user","text","nelio-content")),"error"===t.status&&o.createElement("li",null,o.createElement("strong",null,(0,lt._x)("Related Post:","text","nelio-content"))," ",(0,lt._x)("Related post could not be loaded","text","nelio-content")),"loaded"===t.status&&o.createElement("li",null,o.createElement("strong",null,(0,lt._x)("Related Post:","text","nelio-content"))," ",o.createElement(_.ExternalLink,{href:t.post.permalink},t.post.title))),o.createElement("div",{className:"nelio-content-calendar-task-viewer__actions"},o.createElement(_.Button,{variant:"secondary",onClick:c},(0,lt._x)("Close","command","nelio-content")))):null},fo=function(){return s((function(e){var t=e(c.store).getTask,n=(0,e(l.store).getTaskIdInTaskViewer)();return n?t(n):void 0}))},po=function(e){return s((function(t){if(!e)return{status:"none"};var n=t(c.store).getPost(e);return n?{post:n,status:"loaded"}:{status:t(c.store).isResolving("getPost",[e])?"loading":"error"}}))},vo=function(e){return{assignee:(0,c.useAuthorName)(null==e?void 0:e.assigneeId),assigner:(0,c.useAuthorName)(null==e?void 0:e.assignerId)}},Eo=function(){var e=(0,l.useFirstDay)(),t=(0,l.useNumberOfVisibleDays)(),n=(0,l.useSidePane)(),r=(0,ot.getPremiumComponent)("calendar/future-action-editor","null");return o.createElement(o.StrictMode,null,o.createElement(_.SlotFillProvider,null,o.createElement(bo,null,o.createElement("div",{className:"nelio-content-calendar"},o.createElement(rn,{className:"nelio-content-calendar__header"}),o.createElement(ur,{className:w()({"nelio-content-calendar__grid":!0,"nelio-content-calendar__grid--has-sidebar":"none"!==n,"nelio-content-calendar__grid--has-banner-sidebar":"subscribe-banner"===n}),firstDay:e,numberOfDays:t}),o.createElement(ro,null))),o.createElement(Dt,null),o.createElement(lo,null),o.createElement(go,null),o.createElement(at.PostQuickEditor,{context:"calendar"}),o.createElement(it.SocialMessageEditor,null),o.createElement(r,null),o.createElement(st.TaskEditor,null),o.createElement(mo,null),o.createElement(ot.PremiumDialog,null),o.createElement(ot.ContextualHelp,{context:"editorial-calendar",component:function(){return null},autostart:!0,walkthrough:ct}),o.createElement(_.Popover.Slot,null)))},bo=function(e){var t=e.children;return o.createElement(Ae,{backend:rt},t)},yo=function(){return yo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yo.apply(this,arguments)},_o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Co(e,t){var n=t.externalCalendars,r=_o(t,["externalCalendars"]),a=(0,i.dispatch)(l.store),s=a.initCalendarSettings,m=a.loadPreviousFilters,E=a.loadItemsNow,b=a.loadUnscheduledPosts,y=a.receiveExternalCalendars;s(yo(yo({},r),function(){var e={},t=(0,g.getValue)("calendarMode");void 0!==t&&(e=h(h({},e),{calendarMode:t}));var n=(0,g.getValue)("calendarSidePane");return void 0!==n&&(e=h(h({},e),{sidePane:n})),e}())),y(n),m(function(){var e;return null!==(e=(0,g.getValue)("calendarFilters"))&&void 0!==e?e:{}}()),function(){var e=function(){var e=document.location.href,t=(0,u.getQueryArg)(e,"day");if("string"==typeof t&&/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(t))return t;var n=(0,u.getQueryArg)(e,"date");return"string"==typeof n&&/^[0-9]{4}-[0-9]{2}$/.test(n)?"".concat(n,"-01"):""}();e&&(0,i.dispatch)(l.store).setFocusDay(e);var t=(0,i.select)(l.store).getSettings,n=t();d(n.calendarMode,n.focusDay),(0,i.subscribe)((function(){var e=t();e.calendarMode===n.calendarMode&&e.focusDay===n.focusDay||(n=e,d(e.calendarMode,e.focusDay))}))}(),E(),b();var _=(0,i.select)(c.store),C=_.getInternalEvents,w=_.getExternalEvents;C(),n.forEach((function(e){var t=e.url;w(t)}));var D,x,T,S,N,I,O=document.getElementById(e);D=o.createElement(Eo,null),(x=O)&&(o.createRoot?(0,o.createRoot)(x).render(D):(0,o.render)(D,x)),S=(T=function(){return{calendarMode:(0,i.select)(l.store).getCalendarMode(),sidePane:(0,i.select)(l.store).getSidePane(),filters:(0,i.select)(l.store).getFilters()}})(),(0,i.subscribe)((function(){var e=T();e.calendarMode!==S.calendarMode&&(0,g.setValue)("calendarMode",e.calendarMode),e.sidePane!==S.sidePane&&(0,g.setValue)("calendarSidePane",e.sidePane),e.filters!==S.filters&&(0,g.setValue)("calendarFilters",e.filters),S=e})),(I=document.getElementById("collapse-button"))&&(I.addEventListener("click",(0,p.debounce)(v,50)),I.addEventListener("click",(0,p.debounce)(v,250))),window.addEventListener("resize",(0,p.debounce)(v,250)),N=(0,i.select)(l.store).getCalendarMode(),(0,i.subscribe)((function(){var e=(0,i.select)(l.store).getCalendarMode();e!==N&&(N=e,v())})),v(),f(v)}},2017:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=r;0!=o--;){var i=a[o];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}},1020:(e,t,n)=>{"use strict";var r=n(1609),o=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var r,l={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:l,_owner:i.current}}},4848:(e,t,n)=>{"use strict";e.exports=n(1020)},1609:e=>{"use strict";e.exports=window.React},6942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,n,o,a)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],a=e[u][2];for(var s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={9719:0,1036:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,i=n[0],s=n[1],l=n[2],c=0;if(i.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(t&&t(n);c<i.length;c++)a=i[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},n=self.webpackChunkNelioContent=self.webpackChunkNelioContent||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[1036],(()=>r(3804)));o=r.O(o);var a=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var i in o)a[i]=o[i];o.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})();