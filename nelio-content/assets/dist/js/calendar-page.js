(()=>{var e,t={2017:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(s=r;0!=s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=r;0!=s--;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;0!=s--;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}},5049:(e,t,n)=>{"use strict";n.r(t),n.d(t,{initPage:()=>ms});var r={};n.r(r),n.d(r,{FILE:()=>Fe,HTML:()=>$e,TEXT:()=>Ve,URL:()=>Be});const s=window.ReactJSXRuntime,o=window.wp.domReady,i=n.n(o)(),a=window.wp.notices,l=window.wp.element,c=window.wp.data;function d(e,t){return(0,c.subscribe)(e,t)}function u(e,t){return(0,c.useSelect)(e,t)}const h=window.NelioContent.calendar,g=window.NelioContent.data,p=window.wp.url;function m(e,t){const n=(0,p.removeQueryArgs)(document.location.href,"date","day"),r="month"===e?(0,p.addQueryArgs)(n,{date:t.substring(0,7)}):(0,p.addQueryArgs)(n,{day:t});window.history.replaceState(null,"",r)}const f=window.NelioContent.utils,v=window.lodash;function x(){const e=document.querySelector(".nelio-content-calendar__grid");if(!e)return;e.style.display="none";const t=function(){const e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}();e.removeAttribute("style");const n=document.getElementById("wpadminbar"),r=document.querySelector(".nelio-content-calendar__header"),s=document.querySelector(".nelio-content-grid__header"),o=t-_(n)-_(r)-_(s),i=(0,c.select)(h.store).getCalendarMode(),{setCalendarDimensions:a}=(0,c.dispatch)(h.store);switch(i){case"agenda":case"month":return void a({adminSidebarWidth:b(),calendarWidth:y(),minRowHeight:o/6-1});case"two-weeks":return void a({adminSidebarWidth:b(),calendarWidth:y(),minRowHeight:o/2-1});default:return void a({adminSidebarWidth:b(),calendarWidth:y(),minRowHeight:o-1})}}function b(){const e=document.getElementById("adminmenu");return e?Math.round(e.getBoundingClientRect().width):0}function y(){const e=document.getElementById("nelio-content-page");return e?Math.round(e.getBoundingClientRect().width):0}function _(e){return e?e.getBoundingClientRect().height:0}const C=window.wp.components;function w(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=w(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const D=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=w(e))&&(r&&(r+=" "),r+=t);return r};function j(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var T="function"==typeof Symbol&&Symbol.observable||"@@observable",S=function(){return Math.random().toString(36).substring(7).split("").join(".")},N={INIT:"@@redux/INIT"+S(),REPLACE:"@@redux/REPLACE"+S(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+S()}};function I(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(j(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(j(1));return n(I)(e,t)}if("function"!=typeof e)throw new Error(j(2));var s=e,o=t,i=[],a=i,l=!1;function c(){a===i&&(a=i.slice())}function d(){if(l)throw new Error(j(3));return o}function u(e){if("function"!=typeof e)throw new Error(j(4));if(l)throw new Error(j(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(j(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),i=null}}}function h(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(j(7));if(void 0===e.type)throw new Error(j(8));if(l)throw new Error(j(9));try{l=!0,o=s(o,e)}finally{l=!1}for(var t=i=a,n=0;n<t.length;n++)(0,t[n])();return e}return h({type:N.INIT}),(r={dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(j(10));s=e,h({type:N.REPLACE})}})[T]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(j(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[T]=function(){return this},e},r}function E(e,t,...n){if("undefined"!=typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;e=new Error(t.replace(/%s/g,(function(){return n[r++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function O(e){return"object"==typeof e}const P="dnd-core/INIT_COORDS",k="dnd-core/BEGIN_DRAG",M="dnd-core/PUBLISH_DRAG_SOURCE",R="dnd-core/HOVER",A="dnd-core/DROP",L="dnd-core/END_DRAG";function H(e,t){return{type:P,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const U={type:P,payload:{clientOffset:null,sourceClientOffset:null}};function F(e){return function(t=[],n={publishSource:!0}){const{publishSource:r=!0,clientOffset:s,getSourceClientOffset:o}=n,i=e.getMonitor(),a=e.getRegistry();e.dispatch(H(s)),function(e,t,n){E(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){E(n.getSource(e),"Expected sourceIds to be registered.")}))}(t,i,a);const l=function(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,i);if(null==l)return void e.dispatch(U);let c=null;if(s){if(!o)throw new Error("getSourceClientOffset must be defined");!function(e){E("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(o),c=o(l)}e.dispatch(H(s,c));const d=a.getSource(l).beginDrag(i,l);if(null==d)return;!function(e){E(O(e),"Item must be an object.")}(d),a.pinSource(l);const u=a.getSourceType(l);return{type:k,payload:{itemType:u,item:d,sourceId:l,clientOffset:s||null,sourceClientOffset:c||null,isSourcePublic:!!r}}}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}function $(e){return function(t={}){const n=e.getMonitor(),r=e.getRegistry();!function(e){E(e.isDragging(),"Cannot call drop while not dragging."),E(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const s=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);s.forEach(((s,o)=>{const i=function(e,t,n,r){const s=n.getTarget(e);let o=s?s.drop(r,e):void 0;return function(e){E(void 0===e||O(e),"Drop result must either be an object or undefined.")}(o),void 0===o&&(o=0===t?{}:r.getDropResult()),o}(s,o,r,n),a={type:A,payload:{dropResult:V({},t,i)}};e.dispatch(a)}))}}function W(e){return function(){const t=e.getMonitor(),n=e.getRegistry();!function(e){E(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const r=t.getSourceId();return null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource()),{type:L}}}function q(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function z(e){return function(t,{clientOffset:n}={}){!function(e){E(Array.isArray(e),"Expected targetIds to be an array.")}(t);const r=t.slice(0),s=e.getMonitor(),o=e.getRegistry();return function(e,t,n){for(let r=e.length-1;r>=0;r--){const s=e[r];q(t.getTargetType(s),n)||e.splice(r,1)}}(r,o,s.getItemType()),function(e,t,n){E(t.isDragging(),"Cannot call hover while not dragging."),E(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){const r=e[t];E(e.lastIndexOf(r)===t,"Expected targetIds to be unique in the passed array."),E(n.getTarget(r),"Expected targetIds to be registered.")}}(r,s,o),function(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}(r,s,o),{type:R,payload:{targetIds:r,clientOffset:n||null}}}}function Y(e){return function(){if(e.getMonitor().isDragging())return{type:M}}}class G{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store,n=function(e){return{beginDrag:F(e),publishDragSource:Y(e),hover:z(e),drop:$(e),endDrag:W(e)}}(this);return Object.keys(n).reduce(((r,s)=>{const o=n[s];var i;return r[s]=(i=o,(...n)=>{const r=i.apply(e,n);void 0!==r&&t(r)}),r}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function X(e,t){return{x:e.x-t.x,y:e.y-t.y}}const Q=[],K=[];Q.__IS_NONE__=!0,K.__IS_ALL__=!0;class J{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;E("function"==typeof e,"listener must be a function."),E(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),s=t.stateId;try{const o=s===r||s===r+1&&!function(e,t){return e!==Q&&(e===K||void 0===t||(n=e,t.filter((e=>n.indexOf(e)>-1))).length>0);var n}(t.dirtyHandlerIds,n);o||e()}finally{r=s}}))}subscribeToOffsetChange(e){E("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==t&&(t=n,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return E(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);return E(t,`Expected to find a valid target. targetId=${e}`),!(!this.isDragging()||this.didDrop())&&(q(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e))}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);return E(t,`Expected to find a valid source. sourceId=${e}`),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),s=this.getItemType();if(s&&!q(r,s))return!1;const o=this.getTargetIds();if(!o.length)return!1;const i=o.indexOf(e);return n?i===o.length-1:i>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return t&&n&&r?X((o=r,{x:(s=t).x+o.x,y:s.y+o.y}),n):null;var s,o}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:n}=e;return t&&n?X(t,n):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const Z="undefined"!=typeof global?global:self,ee=Z.MutationObserver||Z.WebKitMutationObserver;function te(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const ne="function"==typeof ee?function(e){let t=1;const n=new ee(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:te;class re{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const se=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=ne(this.flush),this.requestErrorThrow=te((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},oe=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new re(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(se.registerPendingError),ie="dnd-core/ADD_SOURCE",ae="dnd-core/ADD_TARGET",le="dnd-core/REMOVE_SOURCE",ce="dnd-core/REMOVE_TARGET";function de(e,t){t&&Array.isArray(e)?e.forEach((e=>de(e,!1))):E("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ue;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(ue||(ue={}));let he=0;function ge(e){switch(e[0]){case"S":return ue.SOURCE;case"T":return ue.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function pe(e,t){const n=e.entries();let r=!1;do{const{done:e,value:[,s]}=n.next();if(s===t)return!0;r=!!e}while(!r);return!1}class me{addSource(e,t){de(e),function(e){E("function"==typeof e.canDrag,"Expected canDrag to be a function."),E("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),E("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);const n=this.addHandler(ue.SOURCE,e,t);return this.store.dispatch(function(e){return{type:ie,payload:{sourceId:e}}}(n)),n}addTarget(e,t){de(e,!0),function(e){E("function"==typeof e.canDrop,"Expected canDrop to be a function."),E("function"==typeof e.hover,"Expected hover to be a function."),E("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);const n=this.addHandler(ue.TARGET,e,t);return this.store.dispatch(function(e){return{type:ae,payload:{targetId:e}}}(n)),n}containsHandler(e){return pe(this.dragSources,e)||pe(this.dropTargets,e)}getSource(e,t=!1){return E(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return E(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return E(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return E(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return ge(e)===ue.SOURCE}isTargetId(e){return ge(e)===ue.TARGET}removeSource(e){var t;E(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:le,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},se.enqueueTask(oe.create(t))}removeTarget(e){E(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:ce,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);E(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){E(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const r=function(e){const t=(he++).toString();switch(e){case ue.SOURCE:return`S${t}`;case ue.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}(e);return this.types.set(r,t),e===ue.SOURCE?this.dragSources.set(r,n):e===ue.TARGET&&this.dropTargets.set(r,n),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const fe=(e,t)=>e===t;function ve(e=Q,t){switch(t.type){case R:break;case ie:case ae:case ce:case le:return Q;default:return K}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,s=function(e,t){const n=new Map,r=e=>{n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);const s=[];return n.forEach(((e,t)=>{1===e&&s.push(t)})),s}(n,r);if(!(s.length>0)&&function(e,t,n=fe){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(n,r))return Q;const o=r[r.length-1],i=n[n.length-1];return o!==i&&(o&&s.push(o),i&&s.push(i)),s}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const be={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function ye(e=be,t){const{payload:n}=t;switch(t.type){case P:case k:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case R:return r=e.clientOffset,s=n.clientOffset,!r&&!s||r&&s&&r.x===s.x&&r.y===s.y?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xe(e,t,n[t])}))}return e}({},e,{clientOffset:n.clientOffset});case L:case A:return be;default:return e}var r,s}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_e(e,t,n[t])}))}return e}const we={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function De(e=we,t){const{payload:n}=t;switch(t.type){case k:return Ce({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case M:return Ce({},e,{isSourcePublic:!0});case R:return Ce({},e,{targetIds:n.targetIds});case ce:return-1===e.targetIds.indexOf(n.targetId)?e:Ce({},e,{targetIds:(r=e.targetIds,s=n.targetId,r.filter((e=>e!==s)))});case A:return Ce({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case L:return Ce({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var r,s}function je(e=0,t){switch(t.type){case ie:case ae:return e+1;case le:case ce:return e-1;default:return e}}function Te(e=0){return e+1}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Se(e,t,n[t])}))}return e}function Ie(e={},t){return{dirtyHandlerIds:ve(e.dirtyHandlerIds,{type:t.type,payload:Ne({},t.payload,{prevTargetIds:(n=e,r=[],"dragOperation.targetIds".split(".").reduce(((e,t)=>e&&e[t]?e[t]:r||null),n))})}),dragOffset:ye(e.dragOffset,t),refCount:je(e.refCount,t),dragOperation:De(e.dragOperation,t),stateId:Te(e.stateId)};var n,r}function Ee(e,t=void 0,n={},r=!1){const s=function(e){const t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return I(Ie,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(r),o=new J(s,new me(s)),i=new G(s,o),a=e(i,t,n);return i.receiveBackend(a),i}const Oe=window.React,Pe=(0,Oe.createContext)({dragDropManager:void 0});let ke=0;const Me=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Re=(0,Oe.memo)((function(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,["children"]);const[r,o]=function(e){if("manager"in e)return[{dragDropManager:e.manager},!1];return[function(e,t=Ae(),n,r){const s=t;return s[Me]||(s[Me]={dragDropManager:Ee(e,t,n,r)}),s[Me]}(e.backend,e.context,e.options,e.debugMode),!e.context]}(n);return(0,Oe.useEffect)((()=>{if(o){const e=Ae();return++ke,()=>{0==--ke&&(e[Me]=null)}}}),[]),(0,s.jsx)(Pe.Provider,{value:r,children:t})}));function Ae(){return"undefined"!=typeof global?global:window}function Le(e){let t=null;return()=>(null==t&&(t=e()),t)}class He{enter(e){const t=this.entered.length;return this.entered=function(e,t){const n=new Set,r=e=>n.add(e);e.forEach(r),t.forEach(r);const s=[];return n.forEach((e=>s.push(e))),s}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var n,r;return this.entered=(n=this.entered.filter(this.isNodeInDocument),r=e,n.filter((e=>e!==r))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Ue{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((n=>{const r=this.config.exposeProperties[n];null!=r&&(t[n]={value:r(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Fe="__NATIVE_FILE__",Be="__NATIVE_URL__",Ve="__NATIVE_TEXT__",$e="__NATIVE_HTML__";function We(e,t,n){const r=t.reduce(((t,n)=>t||e.getData(n)),"");return null!=r?r:n}const qe={[Fe]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[$e]:{exposeProperties:{html:(e,t)=>We(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Be]:{exposeProperties:{urls:(e,t)=>We(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Ve]:{exposeProperties:{text:(e,t)=>We(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function ze(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(qe).filter((e=>{const n=qe[e];return!!(null==n?void 0:n.matchesTypes)&&n.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const Ye=Le((()=>/firefox/i.test(navigator.userAgent))),Ge=Le((()=>Boolean(window.safari)));class Xe{interpolate(e){const{xs:t,ys:n,c1s:r,c2s:s,c3s:o}=this;let i=t.length-1;if(e===t[i])return n[i];let a,l=0,c=o.length-1;for(;l<=c;){a=Math.floor(.5*(l+c));const r=t[a];if(r<e)l=a+1;else{if(!(r>e))return n[a];c=a-1}}i=Math.max(0,c);const d=e-t[i],u=d*d;return n[i]+r[i]*d+s[i]*u+o[i]*d*u}constructor(e,t){const{length:n}=e,r=[];for(let e=0;e<n;e++)r.push(e);r.sort(((t,n)=>e[t]<e[n]?-1:1));const s=[],o=[],i=[];let a,l;for(let r=0;r<n-1;r++)a=e[r+1]-e[r],l=t[r+1]-t[r],o.push(a),s.push(l),i.push(l/a);const c=[i[0]];for(let e=0;e<o.length-1;e++){const t=i[e],n=i[e+1];if(t*n<=0)c.push(0);else{a=o[e];const r=o[e+1],s=a+r;c.push(3*s/((s+r)/t+(s+a)/n))}}c.push(i[i.length-1]);const d=[],u=[];let h;for(let e=0;e<c.length-1;e++){h=i[e];const t=c[e],n=1/o[e],r=t+c[e+1]-h-h;d.push((h-t-r)*n),u.push(r*n*n)}this.xs=e,this.ys=t,this.c1s=c,this.c2s=d,this.c3s=u}}function Qe(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Ke(e){return{x:e.clientX,y:e.clientY}}class Je{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ze(e,t,n[t])}))}return e}class tt{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const r=t=>this.handleDragStart(t,e),s=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",s),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=t=>this.handleDragEnter(t,e),r=t=>this.handleDragOver(t,e),s=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",s),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return et({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return et({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(r).some((t=>r[t]===e))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const n=qe[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new Ue(n);return r.loadDataTransfer(t),r}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&Qe(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const n=Ke(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});const{dataTransfer:r}=e,s=ze(r);if(this.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),s=this.sourcePreviewNodes.get(e)||t;if(s){const{anchorX:e,anchorY:o,offsetX:i,offsetY:a}=this.getCurrentSourcePreviewNodeOptions(),l=function(e,t,n,r,s){const o="IMG"===(i=t).nodeName&&(Ye()||!(null===(a=document.documentElement)||void 0===a?void 0:a.contains(i)));var i,a;const l=Qe(o?e:t),c={x:n.x-l.x,y:n.y-l.y},{offsetWidth:d,offsetHeight:u}=e,{anchorX:h,anchorY:g}=r,{dragPreviewWidth:p,dragPreviewHeight:m}=function(e,t,n,r){let s=e?t.width:n,o=e?t.height:r;return Ge()&&e&&(o/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:o}}(o,t,d,u),{offsetX:f,offsetY:v}=s,x=0===v||v;return{x:0===f||f?f:new Xe([0,.5,1],[c.x,c.x/d*p,c.x+p-d]).interpolate(h),y:x?v:(()=>{let e=new Xe([0,.5,1],[c.y,c.y/u*m,c.y+m-u]).interpolate(g);return Ge()&&o&&(e+=(window.devicePixelRatio-1)*m),e})()}}(t,s,n,{anchorX:e,anchorY:o},{offsetX:i,offsetY:a});r.setDragImage(s,l.x,l.y)}}try{null==r||r.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(s)this.beginDragNativeItem(s);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)),!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:n}=e,r=ze(n);r&&this.beginDragNativeItem(r,n)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:Ke(e)}),t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=e=>{var t;this.dragOverTargetIds=[],this.isDraggingNativeItem()&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=Ke(e),this.scheduleHover(t),(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;this.dropTargetIds=[],this.isDraggingNativeItem()?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):ze(e.dataTransfer)&&e.preventDefault(),this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:Ke(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new Je(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new He(this.isNodeInDocument)}}const nt=function(e,t,n){return new tt(e,t,n)},rt=window.NelioContent.components,st=window.NelioContent.postQuickEditor,ot=window.NelioContent.socialMessageEditor,it=window.NelioContent.taskEditor,at=window.wp.i18n,lt=[{title:(0,at._x)("Editorial Calendar","text","nelio-content"),intro:(0,at._x)("Welcome to Nelio Content’s Editorial Calendar, an outstanding overview of all your WordPress and social media content.","user","nelio-content")},{title:(0,at._x)("Editorial Calendar","text","nelio-content"),intro:(0,at._x)("The calendar shows all your posts, social messages, and editorial tasks. You can drag-and-drop any item in the calendar to reschedule it to a different day or click on them to open a quick editor modal.","user","nelio-content")},{title:(0,at._x)("Add Items","text","nelio-content"),intro:(0,at._x)("Use this button to add new posts, social messages, or tasks in the calendar. You can also hover over any (non-past) day in the calendar to reveal the same set of actions to create items for that specific day.","user","nelio-content"),element:()=>document.querySelector(".nelio-content-item-creation-button")},{title:(0,at._x)("Filters","text","nelio-content"),intro:(0,at._x)("Use this option to open the filter panel and select which elements should be visible in the calendar. When there are active filters, the color of this button will be different.","user","nelio-content"),element:()=>document.querySelector(".nelio-content-header__toolbar-button--is-filter")},{title:(0,at._x)("Unscheduled Items","text","nelio-content"),intro:(0,at._x)("This button toggles the “Unscheduled” posts panel. When enabled, you’ll be able to drag-and-drop items from and to the “Unscheduled” area to (un)schedule them.","user","nelio-content"),element:()=>document.querySelector(".nelio-content-header__toolbar-button--is-unscheduled")},{title:(0,at._x)("More Options","text","nelio-content"),intro:(0,at._x)("Under this menu, you’ll find some additional options like, for example, changing the calendar view, pausing the publication of any scheduled messages on your social media, exporting the calendar to CSV, or clearing all your active filters.","user","nelio-content"),element:()=>document.querySelector(".nelio-content-header__toolbar-button--is-more")}],ct=window.moment;var dt=n.n(ct);const ut=window.NelioContent.date,ht=({isBlurred:e})=>{const t=u((e=>e(g.store).getFirstDayOfWeek())),n=u((e=>e(h.store).getCalendarMode())),r=u((e=>e(h.store).getFirstDay(t))),o=u((e=>e(h.store).getLastDay(t)));if(!r)return null;if("month"===n){const e=dt()(r).add(15,"days"),t=(0,v.upperFirst)((0,ut.dateI18n)("F",e)),n=(0,ut.dateI18n)("Y",e);return(0,s.jsxs)("h2",{className:"nelio-content-period-label",children:[t," ",n]})}const i=(0,v.upperFirst)((0,ut.dateI18n)("F",r)),a=(0,v.upperFirst)((0,ut.dateI18n)("F",o)),l=(0,ut.dateI18n)("Y",r),c=(0,ut.dateI18n)("Y",o);if(i===a&&l===c)return(0,s.jsxs)("h2",{className:D({"nelio-content-period-label":!0,"nelio-content-period-label--is-blurred":e}),children:[i," ",l]});const d=(0,v.upperFirst)((0,ut.dateI18n)("M",r)),p=(0,v.upperFirst)((0,ut.dateI18n)("M",o));return l===c?(0,s.jsx)("h2",{className:D({"nelio-content-period-label":!0,"nelio-content-period-label--is-blurred":e}),children:(0,at.sprintf)(/* translators: 1 -> month, 2 -> month, 3 -> year */ /* translators: 1 -> month, 2 -> month, 3 -> year */
(0,at._x)("%1$s – %2$s %3$s","text (M-M Y)","nelio-content"),d,p,l)}):(0,s.jsx)("h2",{className:D({"nelio-content-period-label":!0,"nelio-content-period-label--is-blurred":e}),children:(0,at.sprintf)(/* translators: 1 -> month, 2 -> year, 3 -> month, 4 -> year */ /* translators: 1 -> month, 2 -> year, 3 -> month, 4 -> year */
(0,at._x)("%1$s %2$s – %3$s %4$s","text (M Y-M Y)","nelio-content"),d,l,p,c)})};var gt;function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(null,arguments)}const mt=function(e){return Oe.createElement("svg",pt({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true",className:"today_svg__dashicon today_svg__dashicons-calendar-alt"},e),gt||(gt=Oe.createElement("path",{d:"M6.5 1.5c-.41 0-.77.15-1.06.44C5.15 2.24 5 2.59 5 3v1H2v15h16V4h-3V3c0-.41-.15-.76-.44-1.06-.29-.29-.65-.44-1.06-.44s-.77.15-1.06.44c-.29.3-.44.65-.44 1.06v1H8V3c0-.41-.15-.76-.44-1.06-.29-.29-.65-.44-1.06-.44m0 1c.14 0 .26.05.35.15.1.09.15.21.15.35v2.5q0 .21-.15.36c-.09.09-.21.14-.35.14s-.26-.05-.35-.14A.5.5 0 0 1 6 5.5V3c0-.14.05-.26.15-.35.09-.1.21-.15.35-.15m7 0q.21 0 .36.15c.09.09.14.21.14.35v2.5c0 .14-.05.26-.14.36-.1.09-.22.14-.36.14s-.26-.05-.36-.14A.52.52 0 0 1 13 5.5V3c0-.14.05-.26.14-.35q.15-.15.36-.15M3 8h14v10H3zm10.344 1.752L9.676 13.42l-2.121-2.121-1.414 1.414 2.12 2.121 1.415 1.414 1.414-1.414 3.668-3.668z"})))},ft=({className:e=""})=>{const t=(0,h.useToday)(),n=(0,h.useNewPostLabel)(),r=(0,h.useCanCreatePosts)(),o=(0,h.useCanCreateMessages)(),i=(0,h.useCanCreateTasks)(),a=(0,h.useDefaultTime)("post"),l=(0,h.usePostCreator)(t,a),c=(0,h.useDefaultTime)("social"),d=(0,h.useMessageCreator)(t,c),u=(0,h.useTaskCreator)(t);return(0,s.jsx)(C.DropdownMenu,{className:`nelio-content-item-creation-button ${e}`,icon:"plus",label:(0,at._x)("Create Item","command","nelio-content"),toggleProps:{variant:"primary",tooltipPosition:"bottom center"},children:({onClose:e})=>(0,s.jsxs)(C.MenuGroup,{children:[(0,s.jsx)(C.MenuItem,{role:"menuitem",icon:"admin-post",disabled:!r,onClick:()=>{e(),l()},children:n}),(0,s.jsx)(C.MenuItem,{role:"menuitem",icon:"share",disabled:!o,onClick:()=>{e(),d()},children:(0,at._x)("Social Message","text","nelio-content")}),(0,s.jsx)(C.MenuItem,{role:"menuitem",icon:"flag",disabled:!i,onClick:()=>{e(),u()},children:(0,at._x)("Task","text","nelio-content")})]})})},vt=({className:e=""})=>{const{toggleSidePane:t}=(0,c.useDispatch)(h.store),n=u((e=>e(h.store).isErrorPaneOpen())),r=u((e=>!!e(a.store).getNotices().length));return(0,l.useEffect)((()=>{n&&!r&&t("errors")}),[n,r]),n||r?(0,s.jsx)("div",{className:e,children:(0,s.jsx)(C.Button,{className:D({[e]:!0,"nelio-content-error-pane-toggle":!0,"nelio-content-error-pane-toggle--has-errors":r,"nelio-content-error-pane-toggle--is-toggled":n}),icon:"warning",label:n?(0,at._x)("Hide Errors","command","nelio-content"):(0,at._x)("Show Errors","command","nelio-content"),tooltipPosition:"bottom center",isPressed:n,onClick:()=>t("errors")})}):null},xt=({className:e=""})=>{const t=u((e=>e(h.store).isReusableMessageViewOpen())),{toggleSidePane:n}=(0,c.useDispatch)(h.store);return(0,s.jsx)("div",{className:e,children:(0,s.jsx)(C.Button,{className:D({[e]:!0,"nelio-content-reusable-message-toggle":!0,"nelio-content-reusable-message-toggle--is-toggled":t}),icon:"image-rotate",label:(0,at._x)("Reusable Messages","text","nelio-content"),tooltipPosition:"bottom center",isPressed:t,onClick:()=>n("reusable-messages")})})},bt=({className:e=""})=>{const{toggleSidePane:t}=(0,c.useDispatch)(h.store),n=u((e=>e(h.store).isFilterPaneOpen())),r=u((e=>e(h.store).areThereActiveFilters()));return(0,s.jsx)("div",{className:e,children:(0,s.jsx)(C.Button,{className:D({[e]:!0,"nelio-content-toggle-filter-pane-button":!0,"nelio-content-toggle-filter-pane-button--has-active-filters":r,"nelio-content-toggle-filter-pane-button--is-toggled":n}),icon:"filter",label:n?(0,at._x)("Hide Filters","command","nelio-content"):(0,at._x)("Show Filters","command","nelio-content"),tooltipPosition:"bottom center",isPressed:n,onClick:()=>t("filters")})})},yt=({className:e=""})=>{const t=u((e=>e(h.store).isUnscheduledViewOpen())),{toggleSidePane:n}=(0,c.useDispatch)(h.store);return(0,s.jsx)("div",{className:e,children:(0,s.jsx)(C.Button,{className:D({[e]:!0,"nelio-content-toggle-unscheduled-posts-button":!0,"nelio-content-toggle-unscheduled-posts-button--is-toggled":t}),icon:"portfolio",label:(0,at._x)("Unscheduled Content","text","nelio-content"),tooltipPosition:"bottom center",isPressed:t,onClick:()=>n("unscheduled-posts")})})},_t=()=>{const e=u((e=>e(h.store).getCalendarMode())),{setCalendarMode:t}=(0,c.useDispatch)(h.store);return(0,s.jsx)(C.MenuGroup,{label:(0,at._x)("View","text (name)","nelio-content"),children:(0,s.jsx)(C.MenuItemsChoice,{choices:Ct,value:e,onSelect:e=>t(e)})})},Ct=[{value:"agenda",label:(0,at._x)("Agenda","text","nelio-content")},{value:"week",label:(0,at._x)("One Week","text","nelio-content")},{value:"two-weeks",label:(0,at._x)("Two Weeks","text","nelio-content")},{value:"month",label:(0,at._x)("Month","text","nelio-content")}],wt=()=>{const[e,t]=Dt(),n=u((e=>e(h.store).isIcsEnabled())),r=jt("all"),o=jt("user"),i=Tt();return e?(0,s.jsxs)(C.Modal,{className:"nelio-content-calendar-export-dialog",isDismissible:!0,shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!0,onRequestClose:()=>t(!1),title:(0,at._x)("Export Calendar","text","nelio-content"),children:[(0,s.jsx)("div",{className:"nelio-content-calendar-export-dialog__paragraph",children:(0,at._x)("Export your editorial calendar in CSV format:","user","nelio-content")}),(0,s.jsx)("div",{className:"nelio-content-calendar-export-dialog__download-csv",children:(0,s.jsx)(C.Button,{variant:"primary",onClick:()=>{i(),t(!1)},children:(0,at._x)("Download CSV","command","nelio-content")})}),n&&(0,s.jsxs)("div",{className:"nelio-content-calendar-export-dialog__ics",children:[(0,s.jsx)("div",{className:"nelio-content-calendar-export-dialog__paragraph",children:(0,at._x)("Export your editorial calendar to Google Calendar or any tool that supports iCalendar (.ics) format.","user","nelio-content")}),(0,s.jsx)("div",{className:"nelio-content-calendar-export-dialog__ics-option",children:(0,s.jsx)(C.TextControl,{label:(0,at._x)("URL to export your posts only:","user","nelio-content"),value:null!=o?o:"",onChange:()=>{},readOnly:!0})}),(0,s.jsx)("div",{className:"nelio-content-calendar-export-dialog__ics-option",children:(0,s.jsx)(C.TextControl,{label:(0,at._x)("URL to export all posts:","user","nelio-content"),value:null!=r?r:"",onChange:()=>{},readOnly:!0})})]})]}):null},Dt=()=>{const e=u((e=>e(h.store).isExportDialogOpen())),{openExportDialog:t}=(0,c.useDispatch)(h.store);return[e,t]},jt=e=>u((t=>t(h.store).getIcsLink(e))),Tt=()=>{const e=u((e=>{const{getCSV:t,getFirstDayOfWeek:n}=e(g.store),{getFirstDay:r,getLastDay:s}=e(h.store),o=n();return t(r(o),s(o))}));return()=>{const t=window.URL||window.webkitURL,n=new window.Blob([e],{type:"text/csv;charset=UTF-8"}),r=document.createElement("a");r.setAttribute("href",t.createObjectURL(n)),r.setAttribute("download","export.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},St=({close:e})=>{const t=(0,g.useIsFeatureEnabled)("calendar/export"),n=(0,g.useFeatureGuard)("calendar/export"),r=u((e=>e(g.store).canCurrentUserManagePlugin())),o=u((e=>e(g.store).isSocialPublicationPaused())),i=u((e=>e(g.store).isSocialPublicationStatusBeingSynched())),{toggleSocialPublicationStatus:a}=(0,c.useDispatch)(g.store),{openExportDialog:l}=(0,c.useDispatch)(h.store),{clearFilters:d}=(0,c.useDispatch)(h.store);return(0,s.jsxs)(C.MenuGroup,{label:(0,at._x)("Tools","text","nelio-content"),children:[(0,s.jsxs)(C.MenuItem,{role:"menuitem",disabled:i||!r,onClick:a,children:[o&&!i&&(0,at._x)("Resume Social Publication","command","nelio-content"),!o&&!i&&(0,at._x)("Pause Social Publication","command","nelio-content"),o&&i&&(0,at._x)("Resuming Social Publication…","text","nelio-content"),!o&&i&&(0,at._x)("Pausing Social Publication…","text","nelio-content")]}),(0,s.jsxs)(C.MenuItem,{role:"menuitem",icon:t?void 0:"lock",onClick:()=>{e(),n(l)()},children:[(0,at._x)("Export Calendar","command","nelio-content"),(0,s.jsx)(wt,{})]}),(0,s.jsx)(C.MenuItem,{role:"menuitem",onClick:()=>{e(),window.print()},children:(0,at._x)("Print Calendar","command","nelio-content")}),(0,s.jsx)(C.MenuItem,{role:"menuitem",onClick:()=>{e(),d()},children:(0,at._x)("Clear Filters","command","nelio-content")}),(0,s.jsx)(rt.ContextualHelp,{context:"editorial-calendar",walkthrough:lt,component:Nt(e)})]})},Nt=e=>t=>(0,s.jsx)(C.MenuItem,{role:"menuitem",onClick:()=>{setTimeout(e,0),t.runWalkthrough()},children:(0,at._x)("Help","text","nelio-content")}),It=({className:e=""})=>(0,s.jsx)(C.DropdownMenu,{className:`nelio-content-more-options ${e}`,icon:"ellipsis",label:(0,at._x)("More tools & options","text","nelio-content"),toggleProps:{tooltipPosition:"bottom center"},children:({onClose:e})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_t,{}),(0,s.jsx)(St,{close:e})]})}),Et=()=>{const e=u((e=>e(h.store).isCalendarSynching())),t=u((e=>e(g.store).isSocialPublicationPaused())),n=Pt(),{previousPeriod:r,nextPeriod:o}=(0,c.useDispatch)(h.store),i=Ot(),{showToday:a}=(0,c.useDispatch)(h.store);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"nelio-content-header__block nelio-content-header__calendar-controls",children:[(0,s.jsx)(ft,{className:"nelio-content-header__create-item-button"}),(0,s.jsx)(C.Button,{className:"nelio-content-header__previous-button",icon:"arrow-left-alt2",label:n.prev,tooltipPosition:"bottom center",onClick:()=>{r()}}),(0,s.jsx)(C.Button,{className:"nelio-content-header__next-button",icon:"arrow-right-alt2",label:n.next,tooltipPosition:"bottom center",onClick:()=>{o()}}),(0,s.jsx)(ht,{}),(0,s.jsx)(C.Button,{className:"nelio-content-header__today-button",icon:(0,s.jsx)(mt,{className:"dashicon"}),label:(0,at._x)("Today","text","nelio-content"),tooltipPosition:"bottom center",onClick:()=>{a()},disabled:i}),(0,s.jsx)(rt.SubscribeAction,{className:"nelio-content-header__promo-button"}),e&&(0,s.jsx)(C.Spinner,{})]}),!!t&&(0,s.jsx)("div",{className:"nelio-content-header__block",children:(0,s.jsx)("span",{title:(0,at._x)("Publication on social media is paused and, therefore, Nelio Content will not share any of your scheduled social messages","user","nelio-content"),className:"nelio-content-header__paused-social-publication-warning",children:(0,at._x)("Paused","text (social media publication)","nelio-content")})}),(0,s.jsxs)("div",{className:"nelio-content-header__block nelio-content-header__toolbar",children:[(0,s.jsx)(vt,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-error"}),(0,s.jsx)(bt,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-filter"}),(0,s.jsx)(xt,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-reusable"}),(0,s.jsx)(yt,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-unscheduled"}),(0,s.jsx)(It,{className:"nelio-content-header__toolbar-button nelio-content-header__toolbar-button--is-more"})]})]})},Ot=()=>u((e=>{const{getToday:t,getFirstDayOfWeek:n}=e(g.store),{getFirstDay:r,getLastDay:s}=e(h.store),o=n(),i=t();return r(o)<=i&&i<=s(o)})),Pt=()=>{switch(u((e=>e(h.store).getCalendarMode()))){case"month":return{prev:(0,at._x)("Previous Month","text","nelio-content"),next:(0,at._x)("Next Month","text","nelio-content")};case"two-weeks":return{prev:(0,at._x)("Previous Two Weeks","text","nelio-content"),next:(0,at._x)("Next Two Weeks","text","nelio-content")};case"week":return{prev:(0,at._x)("Previous Week","text","nelio-content"),next:(0,at._x)("Next Week","text","nelio-content")};default:return{prev:(0,at._x)("Previous Period","text","nelio-content"),next:(0,at._x)("Next Period","text","nelio-content")}}};var kt=n(2017);const Mt="undefined"!=typeof window?Oe.useLayoutEffect:Oe.useEffect;function Rt(e,t,n){return function(e,t,n){const[r,s]=function(e,t,n){const[r,s]=(0,Oe.useState)((()=>t(e))),o=(0,Oe.useCallback)((()=>{const o=t(e);kt(r,o)||(s(o),n&&n())}),[r,e,n]);return Mt(o),[r,o]}(e,t,n);return Mt((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),r}(t,e||(()=>({})),(()=>n.reconnect()))}function At(e,t){const n=[...t||[]];return null==t&&"function"!=typeof e&&n.push(e),(0,Oe.useMemo)((()=>"function"==typeof e?e():e),n)}function Lt(e){return(0,Oe.useMemo)((()=>e.hooks.dropTarget()),[e])}function Ht(e,t,n,r){let s=n?n.call(r,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;const o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let i=0;i<o.length;i++){const l=o[i];if(!a(l))return!1;const c=e[l],d=t[l];if(s=n?n.call(r,c,d,l):void 0,!1===s||void 0===s&&c!==d)return!1}return!0}function Ut(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Ft(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const e=function(e){return(t=null,n=null)=>{if(!(0,Oe.isValidElement)(t)){const r=t;return e(r,n),r}const r=t;return function(e){if("string"==typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(r),function(e,t){const n=e.ref;return E("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,Oe.cloneElement)(e,{ref:e=>{Bt(n,e),Bt(t,e)}}):(0,Oe.cloneElement)(e,{ref:t})}(r,n?t=>e(t,n):e)}}(r);t[n]=()=>e}})),t}function Bt(e,t){"function"==typeof e?e(t):e.current=t}class Vt{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Ht(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Ft({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,Ut(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function $t(){const{dragDropManager:e}=(0,Oe.useContext)(Pe);return E(null!=e,"Expected drag drop context"),e}let Wt=!1;class qt{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;E(!Wt,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Wt=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Wt=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class zt{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function Yt(e,t){const n=At(e,t),r=function(){const e=$t();return(0,Oe.useMemo)((()=>new qt(e)),[e])}(),s=function(e){const t=$t(),n=(0,Oe.useMemo)((()=>new Vt(t.getBackend())),[t]);return Mt((()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget())),[e]),n}(n.options);return function(e,t,n){const r=$t(),s=function(e,t){const n=(0,Oe.useMemo)((()=>new zt(e,t)),[t]);return(0,Oe.useEffect)((()=>{n.spec=e}),[e]),n}(e,t),o=function(e){const{accept:t}=e;return(0,Oe.useMemo)((()=>(E(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t])),[t])}(e);Mt((function(){const[e,i]=function(e,t,n){const r=n.getRegistry(),s=r.addTarget(e,t);return[s,()=>r.removeTarget(s)]}(o,s,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),i}),[r,t,s,n,o.map((e=>e.toString())).join("|")])}(n,r,s),[Rt(n.collect,r,s),Lt(s)]}const Gt=({children:e,onHover:t,interval:n})=>{const r=Xt(t,n),[{isHovered:o},i]=Yt({accept:["post","social","task"],hover:r,collect:e=>({isHovered:e.canDrop()&&e.isOver()})});return(0,s.jsx)("div",{className:D({"nelio-content-header__drop-control":!0,"nelio-content-header__period-control":!0,"nelio-content-header__period-control--is-hovered":o}),ref:i,children:e})},Xt=(e,t)=>{const[n,r]=(0,l.useState)(!1),s=n=>{n.isOver()?(e(),setTimeout((()=>s(n)),t)):r(!1)};return(e,o)=>{n||(r(!0),setTimeout((()=>s(o)),t))}},Qt=({children:e})=>{const t=(0,h.useDraggingItem)(),n=Kt(t),r=Jt(),[{isHovered:o},i]=Yt({accept:["post","social","task"],drop:r,collect:e=>({isHovered:e.canDrop()&&e.isOver()})});return n?(0,s.jsx)("div",{className:D({"nelio-content-header__drop-control":!0,"nelio-content-header__trash-control":!0,"nelio-content-header__trash-control--is-hovered":o}),ref:i,children:e}):null},Kt=e=>u((t=>{if(t(g.store),!e)return!1;switch(e.type){case"reusable-message":return!1;case"social":const{getSocialMessage:n,canCurrentUserDeleteSocialMessage:r}=t(g.store);return r(n(e.id));case"task":const{getTask:s,canCurrentUserDeleteTask:o}=t(g.store);return o(s(e.id));case"post":const{getPost:i,canCurrentUserDeletePost:a}=t(g.store);return a(i(e.id))}})),Jt=()=>{const{deleteSocialMessage:e,deleteTask:t,dragEnd:n,requestRecurringTrashMode:r,trashPost:s}=(0,c.useDispatch)(h.store);return o=>{(({id:n,type:o})=>{switch(o){case"post":return s(n);case"social":{const t=(0,c.select)(g.store).getSocialMessage(n);return(0,f.isRecurringMessage)(t)&&!(0,f.isRecurringSource)(t)?r({id:n}):e(n,(0,f.isRecurringMessage)(t)&&(0,f.isRecurringSource)(t)?"following":void 0)}case"task":return t(n);case"reusable-message":(0,v.noop)()}})(o),n()}},Zt=({type:e})=>{const t=u((e=>e(h.store).isCalendarSynching())),n=en();return(0,s.jsxs)("div",{className:"nelio-content-header__dragging-controls",children:[(0,s.jsxs)("div",{className:"nelio-content-header__period-controller",children:[(0,s.jsx)(Gt,{onHover:n.prev,interval:1e3,children:(0,at._x)("Previous","command","nelio-content")}),(0,s.jsx)(Gt,{onHover:n.next,interval:1e3,children:(0,at._x)("Next","command","nelio-content")}),(0,s.jsx)(ht,{isBlurred:!0}),t&&(0,s.jsx)(C.Spinner,{})]}),(0,s.jsx)(Qt,{children:"post"===e?(0,at._x)("Trash","command","nelio-content"):(0,at._x)("Delete","command","nelio-content")})]})},en=()=>{const{previousPeriod:e,nextPeriod:t}=(0,c.useDispatch)(h.store);return{prev:()=>e(1200),next:()=>t(1200)}},tn=["post","social","task"],nn=({className:e=""})=>{var t;const n=null===(t=(0,h.useDraggingItem)())||void 0===t?void 0:t.type,r=u((e=>e(h.store).getAdminSidebarWidth()));return(0,s.jsx)("div",{className:`nelio-content-header ${e}`,style:{width:`calc(100% - ${r}px)`},children:n&&tn.includes(n)?(0,s.jsx)(Zt,{type:n}):(0,s.jsx)(Et,{})})},rn=({day:e})=>{const t=(0,h.useNewPostLabel)(),n=(0,h.useCanCreatePosts)(),r=(0,h.useCanCreateMessages)(),o=(0,h.useCanCreateTasks)(),i=(0,h.useDefaultTime)("post"),a=(0,h.usePostCreator)(e,i),l=(0,h.useDefaultTime)("social"),c=(0,h.useMessageCreator)(e,l),d=(0,h.useTaskCreator)(e);return(0,s.jsxs)("div",{className:"nelio-content-calendar-day__actions",children:[(0,s.jsx)(C.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-item-icon",icon:"insert"}),(0,s.jsx)(C.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-post",icon:"admin-post",disabled:!n,label:t,tooltipPosition:"bottom center",onClick:a}),(0,s.jsx)(C.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-social-message",icon:"share",disabled:!r,label:(0,at._x)("Add New Social Message","command","nelio-content"),tooltipPosition:"bottom center",onClick:c}),(0,s.jsx)(C.Button,{className:"nelio-content-calendar-day__header-button nelio-content-calendar-day__add-task",icon:"flag",disabled:!o,label:(0,at._x)("Add New Task","command","nelio-content"),tooltipPosition:"bottom center",onClick:d})]})};function sn(e){return(0,Oe.useMemo)((()=>e.hooks.dragSource()),[e])}function on(e){return(0,Oe.useMemo)((()=>e.hooks.dragPreview()),[e])}class an{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(t?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ht(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ht(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Ft({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,Ut(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,Ut(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}let ln=!1,cn=!1;class dn{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){E(!ln,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ln=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ln=!1}}isDragging(){if(!this.sourceId)return!1;E(!cn,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return cn=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{cn=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class un{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return n="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{},null!=n?n:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const n=this.spec,r=this.monitor,{isDragging:s}=n;return s?s(r):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:r}=e;r&&r(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function hn(e,t){const n=At(e,t);E(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=function(){const e=$t();return(0,Oe.useMemo)((()=>new dn(e)),[e])}(),s=function(e,t){const n=$t(),r=(0,Oe.useMemo)((()=>new an(n.getBackend())),[n]);return Mt((()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource())),[r,e]),Mt((()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview())),[r,t]),r}(n.options,n.previewOptions);return function(e,t,n){const r=$t(),s=function(e,t,n){const r=(0,Oe.useMemo)((()=>new un(e,t,n)),[t,n]);return(0,Oe.useEffect)((()=>{r.spec=e}),[e]),r}(e,t,n),o=function(e){return(0,Oe.useMemo)((()=>{const t=e.type;return E(null!=t,"spec.type must be defined"),t}),[e])}(e);Mt((function(){if(null!=o){const[e,i]=function(e,t,n){const r=n.getRegistry(),s=r.addSource(e,t);return[s,()=>r.removeSource(s)]}(o,s,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),i}}),[r,t,n,s,o])}(n,r,s),[Rt(n.collect,r,s),sn(s),on(s)]}const gn=window.NelioContent.premiumHooksForPages,pn=({className:e,postType:t,postStatus:n})=>{const r=(0,h.usePostStatus)(t,n);return(null==r?void 0:r.icon)?(0,s.jsx)("span",{className:e,title:r.name,children:(0,s.jsx)(C.Dashicon,{icon:r.icon})}):null},mn=({className:e="",type:t,date:n,status:r,title:o,isRewrite:i=!1})=>{const a=u((e=>!!n&&e(h.store).formatCalendarTime(n)));return(0,s.jsxs)("div",{className:e,children:[i?(0,s.jsx)(C.Tooltip,{text:(0,at._x)("This is a rewritten copy of a published post","text","nelio-content-premium"),children:(0,s.jsx)(C.Icon,{className:"nelio-content-premium-board-post__duplicate-icon",icon:"update"})}):(0,s.jsx)(pn,{className:"nelio-content-calendar-post__status-icon",postStatus:r,postType:t})," ",!!a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("strong",{children:a})," "]}),(0,s.jsx)("span",{children:o})]})},fn=({className:e,itemId:t,type:n,typeName:r})=>{const o=vn(t);return"post"===n?(0,s.jsxs)("div",{className:e,children:[(0,s.jsx)(C.Dashicon,{icon:"category"}),` ${o}`]}):"page"===n?(0,s.jsxs)("div",{className:e,children:[(0,s.jsx)(C.Dashicon,{icon:"admin-page"}),` ${r}`]}):(0,s.jsxs)("div",{className:e,children:[(0,s.jsx)(C.Dashicon,{icon:"sticky"}),` ${r}`]})},vn=e=>u((t=>{var n;return(0,v.map)(null===(n=t(g.store).getPost(e))||void 0===n?void 0:n.taxonomies[f.CAT],"name").join(", ")})),xn=({className:e="",itemId:t,dragReference:n,isClickable:r})=>{var o,i;const a=(0,h.useItem)("post",t),l=(0,h.usePostStatus)(null==a?void 0:a.type,null==a?void 0:a.status),{openPostEditor:d}=(0,c.useDispatch)(st.store),{onMouseEnter:u,onMouseLeave:g}=(0,h.useItemHoverListeners)("post",t);if(!a)return null;const{author:p,date:m,isRewrite:f,status:v,title:x,type:b,typeName:y}=a;return(0,s.jsxs)("div",{role:y,className:`nelio-content-calendar-post nelio-content-calendar-post--is-${null!=v?v:"unknown"} ${e}`,"data-item-id":t,style:{backgroundColor:null===(o=null==l?void 0:l.colors)||void 0===o?void 0:o.background,borderTopColor:null===(i=null==l?void 0:l.colors)||void 0===i?void 0:i.main},onClick:()=>{a&&r&&d(a)},onMouseEnter:u,onMouseLeave:g,ref:n,children:[(0,s.jsx)(rt.AuthorIcon,{className:"nelio-content-calendar-post__author-icon",authorId:p}),(0,s.jsx)(mn,{className:"nelio-content-calendar-post__content",date:m||"",status:v,type:b,title:x,isRewrite:f}),(0,s.jsx)(fn,{className:"nelio-content-calendar-post__details",itemId:t,type:b,typeName:y})]})},bn=window.NelioContent.networks,yn=({className:e,message:t,schedule:n})=>{const r=u((e=>e(h.store).formatCalendarTime(n)));return(0,s.jsxs)("div",{className:e,children:[(0,s.jsx)("strong",{children:r})," ",(0,s.jsx)("span",{children:t})]})},Cn=({className:e="",itemId:t,dragReference:n,isClickable:r})=>{const o=(0,h.useItem)("social",t),{openSocialMessageEditor:i}=(0,c.useDispatch)(ot.store),{onMouseEnter:a,onMouseLeave:l}=(0,h.useItemHoverListeners)("social",t);if(!o)return null;const{auto:d,isFreePreview:u,network:g,profileId:p,schedule:m,status:v,text:x,textComputed:b,type:y}=o;return(0,s.jsxs)("div",{role:(0,at._x)("Social Message","text","nelio-content"),className:D({"nelio-content-calendar-social-message":!0,"nelio-content-calendar-social-message--is-auto":!!d,[`nelio-content-calendar-social-message--is-${g}`]:!0,[`nelio-content-calendar-social-message--is-${v}`]:!0,"nelio-content-calendar-social-message--is-free-preview":u,[e]:!!e}),onClick:()=>{o&&r&&i(o,{context:"calendar"})},"data-item-id":t,onMouseEnter:a,onMouseLeave:l,ref:n,children:[!!u&&(0,s.jsx)("div",{className:"nelio-content-calendar-social-message__mode-icon",children:(0,s.jsx)(C.Dashicon,{icon:"lock"})}),!u&&(0,f.isRecurringMessage)(o)&&(0,s.jsx)("div",{className:"nelio-content-calendar-social-message__mode-icon",children:(0,s.jsx)(C.Dashicon,{icon:"controls-repeat"})}),(0,s.jsx)(rt.SocialProfileIcon,{className:"nelio-content-calendar-social-message__profile-icon",profileId:p}),(0,s.jsx)(yn,{className:"nelio-content-calendar-social-message__content",message:(0,bn.doesNetworkSupport)("text",g)?b:x||wn(y),schedule:null!=m?m:""})]})};function wn(e){switch(e){case"auto-image":case"text":return"";case"image":return(0,at._x)("(image)","text","nelio-content");case"video":return(0,at._x)("(video)","text","nelio-content");case"multi-media":return(0,at._x)("(media)","text","nelio-content")}}const Dn=({className:e="",itemId:t,dragReference:n,isClickable:r})=>{const o=(0,h.useItem)("task",t),i=jn(o),{toggleTaskCompletion:a}=(0,c.useDispatch)(h.store),{openTaskViewerDialog:l}=(0,c.useDispatch)(h.store),{openExistingTaskEditor:d}=(0,c.useDispatch)(it.store),{onMouseEnter:u,onMouseLeave:g}=(0,h.useItemHoverListeners)("task",t);if(!o)return null;const{assigneeId:p,color:m,completed:f,task:v}=o;return(0,s.jsxs)("div",{role:(0,at._x)("Task","text","nelio-content"),className:D({"nelio-content-calendar-task":!0,[e]:!0,[`nelio-content-calendar-task--is-${m}`]:!!m}),"data-item-id":t,onClick:e=>{var n;return"INPUT"!==(null===(n=e.target)||void 0===n?void 0:n.nodeName)&&!!o&&r&&(i?d(o,{context:"calendar",post:void 0}):l(t))},onMouseEnter:u,onMouseLeave:g,ref:n,children:[(0,s.jsx)(rt.AuthorIcon,{className:"nelio-content-calendar-task__author-icon",authorId:p}),(0,s.jsxs)("div",{className:"nelio-content-calendar-task__value",children:[(0,s.jsx)("input",{type:"checkbox",checked:f,disabled:!i,onChange:()=>{a(t)}}),(0,s.jsx)("span",{children:v})]})]})},jn=e=>u((t=>t(g.store).canCurrentUserEditTask(e))),Tn=({className:e,itemId:t})=>{const n=In(t),r=Sn(),o=Nn(),i=u((e=>!!n&&!n.isDayEvent&&e(h.store).formatCalendarTime(n.date)));if(!n)return null;const{date:a,title:l,isDayEvent:c}=n,d=c?a<r:o(a);return(0,s.jsxs)("div",{className:D("nelio-content-calendar-external-event",e,c&&"nelio-content-calendar-external-event--is-day-event",d&&"nelio-content-calendar-external-event--is-past-event"),children:[!!i&&(0,s.jsxs)("strong",{children:[i," "]}),(0,s.jsx)("span",{children:l})]})},Sn=()=>u((e=>e(g.store).getToday())),Nn=()=>u((e=>{const t=e(g.store).getUtcNow(),n="Y-m-d H:m";return e=>(0,ut.format)(n,e)<(0,ut.format)(n,t)})),In=e=>u((t=>t(g.store).getExternalEvent(e))),En=window.wp.primitives,On=({className:e,type:t})=>{const n=Pn(t);return(0,s.jsx)("span",{className:e,title:t,children:(0,s.jsx)(n,{})})},Pn=e=>"mailpoet-newsletter"===e?()=>(0,s.jsx)(En.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 152.02 156.4",children:(0,s.jsx)(En.Path,{d:"M37.71 89.1c3.5 0 5.9-.8 7.2-2.3a8 8 0 002-5.4V35.7l17 45.1a12.68 12.68 0 003.7 5.4c1.6 1.3 4 2 7.2 2a12.54 12.54 0 005.9-1.4 8.41 8.41 0 003.9-5l18.1-50V81a8.53 8.53 0 002.1 6.1c1.4 1.4 3.7 2.2 6.9 2.2 3.5 0 5.9-.8 7.2-2.3a8 8 0 002-5.4V8.7a7.48 7.48 0 00-3.3-6.6c-2.1-1.4-5-2.1-8.6-2.1a19.3 19.3 0 00-9.4 2 11.63 11.63 0 00-5.1 6.8l-19.6 58.3-20.5-58.7a12.4 12.4 0 00-4.5-6.2c-2.1-1.5-5-2.2-8.8-2.2a16.51 16.51 0 00-8.9 2.1c-2.3 1.5-3.5 3.9-3.5 7.2v71.5c0 2.8.7 4.8 2 6.2 1.5 1.4 3.7 2.1 7 2.1zM149 116.6l-2.4-1.9a7.4 7.4 0 00-9.4.3 19.65 19.65 0 01-12.5 4.6h-21.4A37.08 37.08 0 0077 130.5l-1.1 1.2-1.1-1.1a37.25 37.25 0 00-26.3-10.9H27a19.59 19.59 0 01-12.4-4.6 7.28 7.28 0 00-9.4-.3l-2.4 1.9a7.43 7.43 0 00-2.8 5.5 7.14 7.14 0 002.4 5.7 37.28 37.28 0 0024.6 9.5h21.6a19.59 19.59 0 0118.9 14.4v.2c.1.7 1.2 4.4 8.5 4.4s8.4-3.7 8.5-4.4v-.2a19.59 19.59 0 0118.9-14.4H125a37.28 37.28 0 0024.6-9.5 7.42 7.42 0 002.4-5.7 7.86 7.86 0 00-3-5.6z"})}):"the-events-calendar"===e?()=>(0,s.jsx)(En.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 110",children:(0,s.jsx)(En.Path,{d:"M44.28 65.55c-3.273 1.327-6.302 2.044-8.505 1.925-2.853-.16-4.07-1.417-4.075-1.89-.002-.337 1.061-1.393 4.345-1.631a22.85 22.85 0 0 1 1.618-.06c2.243 0 4.74.368 6.617 1.655m6.123 28.93c-12.002 3.31-24.685.258-32.317-7.785-5.4-5.691-7.21-12.813-4.968-19.54 4.51-13.534 26.125-21.657 39.94-21.657.148 0 .296 0 .443.002 5.147.066 8.712 1.31 9.303 3.249.33 1.085-.452 2.984-2.095 5.079-2.899 3.696-7.304 7.046-11.784 9.504-2.84-3.117-7.397-4.535-13.224-4.115-6.487.47-8.773 3.619-8.75 6.408.026 3.04 2.974 6.282 8.56 6.592 3.381.185 7.422-.857 11.48-2.632.595 2.337.41 5.402-.563 9.056a2.375 2.375 0 0 0 4.588 1.224c1.324-4.966 1.423-9.131.3-12.44 5.297-2.974 10.194-6.923 13.13-10.666 2.755-3.514 3.731-6.675 2.901-9.396-.603-1.977-2.022-3.544-4.16-4.656.163-17.845 3.326-30.17 6.174-30.187h.017c.418 0 .984.093 1.678.783 2.314 2.3 5.07 9.85 5.07 32.759 0 22.605-1.935 41.85-25.723 48.417M27.745 41.756c-.003-.06.004-.118-.003-.178-.01-.086-.02-.176-.032-.264-.341-4.873.243-8.713 1.73-10.773.738-1.022 1.664-1.57 2.914-1.724 1.743-.21 3.16.24 4.352 1.384 2.306 2.217 3.652 7.01 3.524 12.255a65.61 65.61 0 0 0-11.85 4.153 51.109 51.109 0 0 1-.635-4.853m20.457-8.274c.875-.951 1.99-1.414 3.413-1.414 2.262 0 3.245.74 3.788 1.296 1.3 1.33 2 3.912 2.096 7.67a31.624 31.624 0 0 0-3.938-.283c-.16-.002-.32-.002-.482-.002-2.144 0-4.48.186-6.919.54-.105-3.445.615-6.251 2.042-7.806M74.405 9.935C72.98 8.518 71.24 7.77 69.374 7.77h-.042c-6.257.038-8.416 9.373-9.496 16.392-.317 2.06-.561 4.162-.752 6.196-.093-.103-.184-.211-.282-.31-1.766-1.81-4.185-2.728-7.187-2.728-2.749 0-5.139 1.02-6.911 2.95-.505.55-.94 1.189-1.332 1.873-.783-2.06-1.878-3.926-3.375-5.365-2.223-2.137-5.064-3.062-8.223-2.674-2.545.313-4.684 1.577-6.186 3.659a.414.414 0 0 1-.018.028C22.968 14.812 18.02-.86 9.388.037 7.264.26 5.387 1.403 3.961 3.34-2.7 12.394.426 39.314 3.32 53.792a2.377 2.377 0 0 0 2.795 1.864A2.375 2.375 0 0 0 7.98 52.86C3.13 28.618 4.212 11.015 7.787 6.156c.84-1.142 1.6-1.344 2.098-1.396C14.65 4.264 20.521 20.914 23 41.928c.198 2.602.592 5.039.972 6.933.002.008.006.016.008.026-7.136 4.114-13.025 9.738-15.367 16.767-2.816 8.444-.618 17.306 6.029 24.31 6.49 6.839 16.063 10.578 26.114 10.578 3.616 0 7.295-.485 10.911-1.484 26.976-7.445 29.21-29.316 29.21-52.995 0-20.259-2.056-31.738-6.472-36.127"})}):"nelio-ab-testing"===e?()=>(0,s.jsx)(En.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",children:(0,s.jsx)(En.Path,{d:"M 20 2.5 C 18.64939 2.5 17.335197 2.6519887 16.072266 2.9414062 C 16.157726 3.2278678 16.249103 3.5653246 16.369141 3.9902344 C 16.533466 4.5114781 16.656702 4.8822491 16.738281 5.1015625 L 19.355469 13.769531 C 20.165167 13.733791 20.992028 13.692398 21.662109 13.673828 C 22.183247 13.645468 22.70546 13.626841 23.240234 13.613281 C 23.775047 13.598521 24.180659 13.589772 24.455078 13.576172 C 24.742938 13.562572 25.061468 13.554685 25.404297 13.554688 C 27.543705 13.554688 29.280995 13.838214 30.625 14.400391 C 31.982758 14.962673 32.951314 15.708185 33.527344 16.640625 C 34.103491 17.559465 34.394531 18.566948 34.394531 19.664062 C 34.394531 20.514283 34.205998 21.32577 33.835938 22.09375 C 33.479318 22.848035 33.027042 23.471186 32.478516 23.964844 C 31.971129 24.444785 31.410061 24.819425 30.792969 25.09375 C 30.175877 25.354261 29.490552 25.595124 28.736328 25.814453 C 30.916875 25.951778 32.745347 26.574975 34.226562 27.685547 C 34.612707 27.975077 34.948923 28.290193 35.234375 28.634766 C 36.679656 26.08828 37.505859 23.143437 37.505859 20.005859 C 37.505859 10.336945 29.668903 2.5000194 20 2.5 z M 12.134766 4.3632812 C 12.099806 4.3803743 12.063472 4.3974466 12.027344 4.4160156 L 8.2636719 14.974609 L 15.259766 14.974609 L 12.134766 4.3632812 z M 9.84375 5.7460938 C 5.3936172 8.9203011 2.4902344 14.123734 2.4902344 20.005859 C 2.4902344 21.856984 2.781932 23.641614 3.3144531 25.316406 C 3.6143556 23.557726 4.1760974 21.73933 4.7695312 19.873047 C 4.7773012 19.853237 4.785221 19.824211 4.796875 19.800781 C 4.798775 19.789131 4.8003214 19.778055 4.8007812 19.765625 L 9.3984375 7.0546875 C 9.4788517 6.8305376 9.6381694 6.3661577 9.84375 5.7460938 z M 24.683594 15.074219 C 23.901945 15.074219 23.133129 15.141231 22.378906 15.279297 L 22.378906 25.277344 L 24.310547 25.277344 C 26.271684 25.277344 27.647919 24.823164 28.443359 23.904297 C 29.252474 22.985473 29.658203 21.752818 29.658203 20.216797 C 29.658203 18.817969 29.267978 17.608672 28.486328 16.59375 C 27.704678 15.578973 26.438995 15.074219 24.683594 15.074219 z M 7.9765625 16.662109 C 5.7600424 23.325767 9.9883692 25.364004 9.4960938 29.197266 C 9.2867057 30.827035 8.2323767 31.62537 7.0527344 31.789062 C 9.6497267 34.640448 13.177559 36.630877 17.154297 37.28125 C 17.266566 37.2318 17.362546 37.17596 17.441406 37.109375 C 17.715669 36.890042 17.883189 36.499763 17.951172 35.9375 C 18.032752 35.375956 18.076172 34.471874 18.076172 33.240234 L 18.076172 26.496094 C 18.041212 25.339011 18.013853 24.304838 17.539062 22.525391 C 17.415527 22.01786 17.221529 21.311341 16.947266 20.40625 L 15.818359 16.662109 L 7.9765625 16.662109 z M 22.378906 26.796875 L 22.378906 26.800781 L 22.378906 37.146484 C 22.611991 37.160084 22.864409 37.179801 23.138672 37.207031 C 23.165862 37.208931 23.207578 37.211591 23.236328 37.212891 C 26.373262 36.626602 29.214139 35.204535 31.521484 33.185547 C 31.566544 32.870921 31.595703 32.541085 31.595703 32.189453 C 31.595703 31.352826 31.407558 30.529744 31.037109 29.720703 C 30.680489 28.897769 29.989346 28.200954 28.960938 27.638672 C 27.946164 27.07627 26.540681 26.796875 24.744141 26.796875 L 22.378906 26.796875 z "})}):()=>null,kn=({className:e,itemId:t,isClickable:n})=>{const r=An(t),o=Mn(),i=Rn(),a=u((e=>!!r&&!r.isDayEvent&&e(h.store).formatCalendarTime(r.date)));if(!r)return null;const{date:l,color:c,backgroundColor:d,editLink:g,isDayEvent:p,title:m,type:f}=r,v=()=>{n&&g&&(window.location.href=g)},x=p?l<o:i(l);return(0,s.jsxs)("div",{role:f,className:D("nelio-content-calendar-internal-event",e,p&&"nelio-content-calendar-internal-event--is-day-event",x&&"nelio-content-calendar-internal-event--is-past-event"),style:{color:c,backgroundColor:d,borderColor:d},onClick:v,onKeyUp:e=>{"Enter"===e.key&&v()},children:[(0,s.jsx)(On,{className:"nelio-content-calendar-internal-event__type-icon",type:f})," ",!!a&&(0,s.jsxs)("strong",{children:[a," "]}),(0,s.jsx)("span",{children:m})]})},Mn=()=>u((e=>e(g.store).getToday())),Rn=()=>u((e=>{const t=e(g.store).getUtcNow(),n="Y-m-d H:m";return e=>(0,ut.format)(n,e)<(0,ut.format)(n,t)})),An=e=>u((t=>t(g.store).getInternalEvent(e))),Ln={type:"unknown",id:""},Hn=({itemType:e,itemId:t})=>{const{isBlurred:n,isClickable:r,isDraggable:o,isDragging:i,isHighlighted:a,isLocked:l,isSynching:c}=Un(e,t),d=$n(e,t),{onDragStart:u,onDragEnd:g}=(0,h.useItemDragTriggers)(d),p=null!=d?d:Ln,[m,f]=hn({type:p.type,item:()=>(u(),p),end:g,canDrag:()=>o},[p]),v=D({"nelio-content-calendar-item":!0,"nelio-content-calendar-item--is-blurred":n,"nelio-content-calendar-item--is-dragging":i,"nelio-content-calendar-item--is-highlighted":a,"nelio-content-calendar-item--is-locked":l,"nelio-content-calendar-item--is-synching":c});switch(e){case"post":return(0,s.jsx)(xn,{className:v,itemId:t,dragReference:f,isClickable:r});case"social":return(0,s.jsx)(Cn,{className:v,itemId:t,dragReference:f,isClickable:r});case"task":return(0,s.jsx)(Dn,{className:v,itemId:t,dragReference:f,isClickable:r});case"external-event":return(0,s.jsx)(Tn,{className:v,itemId:t});case"internal-event":return(0,s.jsx)(kn,{className:v,itemId:t,isClickable:r});default:{const n=(0,gn.getPremiumCalendarItemView)(e);return(0,s.jsx)(n,{className:v,itemId:t,dragReference:f,isClickable:r})}}},Un=(e,t)=>{const n=Vn(e,t),r=Fn(e,t),s=Bn(e,t);return u((o=>{const{getDraggingItem:i,getHoverItem:a,isDragging:l,isHighlighted:c,isSynching:d}=o(h.store),u=l(e,t),g=c(e,t),p=d(e,t),m=!!a()&&!g,f=!!i()&&!u,v=["post","social"].includes(e)&&!s&&!g,x=r&&!p,b=n&&!p&&(0,gn.isItemTypeDraggable)(e);return{isBlurred:v||p||m||f,isClickable:x,isDraggable:b,isDragging:u,isHighlighted:g,isLocked:!x&&!b,isSynching:p}}))},Fn=(e,t)=>{const n=(0,h.useItem)(e,t),r=Bn(e,t);return u((t=>{switch(t(g.store),e){case"post":const s=n;return t(g.store).canCurrentUserViewPost(s);case"social":const o=n;return r||!!(null==o?void 0:o.isFreePreview)||"publish"===(null==o?void 0:o.status);case"task":return!0;case"external-event":case"internal-event":return r;default:const i=n;return t(g.store).canCurrentUserViewPremiumItem(e,i)}}))},Bn=(e,t)=>{const n=(0,h.useItem)(e,t);return u((t=>{switch(e){case"post":const r=n;return t(g.store).canCurrentUserEditPost(r);case"social":const s=n;return t(g.store).canCurrentUserEditSocialMessage(s);case"task":const o=n;return t(g.store).canCurrentUserEditTask(o);case"internal-event":return!0;case"external-event":return!1;default:const i=n;return t(g.store).canCurrentUserEditPremiumItem(e,i)}}))},Vn=(e,t)=>{const n=(0,h.useItem)(e,t),r=Bn(e,t);if("internal-event"===e)return!1;if("post"!==e)return r;return r&&"publish"!==(null==n?void 0:n.status)},$n=(e,t)=>{const n=Wn(e,t);if("post"===e||"social"===e||"task"===e)return{id:t,type:e,minDroppableDay:n}},Wn=(e,t)=>{var n,r;const s=(0,h.useItem)(e,t),o=u((e=>e(g.store).getToday()));switch(e){case"post":const t=s;return(null==t?void 0:t.date)&&(null==t?void 0:t.date)<o&&null!==(n=null==t?void 0:t.date)&&void 0!==n?n:o;case"social":return function(e,t){if(!t)return e;const{dateType:n,dateValue:r,schedule:s}=t;return"exact"===n?e:"0"===r?(0,ut.date)("Y-m-d",s):(0,ut.date)("Y-m-d",dt()(s).add(-r,"days"))}(o,s);case"task":case"internal-event":case"external-event":return o;default:return null!==(r=(0,gn.getPremiumItemsMinDroppableDay)(e,s))&&void 0!==r?r:o}},qn=({day:e})=>{const t=!!(0,h.useDraggingItem)(),n=!!(0,h.useHoverItem)(),r=t||n,o=(0,h.useCollapsableItemCount)(e),[i,a]=(0,h.useDayCollapser)(e),l=(0,h.useDayType)(e);return o?i?(0,s.jsxs)(C.Button,{className:D({"nelio-content-collapsed-social-messages-wrapper":!0,"nelio-content-collapsed-social-messages-wrapper--is-blurred":!r&&"past-day"===l}),disabled:r,onClick:()=>a(!1),children:[(0,s.jsx)("span",{children:(0,at.sprintf)(/* translators: number of hidden messages on a certain day in the Editorial Calendar */ /* translators: number of hidden messages on a certain day in the Editorial Calendar */
(0,at._x)("+%d more","command","nelio-content"),o)}),(0,s.jsx)(C.Dashicon,{icon:"arrow-down"})]}):(0,s.jsxs)(C.Button,{className:"nelio-content-collapsed-social-messages-wrapper",disabled:r,onClick:()=>a(!0),children:[(0,s.jsx)("span",{children:(0,at._x)("Collapse","command","nelio-content")}),(0,s.jsx)(C.Dashicon,{icon:"arrow-up"})]}):null},zn=({day:e})=>{const t=(0,h.useNonCollapsedDayItems)(e),n=(0,h.useDayType)(e);return(0,s.jsxs)("div",{className:`nelio-content-calendar-day__items nelio-content-calendar-day__items--${n}`,children:[t.map((e=>(0,s.jsx)(Hn,{itemId:e.id,itemType:e.type},`${e.type}-${e.id}`))),(0,s.jsx)(qn,{day:e})]})},Yn=({day:e})=>{const t=(0,h.useDayType)(e),n=(0,h.useItemDropper)(e),r=(0,h.useMinRowHeight)(),[{isHovered:o},i]=Yt({accept:["post","social","task","reusable-message"],drop:n,canDrop:({minDroppableDay:t})=>t<=e,collect:e=>({isHovered:e.canDrop()&&e.isOver()})}),a=e.substring(8).replace(/^0/,"");return(0,s.jsxs)("div",{className:D({"nelio-content-calendar-day":!0,"nelio-content-calendar-day--is-hovered":o}),ref:i,style:{minHeight:r},children:[(0,s.jsxs)("div",{className:"nelio-content-calendar-day__header",children:[(0,s.jsx)("div",{className:`nelio-content-calendar-day__label nelio-content-calendar-day__label--${t}`,children:a}),"past-day"!==t&&(0,s.jsx)(rn,{day:e})]}),(0,s.jsx)(zn,{day:e})]})},Gn=({className:e="",firstDay:t,numberOfDays:n})=>{const r=dt()((0,ut.wpifyDateTime)("c",t,"12:00")),o=[];for(let e=0;e<n;++e)o.push((0,ut.dateI18n)("Y-m-d",r)),r.add(1,"day");const i=dt()((0,ut.wpifyDateTime)("c",t,"12:00")),a=[];for(let e=0;e<7;++e)a.push((0,v.upperFirst)((0,ut.dateI18n)("D",i))),i.add(1,"day");return(0,s.jsxs)("div",{className:D("nelio-content-day-grid",e),children:[(0,s.jsx)("div",{className:"nelio-content-day-grid__header",children:a.map(((e,t)=>(0,s.jsx)("div",{className:"nelio-content-day-grid__weekday",children:e},t)))}),o.map((e=>(0,s.jsx)(Yn,{day:e},`day-${e}`)))]})},Xn=({day:e,hour:t})=>{const n=(0,h.useNewPostLabel)(),r=(0,h.useCanCreatePosts)(),o=(0,h.useCanCreateMessages)(),i=(0,h.useCanCreateTasks)(),a=(0,h.usePostCreator)(e,t),l=(0,h.useMessageCreator)(e,t),c=(0,h.useTaskCreator)(e);return(0,s.jsxs)("div",{className:"nelio-content-calendar-agenda-hour-segment__actions",children:[(0,s.jsx)(C.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-item-icon",icon:"insert"}),(0,s.jsx)(C.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-post",icon:"admin-post",disabled:!r,label:n,tooltipPosition:"bottom center",onClick:a}),(0,s.jsx)(C.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-social-message",icon:"share",disabled:!o,label:(0,at._x)("Add New Social Message","command","nelio-content"),tooltipPosition:"bottom center",onClick:l}),(0,s.jsx)(C.Button,{className:"nelio-content-calendar-agenda-hour-segment__header-button nelio-content-calendar-agenda-hour-segment__add-task",icon:"flag",disabled:!i,label:(0,at._x)("Add New Task","command","nelio-content"),tooltipPosition:"bottom center",onClick:c})]})},Qn=({day:e,hour:t})=>{const n=Kn(e,t);return(0,s.jsx)("div",{children:n.map((e=>(0,s.jsx)(Hn,{itemId:e.id,itemType:e.type},`${e.type}-${e.id}`)))})},Kn=(e,t)=>u((n=>{const{getItem:r,getItemsInDay:s}=n(g.store),{isItemVisible:o}=n(h.store);return(0,v.filter)(s(e),(({id:e,type:n})=>{const s=r(n,e);return!!s&&o(n,s)&&function(e,t,n){switch(e){case"external-event":case"internal-event":case"task":return 0===n;case"post":case"social":{const r="post"===e?t.date:t.schedule,s=(0,f.extractDateTimeValues)(r);if(!s)return!1;const{timeValue:o}=s,i=Number.parseInt(o.substring(0,2));return i>=n&&i<n+4}default:return(0,gn.isPremiumItemInSegment)(e,t,n)}}(n,s,t)}))})),Jn=({day:e,hour:t,isHoveredByTask:n,onHoveredByTask:r})=>{var o;const i=(0,h.useItemDropper)(e,t),a=(0,h.useMinRowHeight)(),d=u((e=>e(h.store).getDraggingItem())),p=null!==(o=null==d?void 0:d.type)&&void 0!==o?o:"",m=function(e,t,n){const r=(0,f.extractDateTimeValues)(e);if(!r)return"past-segment";const{dateValue:s,timeValue:o}=r,i=n,a=i+4;if(t!==s)return t<s?"past-segment":"future-segment";const l=parseInt(o.substring(0,2));return a<=l?"past-segment":i<=l&&l<a?"current-segment":"future-segment"}(u((e=>e(g.store).getUtcNow())),e,t),x={day:e,hour:t,type:m},[{isDirectlyHovered:b},y]=Yt({accept:["post","social","task","reusable-message"],drop:i,canDrop:e=>Zn(e,x)||tr(e,x)||function(e,t){if("social"!==e.type)return!1;const n=(0,c.select)(g.store).getSocialMessage(e.id);if(!n)return!1;const r=(0,c.select)(g.store).getPost(n.postId);if(!r)return"future-segment"===t.type;if(!r.date)return!1;const s=(0,f.extractDateTimeValues)(r.date);if(!s)return!1;const{timeValue:o}=s,i=r.date.substring(0,10),a=Number.parseInt(o.substring(0,2));return"future-segment"===t.type&&(t.day>i||t.day===i&&t.hour>=a+4)}(e,x)||er(e,x),collect:e=>({isDirectlyHovered:e.canDrop()&&e.isOver()})});(0,l.useEffect)((()=>{r("task"===p&&b)}),[p,b]);const _="task"===p?n:b;return(0,s.jsxs)("div",{className:D({"nelio-content-calendar-agenda-hour-segment":!0,"nelio-content-calendar-agenda-hour-segment--is-hovered":_}),ref:y,style:{minHeight:a},children:[(0,s.jsxs)("div",{className:"nelio-content-calendar-agenda-hour-segment__header",children:[(0,s.jsx)("div",{className:`nelio-content-calendar-agenda-hour-segment__label--${m}`,children:(0,v.padStart)(`${t}`,2,"0")+":00"}),"past-segment"!==m&&(0,s.jsx)(Xn,{day:e,hour:(0,v.padStart)(`${t}`,2,"0")+":00"})]}),(0,s.jsx)(Qn,{day:e,hour:t})]})},Zn=(e,t)=>"post"===e.type&&"future-segment"===t.type,er=(e,t)=>"reusable-message"===e.type&&"future-segment"===t.type,tr=(e,t)=>"task"===e.type&&("future-segment"===t.type||(0,c.select)(g.store).getToday()===t.day),nr=({className:e="",firstDay:t,numberOfDays:n})=>{var r,o;const[i,a]=(0,l.useState)([]),c=0<i.length&&null!==(o=null===(r=i[0])||void 0===r?void 0:r.substring(0,10))&&void 0!==o?o:"",d=u((e=>e(g.store).getToday())),h=dt()((0,ut.wpifyDateTime)("c",t,"12:00")),p=[];for(let e=0;e<n;++e)p.push((0,ut.dateI18n)("Y-m-d",h)),h.add(1,"day");const m=dt()((0,ut.wpifyDateTime)("c",t,"12:00")),f=[];for(let e=0;e<n;++e)f.push((0,v.upperFirst)((0,ut.dateI18n)("D",m))),m.add(1,"day");const x=[0,4,8,12,16,20].flatMap((e=>p.map((t=>({id:`${t}:${e}`,day:t,startHour:e})))));return(0,s.jsxs)("div",{className:D("nelio-content-agenda-grid",`nelio-content-agenda-grid--has-${n}-days`,e),children:[f.map(((e,t)=>{var n;const r=null!==(n=p[t])&&void 0!==n?n:"";return(0,s.jsx)("div",{className:`nelio-content-agenda-grid__weekday nelio-content-agenda-grid__weekday--is-${rr(d,r)}`,children:(0,s.jsxs)("div",{children:[e," ",r.substring(8).replace(/^0/,"")]})},t)})),x.map((e=>(0,s.jsx)(Jn,{day:e.day,hour:e.startHour,isHoveredByTask:e.day===c,onHoveredByTask:t=>a(t?[...i,e.id]:(0,v.without)(i,e.id))},e.id)))]})};function rr(e,t){return t<e?"past-day":t===e?"today":"future-day"}const sr=e=>"agenda"===u((e=>e(h.store).getCalendarMode()))?(0,s.jsx)(nr,Object.assign({},e)):(0,s.jsx)(Gn,Object.assign({},e)),or=({onChange:e,value:t})=>{const n=u((e=>e(g.store).getCurrentUserId()));return(0,s.jsxs)("div",{className:"nelio-content-post-filters__author",children:[(0,s.jsx)("span",{children:(0,at._x)("Author","text","nelio-content")}),(0,s.jsx)(rt.AuthorSearcher,{placeholder:(0,at._x)("Search author…","command","nelio-content"),value:t,onChange:e,hasAllAuthors:!0}),(0,s.jsx)("div",{className:"nelio-content-post-filters__right-action",children:(0,s.jsx)(C.Button,{variant:"link",onClick:()=>e(n),children:(0,at._x)("Show My Posts","command","nelio-content")})})]})},ir=({name:e,boldLabel:t,checked:n,label:r,onChange:o})=>(0,s.jsx)("li",{className:`nelio-content-post-filters__post-type nelio-content-post-filters__post-type--${e}`,children:(0,s.jsx)(C.CheckboxControl,{label:t?(0,s.jsx)("strong",{children:r}):r,checked:n,onChange:o})}),ar=()=>{const[e,t]=cr(),n=lr();return n.length?(0,s.jsxs)("div",{className:"nelio-content-post-filters__by-status",children:[(0,s.jsx)("div",{children:(0,at._x)("Post Status","text","nelio-content")}),(0,s.jsx)("ul",{className:"nelio-content-post-filters__statuses",children:n.map((({label:n,value:r})=>(0,s.jsx)("li",{children:(0,s.jsx)(C.CheckboxControl,{label:n,checked:!e.includes(r),onChange:()=>{return n=r,t((0,v.xor)(e,[n]));var n}})},`nelio-content-post-filters__category-${r}`)))})]}):null},lr=()=>u((e=>{const{getPostTypes:t,getPostStatuses:n}=e(g.store),{getDisabledPostTypes:r}=e(h.store),s=r(),o=(t("calendar")||[]).filter((e=>!s.includes(e.name))),i=(0,v.flatten)(o.map((({name:e})=>n(e)))).filter((({slug:e})=>"nelio-content-unscheduled"!==e)).reduce(((e,{slug:t,name:n})=>{var r;return"nelio-content-unscheduled"===t?e:Object.assign(Object.assign({},e),{[t]:(0,v.uniq)([...null!==(r=e[t])&&void 0!==r?r:[],n])})}),{});return(0,v.map)(i,((e,t)=>({value:t,label:e.join(", ")})))})),cr=()=>{const e=u((e=>e(h.store).getDisabledStatuses())),{setDisabledStatuses:t}=(0,c.useDispatch)(h.store);return[e,t]},dr=()=>{const{disabledPostTypes:e,postAuthor:t,postTypes:n}=ur(),{togglePostType:r,setPostAuthor:o}=hr(),i=u((e=>e(g.store).getPremiumStatus())),a=(0,rt.getPremiumComponent)("calendar/future-actions-filter","null");return(0,s.jsxs)("div",{className:"nelio-content-post-filters",children:[(0,s.jsx)(or,{value:t,onChange:o}),(0,s.jsxs)("div",{className:"nelio-content-post-filters__by-type",children:[(0,s.jsx)("div",{children:(0,at._x)("Content Type","text","nelio-content")}),(0,s.jsx)("ul",{className:"nelio-content-post-filters__post-types",children:n.map((({name:t,labels:{singular:n}})=>(0,s.jsx)(ir,{name:t,label:n,checked:!e.includes(t),onChange:()=>r(t)},`nelio-content-post-filters__post-type-${t}`)))})]}),(0,s.jsx)(ar,{}),"ready"===i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("strong",{children:(0,at._x)("Additional Filters","text","nelio-content")}),(0,s.jsx)(a,{})]})]})},ur=()=>u((e=>{const{getPostTypes:t}=e(g.store),{getDisabledPostTypes:n,getPostAuthorFilter:r}=e(h.store);return{postTypes:t("calendar"),disabledPostTypes:n(),postAuthor:r()}})),hr=()=>{const{disabledPostTypes:e}=ur(),{setDisabledPostTypes:t,setPostAuthorFilter:n}=(0,c.useDispatch)(h.store);return{togglePostType:n=>{return t((r=e,s=n,(0,v.xor)(r,[s])));var r,s},setPostAuthor:n}},gr=({checked:e,children:t,isPartialCheck:n,network:r,onChange:o})=>(0,s.jsxs)("li",{className:"nelio-content-social-filters__network-and-profiles",children:[(0,s.jsx)(rt.PartialCheckboxControl,{label:(0,s.jsx)("strong",{children:(0,bn.getNetworkLabel)("name",r)}),checked:e,isPartialCheck:n,onChange:o}),(0,s.jsx)("ul",{className:"nelio-content-social-filters__profiles",children:t})]},`nelio-content-social-filters__network-${r}`),pr=({label:e,checked:t,onChange:n})=>(0,s.jsx)("li",{children:(0,s.jsx)(C.CheckboxControl,{label:e,checked:t,onChange:n})}),mr=(0,g.withProfileCheck)((()=>{const{areAutomaticMessagesVisible:e,areFailedMessagesVisible:t,disabledProfilesByNetwork:n,networks:r,profilesByNetwork:o}=fr(),{showAutomaticMessages:i,showFailedMessages:a,toggleProfile:l,enableAllProfilesInNetwork:c,disableAllProfilesInNetwork:d}=vr();return(0,s.jsx)("div",{className:"nelio-content-social-filters",children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{className:"nelio-content-social-filters__title",children:(0,s.jsx)("strong",{children:(0,at._x)("Profile Filters","text","nelio-content")})},"nelio-content-social-filters__profile-title"),r.map((e=>{const t=o[e]||[],r=n[e]||[];return(0,s.jsx)(gr,{checked:r.length!==t.length,isPartialCheck:!(0,f.isEmpty)(r),network:e,onChange:t=>t?c(e):d(e),children:1<t.length&&t.map((({id:t,alias:n,displayName:o})=>(0,s.jsx)(pr,{label:null!=n?n:o,checked:!r.includes(t),onChange:()=>l(e,t)},`nelio-content-social-filters__profile-${t}`)))},`nelio-content-social-filters__network-${e}`)})),(0,s.jsx)("li",{className:"nelio-content-social-filters__title",children:(0,s.jsx)("strong",{children:(0,at._x)("Additional Filters","text","nelio-content")})},"nelio-content-social-filters__additional-title"),(0,s.jsx)("li",{children:(0,s.jsx)(C.CheckboxControl,{label:(0,at._x)("Show automatic social messages","command","nelio-content"),checked:e,onChange:()=>i(!e)})},"nelio-content-social-filters__auto"),(0,s.jsx)("li",{children:(0,s.jsx)(C.CheckboxControl,{label:(0,at._x)("Always show failed social messages","command","nelio-content"),checked:t,onChange:()=>a(!t)})},"nelio-content-social-filters__failed")]})})})),fr=()=>u((e=>{const{getSocialProfiles:t}=e(g.store),{areAutomaticMessagesVisible:n,areFailedMessagesVisible:r,getDisabledSocialProfilesByNetwork:s}=e(h.store),o=t(),i=(0,v.uniq)((0,v.map)(o,"network")),a={};i.forEach((e=>{a[e]=(0,v.filter)(o,{network:e})}));const l=s(),c={},d=(0,v.map)(o,"id");for(const e of i)c[e]=(0,v.filter)(l[e],(e=>d.includes(e)));return{areAutomaticMessagesVisible:n(),areFailedMessagesVisible:r(),networks:i,profilesByNetwork:a,disabledProfilesByNetwork:c}})),vr=()=>{const{profilesByNetwork:e,disabledProfilesByNetwork:t}=fr(),{setDisabledSocialProfilesInNetwork:n,showAutomaticMessages:r,showFailedMessages:s}=(0,c.useDispatch)(h.store);return{showAutomaticMessages:r,showFailedMessages:s,toggleProfile:(e,r)=>{return n(e,(s=t[e],o=r,(0,v.xor)(null!=s?s:[],[o])));var s,o},enableAllProfilesInNetwork:e=>n(e,[]),disableAllProfilesInNetwork:t=>n(t,(0,v.map)(e[t],"id"))}},xr=()=>{const e=u((e=>e(g.store).getCurrentUserId())),t=u((e=>e(h.store).areTasksVisible())),n=u((e=>e(h.store).getTaskAssigneeFilter())),{setTaskAssigneeFilter:r}=(0,c.useDispatch)(h.store),{toggleTasksVisibility:o}=(0,c.useDispatch)(h.store);return(0,s.jsxs)("div",{className:"nelio-content-task-filters",children:[(0,s.jsx)(C.CheckboxControl,{className:"nelio-content-task-filters__visibility",checked:t,onChange:o,label:(0,at._x)("Show tasks","command","nelio-content")}),t&&(0,s.jsxs)("div",{className:"nelio-content-task-filters__assignee",children:[(0,s.jsx)("span",{children:(0,at._x)("Assignee","text","nelio-content")}),(0,s.jsx)(rt.AuthorSearcher,{placeholder:(0,at._x)("Search assignee…","command","nelio-content"),value:n,onChange:r,hasAllAuthors:!0,allAuthorsLabel:(0,at._x)("All Assignees","text","nelio-content")}),(0,s.jsx)("div",{className:"nelio-content-task-filters__right-action",children:(0,s.jsx)(C.Button,{variant:"link",onClick:()=>r(e),children:(0,at._x)("Show My Tasks","command","nelio-content")})})]})]})},br=()=>{const e=u((e=>e(h.store).getDisabledExternalCalendars())),t=u((e=>e(h.store).getExternalCalendars())),n=u((e=>e(h.store).getDisabledInternalEventTypes())),r=_r(),{manageExternalCalendars:o,setDisabledInternalEventTypes:i,setDisabledExternalCalendars:a}=(0,c.useDispatch)(h.store);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"nelio-content-external-event-filters",children:[(0,s.jsx)("p",{className:"nelio-content-external-event-filters__title",children:(0,at._x)("External Calendars","text","nelio-content")}),t.map((({name:t,url:n})=>(0,s.jsx)(C.CheckboxControl,{label:(0,v.trim)(t)||yr(n),checked:!e.includes(n),onChange:()=>(t=>a(e.includes(t)?(0,v.without)(e,t):[...e,t]))(n)},n))),(0,s.jsx)("div",{className:"nelio-content-external-event-filters__actions",children:(0,s.jsx)(C.Button,{variant:"link",onClick:()=>o(!0),children:(0,at._x)("Manage Calendars","command","nelio-content")})})]}),!!r.length&&(0,s.jsxs)("div",{className:"nelio-content-internal-event-filters",children:[(0,s.jsx)("p",{className:"nelio-content-internal-event-filters__title",children:(0,at._x)("Events from Plugins","text","nelio-content")}),r.map((({type:e,label:t})=>(0,s.jsx)(C.CheckboxControl,{label:(0,v.trim)(t),checked:!n.includes(e),onChange:()=>(e=>i(n.includes(e)?(0,v.without)(n,e):[...n,e]))(e)},e)))]})]})},yr=(e="")=>e.replace(/^https?:\/\//,"").replace(/\/.*$/,""),_r=()=>u((e=>e(g.store).getActivePlugins())).reduce(((e,t)=>{switch(t){case"mailpoet/mailpoet":return[...e,{type:f.MAILPOET_NEWSLETTER,label:(0,at._x)("MailPoet Newsletters","text","nelio-content")}];case"the-events-calendar/the-events-calendar":return[...e,{type:f.THE_EVENTS_CAL,label:(0,at._x)("The Events Calendar","text","nelio-content")}];case"nelio-ab-testing/nelio-ab-testing":return[...e,{type:f.NELIO_AB_TESTING,label:(0,at._x)("Nelio A/B Testing","text","nelio-content")}];default:return e}}),[]),Cr=({className:e})=>{const t=u((e=>e(h.store).getActiveTabInFilterPane())),{setActiveTabInFilterPane:n}=(0,c.useDispatch)(h.store),r=[{name:"post",title:(0,s.jsx)(C.Dashicon,{icon:"admin-post"}),className:"nelio-content-calendar-filters__tab"},{name:"social",title:(0,s.jsx)(C.Dashicon,{icon:"share"}),className:"nelio-content-calendar-filters__tab"},{name:"task",title:(0,s.jsx)(C.Dashicon,{icon:"flag"}),className:"nelio-content-calendar-filters__tab"},{name:"event",title:(0,s.jsx)(C.Dashicon,{icon:"calendar-alt"}),className:"nelio-content-calendar-filters__tab"}];return(0,s.jsx)("div",{className:D("nelio-content-calendar-filters",e),children:(0,s.jsx)(C.TabPanel,{className:"nelio-content-calendar-filters__tab-panel",activeClass:"nelio-content-calendar-filters__tab--is-active",orientation:"horizontal",initialTabName:t,tabs:r,onSelect:e=>{n(e)},children:({name:e})=>(0,s.jsxs)(s.Fragment,{children:["post"===e&&(0,s.jsx)(dr,{}),"social"===e&&(0,s.jsx)(mr,{}),"task"===e&&(0,s.jsx)(xr,{}),"event"===e&&(0,s.jsx)(br,{})]})})})},wr=({className:e=""})=>{const{notices:t,removeNotice:n}=Dr();return(0,s.jsx)("div",{className:`${e} nelio-content-calendar-error-pane`,children:(0,s.jsx)(C.NoticeList,{notices:t,onRemove:n})})},Dr=()=>{const e=u((e=>e(a.store).getNotices())),{removeNotice:t}=(0,c.useDispatch)(a.store);return{notices:e,removeNotice:t}},jr=({id:e})=>{const t=u((t=>t(g.store).getReusableMessage(e))),{summary:n,onDragStart:r,onDragEnd:o}=Sr(t),[i,a]=hn({type:n.type,item:()=>(r(),n),end:o},[n]),l=(0,g.useFeatureGuard)("calendar/edit-reusable-messages"),{openSocialMessageEditor:d}=(0,c.useDispatch)(ot.store);if(!t)return null;const h=l((()=>!!t&&d(t,{context:"calendar",reusableMessage:t.id})));return(0,s.jsxs)("div",{ref:a,className:"nelio-content-reusable-message",onClick:()=>{h()},children:[(0,s.jsx)(rt.SocialProfileIcon,{className:"nelio-content-calendar-social-message__profile-icon",profileId:t.profileId}),(0,s.jsx)("div",{className:"nelio-content-calendar-social-message__content",children:(0,bn.doesNetworkSupport)("text",t.network)?t.textComputed:Nr(t.type)})]})},Tr={type:"unknown",id:""},Sr=e=>{const t=u((t=>{const n=t(g.store).getToday();return e?{type:"reusable-message",id:e.id,minDroppableDay:n}:void 0})),{onDragStart:n,onDragEnd:r}=(0,h.useItemDragTriggers)(t);return{summary:null!=t?t:Tr,onDragStart:n,onDragEnd:r}};function Nr(e){switch(e){case"auto-image":case"text":return"";case"image":return(0,at._x)("(image)","text","nelio-content");case"video":return(0,at._x)("(video)","text","nelio-content");case"multi-media":return(0,at._x)("(media)","text","nelio-content")}}let Ir;const Er=({className:e=""})=>{const t=Or(),{setReusableMessageQuery:n,loadReusableMessages:r}=(0,c.useDispatch)(g.store);return(0,l.useEffect)((()=>{const e=setTimeout((()=>{t!==Ir&&(Ir=t,r(t))}),void 0===Ir?0:300);return()=>clearTimeout(e)}),[t,r]),(0,s.jsx)("div",{className:D({[e]:!0,"nelio-content-reusable-message-searcher":!0}),children:(0,s.jsx)(C.TextControl,{value:t,onChange:n,placeholder:(0,at._x)("Search","command","nelio-content")})})},Or=()=>u((e=>e(g.store).getReusableMessageQuery())),Pr=({className:e=""})=>{const t=Rr(),n=Ar(t),r=u((e=>e(g.store).canCurrentUserCreateMessagesAlways())),o=u((e=>e(g.store).getSocialProfiles()[0])),i=(0,g.useFeatureGuard)("calendar/create-reusable-messages",r),{openNewSocialMessageEditor:a}=(0,c.useDispatch)(ot.store);return(0,s.jsxs)("div",{className:D({"nelio-content-reusable-messages":!0,[e]:!0}),children:[(0,s.jsx)("div",{className:"nelio-content-reusable-messages__title",children:(0,s.jsx)("div",{children:(0,at._x)("Reusable","text (social messages)","nelio-content")})}),r&&(0,s.jsxs)("div",{className:"nelio-content-reusable-messages__actions",children:[(0,s.jsx)(C.Button,{className:"nelio-content-reusable-messages__header-button nelio-content-reusable-messages__add-item-icon",icon:"insert"}),(0,s.jsx)(C.Button,{className:"nelio-content-reusable-messages__header-button nelio-content-reusable-messages__add-reusable-message",icon:"share",label:(0,at._x)("Add New Reusable Message","command","nelio-content"),tooltipPosition:"bottom center",disabled:!r,onClick:i((()=>a({profileId:null==o?void 0:o.id,network:null==o?void 0:o.network,timeType:"time-interval",timeValue:"morning"},{context:"calendar",reusableMessage:!0})))})]}),(0,s.jsx)(Er,{className:"nelio-content-reusable-messages__searcher"}),(0,s.jsxs)("div",{className:"nelio-content-reusable-messages__list",children:[!n.length&&(0,s.jsx)(kr,{}),n.map((e=>(0,s.jsx)(jr,{id:e.id},e.id)))]}),(0,s.jsx)(Mr,{})]})},kr=()=>{const e=Rr();return"loaded"===Lr(e)?(0,s.jsx)("div",{className:"nelio-content-reusable-messages__no-messages",children:(0,v.trim)(e)?(0,at._x)("No reusable messages found","text","nelio-content"):(0,at._x)("No reusable messages","text","nelio-content")}):(0,s.jsxs)("div",{className:"nelio-content-reusable-messages__no-messages",children:[(0,s.jsx)(C.Spinner,{}),(0,s.jsx)("span",{children:(0,at._x)("Loading…","text","nelio-content")})]})},Mr=()=>{const e=Rr(),t=Lr(e),{loadReusableMessages:n}=(0,c.useDispatch)(g.store);return"pending"!==t?null:(0,s.jsx)("div",{className:"nelio-content-reusable-messages__load-more-action",children:(0,s.jsx)(C.Button,{variant:"secondary",onClick:()=>{n(e)},children:(0,at._x)("Load More","command (reusable messages)","nelio-content")})})},Rr=()=>u((e=>e(g.store).getReusableMessageQuery())),Ar=e=>u((t=>t(g.store).getReusableMessages(e))),Lr=e=>u((t=>t(g.store).getReusableMessageQueryStatus(e)));var Hr,Ur;function Fr(){return Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fr.apply(null,arguments)}const Br=function(e){return Oe.createElement("svg",Fr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 590.702 190.205"},e),Hr||(Hr=Oe.createElement("path",{d:"M95.102 0C42.683 0 0 42.683 0 95.102c0 52.418 42.683 95.103 95.102 95.103 30.346 0 57.516-14.278 74.97-36.594l-14.34-11.216C141.587 160.479 119.755 172 95.102 172c-42.582 0-76.897-34.317-76.897-76.898 0-42.582 34.315-76.897 76.897-76.897 18.04 0 34.624 6.266 47.757 16.723L95.232 82.24 68.648 55.574 55.756 68.428l39.416 39.535 67.346-66.904-.004-.004.088.047 5.712-5.711.432-.354C151.295 13.72 124.71 0 95.102 0m110.4 15.402v79.7h13.201V28.703h46.299c3.8 0 6.9 3.099 6.9 6.899v59.5h13.301v-65.8c0-7.7-6.2-13.9-13.9-13.9zm93 0v13.301h79.701v-13.3zm93 0v65.801c0 7.7 6.2 13.899 13.9 13.899h65.801v-13.3h-59.5c-3.8 0-6.9-3.1-6.9-6.9v-59.5zm92.9 0v79.7h13.301v-79.7zm40.4 0c-7.7 0-13.8 6.201-13.8 13.801v52.1c0 7.7 6.2 13.799 13.8 13.799h52.1c7.6 0 13.801-6.2 13.801-13.8V29.204c0-7.7-6.2-13.8-13.8-13.8zm6.3 13.2h39.4c3.8 0 6.8 3.1 6.8 6.9v39.4c0 3.8-3 6.801-6.8 6.801h-39.4c-3.8 0-6.8-3-6.8-6.8V35.501c0-3.8 3-6.9 6.8-6.9m-232.6 20v13.3h79.701v-13.3zm0 33.2v13.3h79.701v-13.3z",className:"full-logo_svg__nelio-content-logo-dark"})),Ur||(Ur=Oe.createElement("path",{d:"M174.402 53.203c-5 0-9 4-9 9 0 4.9 4 9 9 9s9-4 9-9-4-9.1-9-9m6.7 32.899c-5 0-9 4-9 9 0 4.9 4 9 9 9s9-4 9-9-4-9.1-9-9m221.3 18-5.199.601v15.7h-11.5v4.5h11.5v32.8c0 10.5 3.7 17.299 15.2 17.299 3.3 0 6.699-1.1 10.099-2.7l-1.9-4.4c-2.7 1.3-5.7 2.2-8.3 2.2-8.4 0-9.9-5.099-9.9-12.399v-32.8h18.301v-4.5h-18.3zm168.2 0-5.2.601v15.7h-11.5v4.5h11.5v32.8c0 10.5 3.7 17.299 15.2 17.299 3.3 0 6.701-1.1 10.101-2.7l-1.9-4.4c-2.7 1.3-5.701 2.2-8.301 2.2-8.4 0-9.9-5.099-9.9-12.399v-32.8h18.3v-4.5h-18.3zm-396.1 14.9c-5 0-9 4-9 9 0 4.9 4 9 9 9s9-4 9-9-4-9-9-9m115.4.4c-15.2 0-27.4 10.9-27.4 28 0 17.2 12.2 27.6 27.4 27.6s27.4-10.5 27.4-27.6-12.2-28-27.4-28m64.2 0c-7.5.1-15.1 3.2-19.2 10.6v-9.7h-5.199v53.901h5.299v-30c0-11.1 7.8-19.501 18.9-19.601 11.7-.1 19.2 6.5 19.2 18.7v31h5.3v-31.099c0-15-9.9-23.8-24.3-23.8m168.2 0c-7.5.1-15.1 3.2-19.2 10.6v-9.7h-5.2v53.901h5.301v-30c0-11.1 7.799-19.501 18.899-19.601 11.7-.1 19.2 6.5 19.2 18.7v31h5.3v-31.099c0-15-9.9-23.8-24.3-23.8m-64.9.1c-15.2 0-27.4 11.7-27.4 27.8 0 17.2 12.2 27.7 27.4 27.8 8.6 0 18-3.499 23.2-10.399l-3.8-3.101c-4 5.4-12.3 8.2-19.4 8.2-11.1 0-20.8-7.3-21.9-20h48.5c2.1-21-11.4-30.3-26.6-30.3m-224 .3c-15.6 0-27.699 10.5-27.699 27.5s12.5 27.5 27.7 27.5c7.1 0 14.099-2.599 19.599-8.099l-3.6-3.5c-4.3 4.4-10.2 6.7-16 6.7-12.2 0-22.5-8-22.5-22.5s10.3-22.5 22.5-22.5c5.7 0 11.7 2 16.1 6.4l3.5-3.4c-5.4-5.4-12.5-8.1-19.6-8.1m56.6 4.6c12.2 0 22.1 9 22.1 23s-10 22.4-22.1 22.4c-12.2 0-22.1-8.5-22.1-22.4s9.9-23 22.1-23m167.4 0c13 0 21.701 7.4 21.801 20.7h-43.701c1.2-13.2 10.8-20.7 21.9-20.7",className:"full-logo_svg__nelio-content-logo-light"})))},Vr=({className:e=""})=>{const t=u((e=>e(g.store).getToday())),n=(0,f.getSubscribeLink)(t,"calendar-sidebar"),r=(0,f.getSubscribeLabel)(t);return(0,s.jsxs)("div",{className:D({"nelio-content-calendar-subscribe-sidebar":!0,[e]:!0}),children:[(0,s.jsx)("div",{className:"nelio-content-calendar-subscribe-sidebar__logo",children:(0,s.jsx)(Br,{})}),(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:(0,at._x)("Maximize the potential of your blog with Nelio Content Premium","text","nelio-content")})}),(0,s.jsx)("p",{children:(0,at._x)("Streamline your content creation, scheduling, and promotion on all relevant social platforms, including X, Bluesky, Instagram, or Threads.","text","nelio-content")}),(0,s.jsxs)("div",{className:"nelio-content-calendar-subscribe-sidebar__button-wrapper",children:[(0,s.jsx)(C.ExternalLink,{className:"nelio-content-calendar-subscribe-sidebar__subscribe-button components-button is-primary",href:n,children:r}),(0,s.jsx)("p",{children:(0,at._x)("30-day money-back guarantee","text","nelio-content")})]}),(0,s.jsxs)("div",{className:"nelio-content-calendar-subscribe-sidebar__extra-features",children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:(0,at._x)("Nelio Content Premium also gives you:","text","nelio-content")})}),(0,s.jsx)("ul",{children:f.PREMIUM_FEATURES.map((({name:e,description:t},n)=>(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:e}),` ${t}`]},n)))})]})]})},$r=({className:e=""})=>{const[t,n]=Wr();return(0,s.jsx)("div",{className:D({[e]:!0,"nelio-content-unscheduled-post-searcher":!0}),children:(0,s.jsx)(C.TextControl,{value:t,placeholder:(0,at._x)("Search","text","nelio-content"),onChange:n})})},Wr=()=>{const e=u((e=>e(h.store).getUnscheduledPostsSearchQuery()||"")),[t,n]=(0,l.useState)(e),[r,s]=qr(),{loadUnscheduledPosts:o}=(0,c.useDispatch)(h.store);(0,l.useEffect)((()=>{e!==t&&(n(e),clearTimeout(r),s((()=>{o(e)}),250))}),[e,t]);const{setUnscheduledPostsQuery:i}=(0,c.useDispatch)(h.store);return[e,i]},qr=()=>{const e=u((e=>e(h.store).getUnscheduledPostsSearchTimeout())),{setUnscheduledPostsSearchTimeout:t}=(0,c.useDispatch)(h.store);return[e,(e,n)=>t(setTimeout(e,n))]},zr=({className:e=""})=>{const t=Gr(),{isLoading:n,isFirstPageLoaded:r,areTherePostsToLoad:o}=Xr(),i=Qr(),a=Kr(),[{isHovered:l},c]=Yt({accept:["post"],drop:a,collect:e=>({isHovered:e.canDrop()&&e.isOver()})}),d=(0,h.useNewPostLabel)(),u=(0,h.useCanCreatePosts)(),g=(0,h.usePostCreator)("","");return(0,s.jsxs)("div",{className:D({"nelio-content-unscheduled-posts":!0,"nelio-content-unscheduled-posts--is-hovered":l,[e]:!0}),ref:c,children:[(0,s.jsx)("div",{className:"nelio-content-unscheduled-posts__title",children:(0,s.jsx)("div",{children:(0,at._x)("Unscheduled","text (posts)","nelio-content")})}),(0,s.jsxs)("div",{className:"nelio-content-unscheduled-posts__actions",children:[(0,s.jsx)(C.Button,{className:"nelio-content-unscheduled-posts__header-button nelio-content-unscheduled-posts__add-item-icon",icon:"insert"}),(0,s.jsx)(C.Button,{className:"nelio-content-unscheduled-posts__header-button nelio-content-unscheduled-posts__add-post",icon:"admin-post",disabled:!u,label:d,tooltipPosition:"bottom center",onClick:g})]}),(0,s.jsx)($r,{className:"nelio-content-unscheduled-posts__searcher"}),(0,s.jsxs)("div",{className:"nelio-content-unscheduled-posts__list",children:[t.map((e=>(0,s.jsx)(Hn,{itemId:e.id,itemType:e.type},`${e.type}-${e.id}`))),r&&o&&(0,s.jsx)("div",{className:"nelio-content-unscheduled-posts__load-more-action",children:(0,s.jsx)(C.Button,{variant:"secondary",isBusy:n,disabled:n,onClick:i,children:n?(0,at._x)("Loading…","text","nelio-content"):(0,at._x)("Load More","command","nelio-content")})})]})]})},Yr=()=>u((e=>e(h.store).getUnscheduledPostsSearchQuery()||"")),Gr=()=>{const e=Yr();return u((t=>{const{getPost:n,getUnscheduledPosts:r}=t(g.store),{isItemVisible:s}=t(h.store),o=(0,v.trim)(e.toLowerCase()),i=r();return o?i.filter((({id:e})=>{const t=n(e);return-1!==((null==t?void 0:t.title)?t.title.toLowerCase():"").indexOf(o)||`${e}`===o})):i.filter((({id:e})=>{const t=n(e);return!!t&&s("post",t)}))}))},Xr=()=>{const e=Yr();return u((t=>{const{areThereUnscheduledPostsToLoad:n,getLastLoadedPageInUnscheduled:r,isLoadingUnscheduledPosts:s}=t(h.store);return{isLoading:s(e),isFirstPageLoaded:0<r(e),areTherePostsToLoad:n(e)}}))},Qr=()=>{const e=Yr(),{loadUnscheduledPosts:t}=(0,c.useDispatch)(h.store);return()=>t(e)},Kr=()=>{const{unschedulePost:e,dragEnd:t}=(0,c.useDispatch)(h.store);return({type:n,id:r})=>{"post"===n&&e(r),t()}},Jr=()=>{switch((0,h.useSidePane)()){case"none":return null;case"unscheduled-posts":return(0,s.jsx)(zr,{className:"nelio-content-calendar__sidebar"});case"reusable-messages":return(0,s.jsx)(Pr,{className:"nelio-content-calendar__sidebar"});case"filters":return(0,s.jsx)(Cr,{className:"nelio-content-calendar__sidebar"});case"subscribe-banner":return(0,s.jsx)(Vr,{className:"nelio-content-calendar__sidebar nelio-content-calendar__sidebar--is-banner"});case"errors":return(0,s.jsx)(wr,{className:"nelio-content-calendar__sidebar"})}},Zr=()=>{const[e,t]=u((e=>[e(h.store).getEditingExternalCalendarUrl(),e(h.store).isSavingAnExternalCalendar()])),{setEditingExternalCalendarUrl:n}=(0,c.useDispatch)(h.store);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(C.TextControl,{className:"nelio-content-new-external-calendar-form__input-text",value:e,onChange:n,disabled:t,placeholder:(0,at._x)("Write the URL of an ical calendar…","user","nelio-content")})})},es=()=>{const[e,t]=u((e=>[e(h.store).getEditingExternalCalendarName(),e(h.store).isSavingAnExternalCalendar()])),{setEditingExternalCalendarName:n}=(0,c.useDispatch)(h.store);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(C.TextControl,{required:!0,label:(0,at._x)("Name","text","nelio-content"),disabled:t,value:e,onChange:n,placeholder:(0,at._x)("Name this calendar…","user","nelio-content")})})},ts=()=>{const e=u((e=>e(h.store).getExternalCalendars()));return(0,v.isEmpty)(e)?(0,s.jsxs)(s.Fragment,{children:[(0,at._x)("Add your first external calendar and look at its events using Nelio’s Editorial Calendar.","user","nelio-content")," "]}):(0,s.jsx)(s.Fragment,{children:e.map((({url:e})=>(0,s.jsx)(ns,{url:e},e)))})},ns=({url:e})=>{var t;const n=u((e=>e(h.store).isAddingAnExternalCalendar())),r=u((t=>t(h.store).isDeletingExternalCalendar(e))),o=u((t=>t(h.store).getExternalCalendar(e))),i=null!==(t=null==o?void 0:o.name)&&void 0!==t?t:"",{openExternalCalendarEditor:a,deleteExternalCalendar:l}=(0,c.useDispatch)(h.store);return(0,s.jsxs)("div",{className:D({"nelio-content-external-calendar-manager__item":!0,"nelio-content-external-calendar-manager__item--is-deleting":r}),children:[(0,s.jsx)("div",{className:"nelio-content-external-calendar-manager__item-name",children:i}),(0,s.jsx)("div",{className:"nelio-content-external-calendar-manager__item-url",children:r?(0,s.jsx)("span",{children:e}):(0,s.jsx)(C.ExternalLink,{href:e,children:e})}),r?(0,s.jsx)("div",{className:"nelio-content-external-calendar-manager__item-feedback",children:(0,s.jsx)(rt.DeleteButton,{isDeleting:!0,onClick:()=>{}})}):(0,s.jsxs)("div",{className:"nelio-content-external-calendar-manager__item-actions",children:[(0,s.jsx)(C.Button,{variant:"link",disabled:n,onClick:()=>a({url:e,name:i}),children:(0,at._x)("Edit","command","nelio-content")})," | ",(0,s.jsx)(rt.DeleteButton,{disabled:n,onClick:()=>l(e)})]})]})},rs=()=>{const e=ss(),t=u((e=>({url:e(h.store).getEditingExternalCalendarUrl(),name:e(h.store).getEditingExternalCalendarName()}))),{closeExternalCalendarEditor:n,manageExternalCalendars:r,openExternalCalendarEditor:o,saveExternalCalendar:i,addExternalCalendar:a}=(0,c.useDispatch)(h.store),l={label:(0,at._x)("Add Calendar","command","nelio-content"),onClick:o},d=t.url,g={label:(0,at._x)("Add Calendar","command","nelio-content"),onClick:(0,f.isUrl)(d)?()=>a(d):void 0},p={label:(0,at._x)("Update Calendar","command","nelio-content"),onClick:()=>i({url:t.url,name:t.name})},m={label:(0,at._x)("Close","command","nelio-content"),onClick:()=>r(!1)},v={label:(0,at._x)("Back","command","nelio-content"),onClick:n};switch(e){case"hidden":return null;case"view":return(0,s.jsx)(os,{title:(0,at._x)("External Calendar Management","text","nelio-content"),content:ts,actions:[m,l]});case"create":return(0,s.jsx)(os,{title:(0,at._x)("Add External Calendar","text","nelio-content"),content:Zr,actions:[v,g]});case"edit":return(0,s.jsx)(os,{title:(0,at._x)("Edit External Calendar","text","nelio-content"),content:es,actions:[v,p]})}},ss=()=>u((e=>{if(!e(h.store).isManagingExternalCalendars())return"hidden";const t=e(h.store).getExternalCalendarEditorMode();return"none"===t?"view":t})),os=({title:e,content:t,actions:[n,r]})=>{var o,i;const[a,l]=u((e=>[e(h.store).isSavingAnExternalCalendar()||e(h.store).isAddingAnExternalCalendar(),e(h.store).isDeletingAnExternalCalendar()])),c=a||l;return(0,s.jsxs)(C.Modal,{title:e,isDismissible:!1,onRequestClose:()=>{},className:"nelio-content-external-calendar-manager",children:[(0,s.jsx)("div",{className:"nelio-content-external-calendar-manager__content",children:(0,s.jsx)(t,{})}),(0,s.jsxs)("div",{className:"nelio-content-external-calendar-manager__actions",children:[(0,s.jsx)(C.Button,{variant:"secondary",onClick:null!==(o=n.onClick)&&void 0!==o?o:()=>{},disabled:c||!n.onClick,children:n.label}),(0,s.jsx)(C.Button,{variant:"primary",onClick:null!==(i=r.onClick)&&void 0!==i?i:()=>{},disabled:c||!r.onClick,isBusy:a,children:r.label})]})]})},is=()=>{const e=u((e=>e(h.store).getRecurringAction())),{closeRecurringDialog:t,deleteSocialMessage:n,rescheduleSocialMessage:r}=(0,c.useDispatch)(h.store);if(!e)return null;const{type:o}=e,i=as(o);return(0,s.jsx)(C.Modal,{title:i.title,isDismissible:!1,onRequestClose:()=>{},children:(0,s.jsxs)("div",{className:"nelio-content-recurring-dialog-mode",children:[(0,s.jsx)(C.Button,{variant:"secondary",onClick:()=>{switch(o){case"trash":n(e.props.id),t();break;case"reschedule":r(e.props.id,e.props.day,e.props.hour,"disable-recurrence"),t();break;default:(0,f.assertUnreachable)(o)}},children:i.one}),(0,s.jsx)(C.Button,{variant:"primary",onClick:()=>{switch(o){case"trash":n(e.props.id,"following"),t();break;case"reschedule":r(e.props.id,e.props.day,e.props.hour),t();break;default:(0,f.assertUnreachable)(o)}},children:i.following})]})})},as=e=>{switch(e){case"trash":return{title:(0,at._x)("Recurring Message Trash","text","nelio-content"),one:(0,at._x)("Trash This Message","command","nelio-content"),following:(0,at._x)("Trash This and Following Messages","command","nelio-content")};case"reschedule":return{title:(0,at._x)("Recurring Message Reschedule","text","nelio-content"),one:(0,at._x)("Update This Message","command","nelio-content"),following:(0,at._x)("Update This and Following Messages","command","nelio-content")}}},ls=()=>{const e=cs(),t=ds(null==e?void 0:e.postId),{assignee:n,assigner:r}=us(e),{openTaskViewerDialog:o}=(0,c.useDispatch)(h.store),i=()=>o();return e?(0,s.jsxs)(rt.LoadingModal,{className:"nelio-content-calendar-task-viewer",isLoading:"loading"===t.status,title:(0,at._x)("Task Details","text","nelio-content"),onClose:i,children:[(0,s.jsxs)("ul",{className:"nelio-content-calendar-task-viewer__content",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:(0,at._x)("Task:","text","nelio-content")}),` ${e.task}`]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:(0,at._x)("Assignee:","text","nelio-content")})," ",n||(0,at._x)("Unknown user","text","nelio-content")]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:(0,at._x)("Creator:","text","nelio-content")})," ",r||(0,at._x)("Unknown user","text","nelio-content")]}),"error"===t.status&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:(0,at._x)("Related Post:","text","nelio-content")})," ",(0,at._x)("Related post could not be loaded","text","nelio-content")]}),"loaded"===t.status&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:(0,at._x)("Related Post:","text","nelio-content")})," ",(0,s.jsx)(C.ExternalLink,{href:t.post.permalink,children:t.post.title})]})]}),(0,s.jsx)("div",{className:"nelio-content-calendar-task-viewer__actions",children:(0,s.jsx)(C.Button,{variant:"secondary",onClick:i,children:(0,at._x)("Close","command","nelio-content")})})]}):null},cs=()=>u((e=>{const{getTask:t}=e(g.store),{getTaskIdInTaskViewer:n}=e(h.store),r=n();return r?t(r):void 0})),ds=e=>u((t=>{if(!e)return{status:"none"};const n=t(g.store).getPost(e);return n?{post:n,status:"loaded"}:{status:t(g.store).isResolving("getPost",[e])?"loading":"error"}})),us=e=>({assignee:(0,g.useAuthorName)(null==e?void 0:e.assigneeId),assigner:(0,g.useAuthorName)(null==e?void 0:e.assignerId)}),hs=()=>{const e=(0,h.useFirstDay)(),t=(0,h.useNumberOfVisibleDays)(),n=(0,h.useSidePane)(),r=(0,rt.getPremiumComponent)("calendar/future-action-editor","null");return(0,s.jsx)(l.StrictMode,{children:(0,s.jsxs)(C.SlotFillProvider,{children:[(0,s.jsx)(gs,{children:(0,s.jsxs)("div",{className:"nelio-content-calendar",children:[(0,s.jsx)(nn,{className:"nelio-content-calendar__header"}),(0,s.jsx)(sr,{className:D({"nelio-content-calendar__grid":!0,"nelio-content-calendar__grid--has-sidebar":"none"!==n,"nelio-content-calendar__grid--has-banner-sidebar":"subscribe-banner"===n}),firstDay:e,numberOfDays:t}),(0,s.jsx)(Jr,{})]})}),(0,s.jsx)(wt,{}),(0,s.jsx)(rs,{}),(0,s.jsx)(is,{}),(0,s.jsx)(st.PostQuickEditor,{context:"calendar"}),(0,s.jsx)(ot.SocialMessageEditor,{}),(0,s.jsx)(r,{}),(0,s.jsx)(it.TaskEditor,{}),(0,s.jsx)(ls,{}),(0,s.jsx)(rt.PremiumDialog,{}),(0,s.jsx)(rt.ContextualHelp,{context:"editorial-calendar",component:()=>null,autostart:!0,walkthrough:lt}),(0,s.jsx)(C.Popover.Slot,{})]})})},gs=({children:e})=>(0,s.jsx)(Re,{backend:nt,children:e});var ps=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};function ms(e,t){var{externalCalendars:n}=t,r=ps(t,["externalCalendars"]);const{initCalendarSettings:o,loadPreviousFilters:a,loadItemsNow:u,loadUnscheduledPosts:b,receiveExternalCalendars:y}=(0,c.dispatch)(h.store);o(Object.assign(Object.assign({},r),function(){let e={};const t=(0,f.getValue)("calendarMode");void 0!==t&&(e=Object.assign(Object.assign({},e),{calendarMode:t}));const n=(0,f.getValue)("calendarSidePane");return void 0!==n&&(e=Object.assign(Object.assign({},e),{sidePane:n})),e}())),y(n),a(function(){var e;return null!==(e=(0,f.getValue)("calendarFilters"))&&void 0!==e?e:{}}()),function(){const e=function(){const e=document.location.href,t=(0,p.getQueryArg)(e,"day");if("string"==typeof t&&/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(t))return t;const n=(0,p.getQueryArg)(e,"date");return"string"==typeof n&&/^[0-9]{4}-[0-9]{2}$/.test(n)?`${n}-01`:""}();e&&(0,c.dispatch)(h.store).setFocusDay(e);const{getSettings:t}=(0,c.select)(h.store);let n=t();m(n.calendarMode,n.focusDay),d((()=>{const e=t();e.calendarMode===n.calendarMode&&e.focusDay===n.focusDay||(n=e,m(e.calendarMode,e.focusDay))}),h.store)}(),i((()=>{u(),b();const{getInternalEvents:t,getExternalEvents:r}=(0,c.select)(g.store);t(),n.forEach((({url:e})=>{r(e)}));const o=document.getElementById(e);var i,a;i=(0,s.jsx)(hs,{}),(a=o)&&(l.createRoot?(0,l.createRoot)(a).render(i):(0,l.render)(i,a)),function(){const e=()=>({calendarMode:(0,c.select)(h.store).getCalendarMode(),sidePane:(0,c.select)(h.store).getSidePane(),filters:(0,c.select)(h.store).getFilters()});let t=e();d((()=>{const n=e();n.calendarMode!==t.calendarMode&&(0,f.setValue)("calendarMode",n.calendarMode),n.sidePane!==t.sidePane&&(0,f.setValue)("calendarSidePane",n.sidePane),n.filters!==t.filters&&(0,f.setValue)("calendarFilters",n.filters),t=n}),h.store)}(),function(){const e=document.getElementById("collapse-button");e&&(e.addEventListener("click",(0,v.debounce)(x,50)),e.addEventListener("click",(0,v.debounce)(x,250)))}(),window.addEventListener("resize",(0,v.debounce)(x,250)),function(){let e=(0,c.select)(h.store).getCalendarMode();d((()=>{const t=(0,c.select)(h.store).getCalendarMode();t!==e&&(e=t,x())}),h.store)}(),(0,f.elementReady)(".nelio-content-calendar__grid",x)}))}}},n={};function r(e){var s=n[e];if(void 0!==s)return s.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,s,o)=>{if(!n){var i=1/0;for(d=0;d<e.length;d++){for(var[n,s,o]=e[d],a=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(a=!1,o<i&&(i=o));if(a){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,s,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={9719:0,1036:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var s,o,[i,a,l]=n,c=0;if(i.some((t=>0!==e[t]))){for(s in a)r.o(a,s)&&(r.m[s]=a[s]);if(l)var d=l(r)}for(t&&t(n);c<i.length;c++)o=i[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(d)},n=globalThis.webpackChunkNelioContent=globalThis.webpackChunkNelioContent||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=r.O(void 0,[1036],(()=>r(5049)));s=r.O(s);var o=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var i in s)o[i]=s[i];s.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();