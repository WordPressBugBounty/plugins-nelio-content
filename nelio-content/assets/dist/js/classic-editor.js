(()=>{var e={4396:(e,t)=>{"use strict";function n(e){return e}t.L8=void 0,t.L8=function(){return n}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{initPage:()=>X});const e=window.wp.element;function t(t,n){n&&(e.createRoot?(0,e.createRoot)(n).render(t):(0,e.render)(t,n))}const o=window.wp.components,i=window.wp.data,a=window.wp.domReady,u=n.n(a)(),c=window.wp.url,s=window.NelioContent.components,l=window.NelioContent.editPost,d=window.NelioContent.socialMessageEditor,f=window.NelioContent.taskEditor,m=window.wp.apiFetch,p=n.n(m)(),v=window.lodash,y=window.NelioContent.data,g=window.NelioContent.utils;var h=n(4396),b=(0,h.L8)(),w=function(e){return!!e&&"function"==typeof e&&"ajaxPrefilter"in e},E=function(e){return!!e&&"object"==typeof e&&"data"in e},I=function(e){return!!e&&"object"==typeof e&&"action"in e};var S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},S.apply(this,arguments)},k=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},A=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};function x(e){return k(this,void 0,Promise,(function(){var t;return A(this,(function(n){switch(n.label){case 0:return[4,B(e.postId)];case 1:return t=n.sent(),[4,j(S(S({},t),{date:"none"!==t.date&&t.date,followers:e.attributes.followers,statistics:{engagement:{},pageviews:void 0}}))];case 2:return n.sent(),function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=(0,i.dispatch)(l.store),r=n.setEditorToClassic,o=n.setEditorToElementor;r(e),o(t)}(e.settings.isClassicEditor,e.settings.isElementorEditor),window.NelioContentTinyMCE={createMessage:C,getLinks:g.getLinks,isEmpty:g.isEmpty},r=e.settings.autoShareEndModes,(0,g.isEmpty)(r)||(0,(0,i.dispatch)(l.store).setAutoShareEndModes)(r),s=e.settings.shouldAuthorBeFollower,(0,(0,i.dispatch)(l.store).includeAuthorInFollowers)(s),function(e){var t=e.url,n=e.alt;t&&(0,(0,i.dispatch)(l.store).setExternalFeaturedImage)(t,n)}(e.attributes.externalFeatImage),function(e){var t=(0,i.dispatch)(l.store),n=t.receiveReferences,r=t.suggestReferences;n(e);var o=(0,v.filter)(e,{isSuggestion:!0});(0,g.isEmpty)(o)||r((0,v.map)(o,"url"))}(e.attributes.references),function(e){(0,(0,i.dispatch)(l.store).markQualityAnalysisAsFullyIntegrated)(!!e.isFullyIntegrated)}(c=e.settings.qualityAnalysis),function(e){if(!e.isYoastIntegrated){var t=(0,i.dispatch)(l.store).removeQualityCheckType;t("nelio-content/yoast-content"),t("nelio-content/yoast-seo")}}(c),function(e){var t=e.supportsFeatImage,n=e.canImageBeAutoSet;t?(0,(0,i.dispatch)(l.store).updateQualityCheckSettings)("nelio-content/featured-image",{canImageBeAutoSet:n}):(0,(0,i.dispatch)(l.store).removeQualityCheckType)("nelio-content/featured-image")}(c),(0,(0,i.select)(y.store).isMultiAuthor)()||(0,(0,i.dispatch)(l.store).removeQualityCheckType)("nelio-content/author"),function(){var e,t,n,r=(0,i.dispatch)(l.store);t=(e=r).setCustomField,n=e.removeCustomField,u((function(){var e=window.jQuery;w(e)&&e.ajaxPrefilter((function(e,r){if(E(e)&&"string"==typeof e.data&&E(r)&&I(r)){var o=new URLSearchParams(e.data);switch(r.action){case"add-meta":if(o.has("metavalue")){var i="#NONE#"===o.get("metakeyselect")?o.get("metakeyinput"):o.get("metakeyselect"),a=o.get("metavalue")||"";i&&t(b(i),a)}else{var u=Array.from(o.keys()).filter((function(e){return/meta\[\d+\]\[key\]/.test(e)})).map((function(e){return o.get(e)}))[0],c=Array.from(o.keys()).filter((function(e){return/meta\[\d+\]\[value\]/.test(e)})).map((function(e){return o.get(e)}))[0];u&&c&&t(b(u),c)}break;case"delete-meta":var s=o.get("id"),l=s?document.getElementById("meta-".concat(s,"-key")):null;(i=null==l?void 0:l.getAttribute("value"))&&n(b(i))}}}))}))}(),(0,i.subscribe)((function(){var e=(0,i.select)(l.store),t=e.getDate,n=e.getStatus,r=t(),u=n();r===o&&u===a||(o=r,a=u,(0,(0,i.dispatch)(l.store).updateDatesInPostRelatedItems)())})),[2]}var r,o,a,c,s}))}))}function P(n,r){var o=document.getElementById(n);if(o){var i=o.querySelector(".inside");i&&t(e.createElement(r,null),i)}}function C(e,t){if(e=(0,v.trim)(e),!(0,g.isEmpty)(e)){var n=function(e){if((0,g.isEmpty)(e))return!1;var t=(0,i.select)(y.store).getSocialProfilesByNetwork;if((0,g.isEmpty)(t("twitter")))return!1;for(var n=(0,i.select)(l.store).getReferenceByUrl,r=0,o=e;r<o.length;r++){var a=n(o[r]);if(a&&a.twitter)return a.twitter}return!1}(t);n&&(e="".concat(e," /cc ").concat(n)),e+=" {permalink}";var r=(0,i.select)(l.store).getPost;(0,(0,i.dispatch)(d.store).openNewSocialMessageEditor)({text:e},{context:"post",post:r(),disabledProfileIds:(0,l.getDisabledProfiles)()})}}function B(e){return k(this,void 0,Promise,(function(){return A(this,(function(t){switch(t.label){case 0:return[4,p({path:"/nelio-content/v1/post/".concat(e,"?aws")})];case 1:return[2,t.sent()]}}))}))}function j(e){return k(this,void 0,void 0,(function(){var t,n;return A(this,(function(r){switch(r.label){case 0:return t=(0,i.dispatch)(l.store),n=t.loadPostItems,[4,(0,t.setPost)(e)];case 1:return r.sent(),n(),[2]}}))}))}var M=function(){return e.createElement(l.QualityAnalysis,{isMetabox:!0})};const N=window.NelioContent.date;const O=window.jQuery;var L=n.n(O);const T=window.wp.coreData;var F=(0,v.debounce)((function(e,t){var n=e.value;if(n){var r=(0,(0,i.select)(l.store).getPermalinkTemplate)();t((0,h.L8)()(r.replace("%postname%",n)))}}),500),_=function(e){return R(e)||q(e)||[]},R=function(e){var t=document.getElementById("".concat(e,"checklist"));if(t){var n=Array.from(t.querySelectorAll('input[type="checkbox"]:checked')).map((function(e){return e.id})).map((function(t){return t.replace("in-".concat(e,"-"),"")})).map((function(e){return parseInt(e)})).filter(Boolean),r=(0,i.select)(T.store).getEntityRecord;return n.map((function(t){return r("taxonomy",e,t)})).filter(Q).map((function(e){return{id:e.id,name:e.name,slug:e.slug}}))}},q=function(e){var t,n=document.getElementById(e);if(n)return Array.from((null===(t=n.querySelector(".tagchecklist"))||void 0===t?void 0:t.children)||[]).map((function(e){var t=(0,v.filter)(Array.from(e.childNodes),{nodeType:Node.TEXT_NODE}).map((function(e){return e.textContent}));return(0,v.startCase)((0,v.trim)(t.join("")))})).map((function(e,t){return{id:(0,h.L8)()(t+1),name:e,slug:e.toLowerCase().replace(/\s+/g,"-")}}))},Q=function(e){return!!e&&"object"==typeof e&&"id"in e&&"name"in e&&"slug"in e},D=function(e){var t=[],n=function(){var n=Array.from(document.querySelectorAll('.categorydiv input[type="checkbox"]'));(0,v.isEqual)(t,n)||(t.forEach((function(t){return t.removeEventListener("change",e)})),t=n,n.forEach((function(t){return t.addEventListener("change",e)})),e())};n();var r=(0,v.debounce)(n,2e3),o=new MutationObserver(r);document.querySelectorAll(".categorydiv").forEach((function(e){return o.observe(e,{childList:!0,subtree:!0})}))},U=function(e){var t=new MutationObserver(e);document.querySelectorAll(".tagsdiv").forEach((function(e){return t.observe(e,{childList:!0,subtree:!0})}))};function G(){var e,t,n,r,o,a,u,c,s,d,f=(0,i.dispatch)(l.store);n=f.setFeaturedImage,r=(0,i.select)(T.store).getEntityRecord,o=(0,i.select)(l.store).getExternalFeaturedImageUrl,a=0,u=!1,c=(0,v.debounce)((function(){var e=o();if(e){if(0===a&&u===e)return;return u=e,void n(a=0,e)}var t=document.getElementById("_thumbnail_id"),i=Number.parseInt((null==t?void 0:t.value)||""),c=(0,g.seemsMediaId)(i)?i:0,s=c?r("root","media",c):void 0,l=null==s?void 0:s.source_url,d=!!(0,g.isUrl)(l)&&l;a===c&&u===d||(a=c,u=d,n(c,d))}),500),(e=document.getElementById("postimagediv"))&&(new MutationObserver(c).observe(e,{childList:!0,subtree:!0}),(0,i.subscribe)(c)),(0,i.subscribe)((function(){var e=o();e!==t&&(t=e,c())})),s=f.setTitle,(d=document.getElementById("title"))&&d.addEventListener("change",(0,v.debounce)((function(){var e=d.value||"";s(e)}),500)),function(e){var t=e.setDate,n=document.querySelector("a.save-timestamp");if(n){var r={year:document.getElementById("aa"),month:document.getElementById("mm"),day:document.getElementById("jj"),hour:document.getElementById("hh"),minute:document.getElementById("mn")},o=(0,v.values)(r).filter((function(e){return!e}));(0,g.isEmpty)(o)&&n.addEventListener("click",(function(){return function(e,t){var n,r,o,i,a,u,c=null!==(r=null===(n=e.year)||void 0===n?void 0:n.value)&&void 0!==r?r:"",s=(0,v.padStart)(null===(o=e.month)||void 0===o?void 0:o.value,2,"0"),l=(0,v.padStart)(null===(i=e.day)||void 0===i?void 0:i.value,2,"0"),d=(0,v.padStart)(null===(a=e.hour)||void 0===a?void 0:a.value,2,"0"),f=(0,v.padStart)(null===(u=e.minute)||void 0===u?void 0:u.value,2,"0"),m="".concat(c,"-").concat(s,"-").concat(l),p="".concat(d,":").concat(f);t((0,N.wpifyDateTime)("c",m,p))}(r,t)}))}}(f),function(e){var t=e.setContent;L()(document).on("tinymce-editor-init",(function(e,n){n&&"content"===n.id&&function(e,t){e.on("nodechange keyup",(0,v.debounce)((function(){return t(e.getContent())}),2500))}(n,t)}))}(f),function(e){var t=e.setExcerpt,n=document.getElementById("excerpt");n&&n.addEventListener("change",(0,v.debounce)((function(){var e=n.value;e&&t(e)}),500))}(f),function(e){var t=e.setPermalink,n=document.getElementById("post_name");if(n){n.addEventListener("change",(function(){return F(n,t)}));var r=document.getElementById("edit-slug-box");r&&r.addEventListener("click",(function(e){var r=e.target;(null==r?void 0:r.closest("#edit-slug-buttons .save"))&&F(n,t)}))}}(f),function(e){var t=e.setAuthor,n=document.getElementById("post_author_override");n&&n.addEventListener("change",(function(){var e,r,o=Number.parseInt(n.value);if((0,g.seemsAuthorId)(o)){var i=null!==(r=null===(e=(n.options||[])[n.selectedIndex])||void 0===e?void 0:e.text)&&void 0!==r?r:"";t(o,i)}}))}(f),function(e){var t=e.setTerms,n=(0,i.select)(l.store).getPostType,r=(0,i.select)(T.store).getEntityRecords,o="",a=(0,v.debounce)((function(){var e=r("root","taxonomy",{per_page:-1})||[],i=(0,v.filter)(e,(function(e){var t;return e.visibility.public&&e.types.includes(null!==(t=n())&&void 0!==t?t:"")})).map((function(e){return e.slug})),a=i.map(_),u=JSON.stringify(a);u!==o&&(o=u,i.forEach((function(e,n){var r;return t(e,null!==(r=a[n])&&void 0!==r?r:[])})))}),500);(0,i.subscribe)(a),D(a),U(a)}(f)}var J=function(){return J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},J.apply(this,arguments)},Y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},H=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};function X(e){return Y(this,void 0,Promise,(function(){return H(this,(function(t){switch(t.label){case 0:return function(e){var t=document.getElementById("post");if(t){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","nelio-content-edit-post-nonce"),n.setAttribute("value",e),t.appendChild(n);var r,o,a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name","nelio-content-classic-values"),t.appendChild(a),r=function(e){a.setAttribute("value",JSON.stringify(e))},o={},(0,i.subscribe)((function(){var e=(0,i.select)(l.store),t=e.getAutoShareEndMode,n=e.getAutomationSources,a=e.getExternalFeaturedImageAlt,u=e.getExternalFeaturedImageUrl,c=e.getPost,s=e.getQueryArgs,d=e.getSuggestedReferences,f=e.isAutoShareEnabled,m=c(),p=(0,l.processHtml)(m.content).highlights,y={autoShareEndMode:t(),automationSources:n(),efiAlt:a(),efiUrl:u()||"",followers:m.followers,highlights:p,isAutoShareEnabled:f(),permalinkQueryArgs:s(),suggestedReferences:d()};(0,v.isEqual)(y,o)||r(y),o=y}),l.store)}}((e=J(J({},e),{settings:J(J({},e.settings),{isClassicEditor:!0})})).settings.nonce),[4,x(e)];case 1:return t.sent(),n="nc-auto-messages",r=document.location.href,(0,c.hasQueryArg)(r,n)&&(history.replaceState(null,"",(0,c.removeQueryArgs)(r,n)),(0,(0,i.dispatch)(l.store).generateTimeline)()),P("nelio-content-quality-analysis",M),P("nelio-content-editorial-comments",l.EditorialComments),P("nelio-content-future-actions",(0,s.getPremiumComponent)("post-page/future-actions","raw/future-actions")),P("nelio-content-editorial-tasks",l.EditorialTasks),P("nelio-content-featured-image",l.ExternalFeaturedImage),P("nelio-content-notifications",l.Notifications),P("nelio-content-links",l.References),P("nelio-content-social-media",l.SocialMediaMetabox),function(e){if(e.isFullyIntegrated&&e.isYoastIntegrated){var t=function(e){e&&(e.style.display="none")};u((function(){t(document.getElementById("content-score")),t(document.getElementById("keyword-score"))}))}}(e.settings.qualityAnalysis),u(z),G(),[2]}var n,r}))}))}function z(){var n=document.createElement("div");n.classList.add("nelio-content-editor-dialogs-wrapper"),document.body.appendChild(n);var r=(0,s.getPremiumComponent)("post-page/future-action-editor","null");t(e.createElement(e.StrictMode,null,e.createElement(o.SlotFillProvider,null,e.createElement(l.ReferenceEditor,null),e.createElement(d.SocialMessageEditor,null),e.createElement(f.TaskEditor,null),e.createElement(r,null),e.createElement(s.PremiumDialog,null),e.createElement(o.Popover.Slot,null))),n)}})();var o=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();