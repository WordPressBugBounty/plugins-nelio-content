(()=>{var e={4396:(e,t)=>{"use strict";function n(e){return e}t.L8=void 0,t.L8=function(e){return e?function(t){return e(t),t}:n}}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";n.r(o),n.d(o,{initPage:()=>U});const e=window.ReactJSXRuntime,t=window.wp.components,i=window.wp.data;function s(e,t){return(0,i.subscribe)(e,t)}const r=window.wp.domReady,a=n.n(r)(),c=window.wp.element;function u(e,t){t&&(c.createRoot?(0,c.createRoot)(t).render(e):(0,c.render)(e,t))}const l=window.wp.url,d=window.NelioContent.components,m=window.NelioContent.editPost,g=window.NelioContent.socialMessageEditor,f=window.NelioContent.taskEditor,p=window.wp.apiFetch,y=n.n(p)(),v=window.lodash,h=window.NelioContent.data,w=window.NelioContent.utils;var E=n(4396);const b=(0,E.L8)(),I=e=>!!e&&"function"==typeof e&&"ajaxPrefilter"in e,S=e=>!!e&&"object"==typeof e&&"data"in e,k=e=>!!e&&"object"==typeof e&&"action"in e;var x=function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((o=o.apply(e,t||[])).next())}))};function A(e){return x(this,void 0,void 0,(function*(){const t=yield function(e){return x(this,void 0,void 0,(function*(){return yield y({path:`/nelio-content/v1/post/${e}?aws`})}))}(e.postId);var n;yield function(e){return x(this,void 0,void 0,(function*(){const{loadPostItems:t,setPost:n}=(0,i.dispatch)(m.store);yield n(e),t()}))}(Object.assign(Object.assign({},t),{date:"none"!==t.date&&t.date,followers:e.attributes.followers,statistics:{engagement:{},pageviews:void 0}})),function(e=!1,t=!1){const{setEditorToClassic:n,setEditorToElementor:o}=(0,i.dispatch)(m.store);n(e),o(t)}(e.settings.isClassicEditor,e.settings.isElementorEditor),window.NelioContentTinyMCE={createMessage:j,getLinks:w.getLinks,isEmpty:w.isEmpty},function(e){if((0,w.isEmpty)(e))return;const{setAutoShareEndModes:t}=(0,i.dispatch)(m.store);t(e)}(e.settings.autoShareEndModes),function(e){const{includeAuthorInFollowers:t}=(0,i.dispatch)(m.store);t(e)}(e.settings.shouldAuthorBeFollower),function({url:e,alt:t}){if(!e)return;const{setExternalFeaturedImage:n}=(0,i.dispatch)(m.store);n(e,t)}(e.attributes.externalFeatImage),function(e){const{receiveReferences:t,suggestReferences:n}=(0,i.dispatch)(m.store);t(e);const o=(0,v.filter)(e,{isSuggestion:!0});(0,w.isEmpty)(o)||n((0,v.map)(o,"url"))}(e.attributes.references),function(e){const{markQualityAnalysisAsFullyIntegrated:t}=(0,i.dispatch)(m.store);t(!!e.isFullyIntegrated)}(n=e.settings.qualityAnalysis),function({isYoastIntegrated:e}){if(e)return;const{removeQualityCheckType:t}=(0,i.dispatch)(m.store);t("nelio-content/yoast-content"),t("nelio-content/yoast-seo")}(n),function(e){const{supportsFeatImage:t,canImageBeAutoSet:n}=e;if(!t){const{removeQualityCheckType:e}=(0,i.dispatch)(m.store);return void e("nelio-content/featured-image")}const{updateQualityCheckSettings:o}=(0,i.dispatch)(m.store);o("nelio-content/featured-image",{canImageBeAutoSet:n})}(n),function(){const{isMultiAuthor:e}=(0,i.select)(h.store);if(e())return;const{removeQualityCheckType:t}=(0,i.dispatch)(m.store);t("nelio-content/author")}(),function({setCustomField:e,removeCustomField:t}){a((()=>{const n=window.jQuery;I(n)&&n.ajaxPrefilter(((n,o)=>{if(!S(n)||"string"!=typeof n.data)return;if(!S(o)||!k(o))return;const i=new URLSearchParams(n.data);switch(o.action){case"add-meta":if(i.has("metavalue")){const t="#NONE#"===i.get("metakeyselect")?i.get("metakeyinput"):i.get("metakeyselect"),n=i.get("metavalue")||"";t&&e(b(t),n)}else{const t=Array.from(i.keys()).filter((e=>/meta\[\d+\]\[key\]/.test(e))).map((e=>i.get(e)))[0],n=Array.from(i.keys()).filter((e=>/meta\[\d+\]\[value\]/.test(e))).map((e=>i.get(e)))[0];t&&n&&e(b(t),n)}break;case"delete-meta":{const e=i.get("id"),n=e?document.getElementById(`meta-${e}-key`):null,o=null==n?void 0:n.getAttribute("value");o&&t(b(o));break}}}))}))}((0,i.dispatch)(m.store)),function(){let e,t;s((()=>{const{getDate:n,getStatus:o}=(0,i.select)(m.store),s=n(),r=o();if(s===e&&r===t)return;e=s,t=r;const{updateDatesInPostRelatedItems:a}=(0,i.dispatch)(m.store);a()}))}()}))}function C(t,n){const o=document.getElementById(t);if(!o)return;const i=o.querySelector(".inside");i&&u((0,e.jsx)(n,{}),i)}function j(e,t){if(e=(0,v.trim)(e),(0,w.isEmpty)(e))return;const n=function(e){if((0,w.isEmpty)(e))return!1;const{getSocialProfilesByNetwork:t}=(0,i.select)(h.store);if((0,w.isEmpty)(t("twitter")))return!1;const{getReferenceByUrl:n}=(0,i.select)(m.store);for(const t of e){const e=n(t);if(e&&e.twitter)return e.twitter}return!1}(t);n&&(e=`${e} /cc ${n}`),e+=" {permalink}";const{getPost:o}=(0,i.select)(m.store),{openNewSocialMessageEditor:s}=(0,i.dispatch)(g.store);s({text:e},{context:"post",post:o(),disabledProfileIds:(0,m.getDisabledProfiles)()})}const P=()=>(0,e.jsx)(m.QualityAnalysis,{isMetabox:!0}),B=window.NelioContent.date;const N=window.jQuery;var M=n.n(N);const L=window.wp.coreData,O=(0,v.debounce)(((e,t)=>{const n=e.value;if(!n)return;const{getPermalinkTemplate:o}=(0,i.select)(m.store),s=o();t((0,E.L8)()(s.replace("%postname%",n)))}),500),T=e=>F(e)||R(e)||[],F=e=>{const t=document.getElementById(`${e}checklist`);if(!t)return;const n=Array.from(t.querySelectorAll('input[type="checkbox"]:checked')).map((e=>e.id)).map((t=>t.replace(`in-${e}-`,""))).map((e=>parseInt(e))).filter(Boolean),{getEntityRecord:o}=(0,i.select)(L.store);return n.map((t=>o("taxonomy",e,t))).filter(_).map((({id:e,name:t,slug:n})=>({id:e,name:t,slug:n})))},R=e=>{var t;const n=document.getElementById(e);if(n)return Array.from((null===(t=n.querySelector(".tagchecklist"))||void 0===t?void 0:t.children)||[]).map((e=>{const t=(0,v.filter)(Array.from(e.childNodes),{nodeType:Node.TEXT_NODE}).map((({textContent:e})=>e));return(0,v.startCase)((0,v.trim)(t.join("")))})).map(((e,t)=>({id:(0,E.L8)()(t+1),name:e,slug:e.toLowerCase().replace(/\s+/g,"-")})))},_=e=>!!e&&"object"==typeof e&&"id"in e&&"name"in e&&"slug"in e,q=e=>{let t=[];const n=()=>{const n=Array.from(document.querySelectorAll('.categorydiv input[type="checkbox"]'));(0,v.isEqual)(t,n)||(t.forEach((t=>t.removeEventListener("change",e))),t=n,n.forEach((t=>t.addEventListener("change",e))),e())};n();const o=(0,v.debounce)(n,2e3),i=new MutationObserver(o);document.querySelectorAll(".categorydiv").forEach((e=>i.observe(e,{childList:!0,subtree:!0})))},Q=e=>{const t=new MutationObserver(e);document.querySelectorAll(".tagsdiv").forEach((e=>t.observe(e,{childList:!0,subtree:!0})))};function $(){const e=(0,i.dispatch)(m.store);!function({setFeaturedImage:e}){const{getEntityRecord:t}=(0,i.select)(L.store),{getExternalFeaturedImageUrl:n}=(0,i.select)(m.store);let o=0,r=!1;const a=(0,v.debounce)((()=>{const i=n();if(i){if(0===o&&r===i)return;return o=0,r=i,void e(o,i)}const s=document.getElementById("_thumbnail_id"),a=Number.parseInt((null==s?void 0:s.value)||""),c=(0,w.seemsMediaId)(a)?a:0,u=c?t("root","media",c):void 0,l=null==u?void 0:u.source_url,d=!!(0,w.isUrl)(l)&&l;o===c&&r===d||(o=c,r=d,e(c,d))}),500);(()=>{const e=document.getElementById("postimagediv");e&&(new MutationObserver(a).observe(e,{childList:!0,subtree:!0}),s(a))})(),(()=>{let e;s((()=>{const t=n();t!==e&&(e=t,a())}))})()}(e),function({setTitle:e}){const t=document.getElementById("title");t&&t.addEventListener("change",(0,v.debounce)((()=>{const n=t.value||"";e(n)}),500))}(e),function({setDate:e}){const t=document.querySelector("a.save-timestamp");if(!t)return;const n={year:document.getElementById("aa"),month:document.getElementById("mm"),day:document.getElementById("jj"),hour:document.getElementById("hh"),minute:document.getElementById("mn")},o=(0,v.values)(n).filter((e=>!e));(0,w.isEmpty)(o)&&t.addEventListener("click",(()=>function(e,t){var n,o,i,s,r,a;const c=`${null!==(o=null===(n=e.year)||void 0===n?void 0:n.value)&&void 0!==o?o:""}-${(0,v.padStart)(null===(i=e.month)||void 0===i?void 0:i.value,2,"0")}-${(0,v.padStart)(null===(s=e.day)||void 0===s?void 0:s.value,2,"0")}`,u=`${(0,v.padStart)(null===(r=e.hour)||void 0===r?void 0:r.value,2,"0")}:${(0,v.padStart)(null===(a=e.minute)||void 0===a?void 0:a.value,2,"0")}`;t((0,B.wpifyDateTime)("c",c,u))}(n,e)))}(e),function({setContent:e}){M()(document).on("tinymce-editor-init",((t,n)=>{n&&"content"===n.id&&function(e,t){e.on("nodechange keyup",(0,v.debounce)((()=>t(e.getContent())),2500))}(n,e)}))}(e),function({setExcerpt:e}){const t=document.getElementById("excerpt");t&&t.addEventListener("change",(0,v.debounce)((()=>{const n=t.value;n&&e(n)}),500))}(e),function({setPermalink:e}){const t=document.getElementById("post_name");if(!t)return;t.addEventListener("change",(()=>O(t,e)));const n=document.getElementById("edit-slug-box");n&&n.addEventListener("click",(n=>{const o=n.target;(null==o?void 0:o.closest("#edit-slug-buttons .save"))&&O(t,e)}))}(e),function({setAuthor:e}){const t=document.getElementById("post_author_override");t&&t.addEventListener("change",(()=>{var n,o;const i=Number.parseInt(t.value);if(!(0,w.seemsAuthorId)(i))return;const s=null!==(o=null===(n=(t.options||[])[t.selectedIndex])||void 0===n?void 0:n.text)&&void 0!==o?o:"";e(i,s)}))}(e),function({setTerms:e}){const{getPostType:t}=(0,i.select)(m.store),{getEntityRecords:n}=(0,i.select)(L.store);let o="";const r=(0,v.debounce)((()=>{const i=n("root","taxonomy",{per_page:-1})||[],s=(0,v.filter)(i,(e=>{var n;return e.visibility.public&&e.types.includes(null!==(n=t())&&void 0!==n?n:"")})).map((e=>e.slug)),r=s.map(T),a=JSON.stringify(r);a!==o&&(o=a,s.forEach(((t,n)=>{var o;return e(t,null!==(o=r[n])&&void 0!==o?o:[])})))}),500);s(r),q(r),Q(r)}(e)}var D=function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}c((o=o.apply(e,t||[])).next())}))};function U(e){return D(this,void 0,void 0,(function*(){(function(e){const t=document.getElementById("post");if(!t)return;const n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","nelio-content-edit-post-nonce"),n.setAttribute("value",e),t.appendChild(n);const o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name","nelio-content-classic-values"),t.appendChild(o),function(){let e={};s((()=>{const{getAutoShareEndMode:t,getAutomationSources:n,getExternalFeaturedImageAlt:s,getExternalFeaturedImageUrl:r,getNetworkImageIds:a,getPost:c,getQueryArgs:u,getSeries:l,getSuggestedReferences:d,isAutoShareEnabled:g}=(0,i.select)(m.store),f=c(),{highlights:p}=(0,m.processHtml)(f.content),y={autoShareEndMode:t(),automationSources:n(),efiAlt:s(),efiUrl:r()||"",followers:f.followers,highlights:p,isAutoShareEnabled:g(),networkImageIds:a(),permalinkQueryArgs:u(),series:l(),suggestedReferences:d()};(0,v.isEqual)(y,e)||(e=>{o.setAttribute("value",JSON.stringify(e))})(y),e=y}),m.store)}()})((e=Object.assign(Object.assign({},e),{settings:Object.assign(Object.assign({},e.settings),{isClassicEditor:!0})})).settings.nonce),yield A(e),function(){const e="nc-auto-messages",t=document.location.href;if(!(0,l.hasQueryArg)(t,e))return;history.replaceState(null,"",(0,l.removeQueryArgs)(t,e));const{generateTimeline:n}=(0,i.dispatch)(m.store);n()}(),C("nelio-content-quality-analysis",P),C("nelio-content-editorial-comments",m.EditorialComments),C("nelio-content-series",(0,d.getPremiumComponent)("post-page/series","raw/series")),C("nelio-content-future-actions",(0,d.getPremiumComponent)("post-page/future-actions","raw/future-actions")),C("nelio-content-network-images",(0,d.getPremiumComponent)("post-page/network-images","raw/network-images")),C("nelio-content-editorial-tasks",m.EditorialTasks),C("nelio-content-featured-image",m.ExternalFeaturedImage),C("nelio-content-notifications",m.Notifications),C("nelio-content-links",m.References),C("nelio-content-social-media",m.SocialMediaMetabox),function(e){if(!e.isFullyIntegrated)return;if(!e.isYoastIntegrated)return;const t=e=>{e&&(e.style.display="none")};a((()=>{t(document.getElementById("content-score")),t(document.getElementById("keyword-score"))}))}(e.settings.qualityAnalysis),a(J),$()}))}function J(){const n=document.createElement("div");n.classList.add("nelio-content-editor-dialogs-wrapper"),document.body.appendChild(n);const o=(0,d.getPremiumComponent)("post-page/future-action-editor","null");u((0,e.jsx)(c.StrictMode,{children:(0,e.jsxs)(t.SlotFillProvider,{children:[(0,e.jsx)(m.ReferenceEditor,{}),(0,e.jsx)(g.SocialMessageEditor,{}),(0,e.jsx)(f.TaskEditor,{}),(0,e.jsx)(o,{}),(0,e.jsx)(d.PremiumDialog,{}),(0,e.jsx)(t.Popover.Slot,{})]})}),n)}})();var i=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var s in o)i[s]=o[s];o.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();