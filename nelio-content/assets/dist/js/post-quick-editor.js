(()=>{var e,t={3394:(e,t,s)=>{"use strict";s.r(t),s.d(t,{postQuickEditor:()=>r});var n={};s.r(n),s.d(n,{arePremiumItemsDirty:()=>$,areReferencesDirty:()=>z,areSeriesDirty:()=>J,areTasksDirty:()=>F,canBeRewritten:()=>I,getAllAttributes:()=>E,getAuthorId:()=>A,getDateValue:()=>V,getExtraInfoTab:()=>se,getId:()=>P,getNewComments:()=>Y,getPostStatus:()=>D,getPostTerms:()=>C,getPostTermsByTaxonomy:()=>q,getPostType:()=>R,getPremiumItems:()=>U,getReferenceInput:()=>K,getReferences:()=>H,getSeries:()=>L,getTaskPresetSelection:()=>X,getTasks:()=>M,getTimeValue:()=>B,getTitle:()=>O,getValidationError:()=>ne,isDisabled:()=>te,isNewPost:()=>G,isPublished:()=>Q,isRewrite:()=>w,isSaving:()=>ee,isTaskPresetLoaderOpen:()=>W,isVisible:()=>Z,rewriteUrl:()=>N});var o={};s.r(o),s.d(o,{close:()=>ye,markAsDisabled:()=>Se,markAsSaving:()=>ke,openNewPostEditor:()=>be,openPostEditor:()=>Te,openTaskPresetLoader:()=>fe,selectTaskPresets:()=>_e,setAuthorId:()=>ce,setDateValue:()=>le,setExtraInfoTab:()=>ve,setNewComments:()=>xe,setPostStatus:()=>re,setPostTerms:()=>ae,setPostType:()=>ie,setPremiumItems:()=>de,setReferenceInput:()=>ge,setReferences:()=>he,setSeries:()=>me,setTasks:()=>pe,setTimeValue:()=>ue,setTitle:()=>oe,setValidationError:()=>je});var i={};s.r(i),s.d(i,{saveAndClose:()=>Ne});var r={};s.r(r),s.d(r,{PostQuickEditor:()=>os,onSavePremiumItems:()=>ns,store:()=>De});const a=window.ReactJSXRuntime,c=window.wp.components,l=window.wp.data;function u(e,t){return(0,l.useSelect)(e,t)}function d(e){return(0,l.resolveSelect)(e)}const m=window.wp.element,p=window.wp.i18n,g=window.lodash,h=window.NelioContent.data,x=window.NelioContent.components,f=window.NelioContent.utils,_=window.NelioContent.date,b={error:"",extraInfoTab:"none",isDisabled:!1,isPublished:!1,isSaving:!1,isVisible:!1},T={isOpen:!1,selection:[]},y={title:"",type:void 0,taxonomies:{},authorId:void 0,isRewrite:!1,canBeRewritten:!1,status:void 0,dateValue:"",timeValue:"",referenceInput:"",references:[],tasks:[],newComments:[],series:[],premiumItemsByType:{}},v=e=>!("id"in e)||!e.id;function j(e){return void 0===e?"":`${e}`}const k=e=>{let t="";if("exact"===e.dateType)t+="0:"+e.dateValue;else{const s=Math.abs(Number.parseInt(e.dateValue)||0);t+="positive-days"===e.dateType||0===s?"2:"+(0,g.padStart)(`${s}`,5,"0"):"1:"+(0,g.padStart)(`${Math.abs(9999-s)}`,5,"0"),t+=":",t+=e.task}return t+=`:${e.task}:${e.id}`,Object.assign(Object.assign({},e),{_sort:t})},S=(0,l.combineReducers)({attributes:function(e=y,t){var s;return null!==(s=function(e,t){var s,n,o,i,r;switch(t.type){case"OPEN_EDITOR":return Object.assign(Object.assign(Object.assign(Object.assign({},y),{id:v(t.post)?void 0:t.post.id,title:null!==(s=t.post.title)&&void 0!==s?s:y.title,type:null!==(n=t.post.type)&&void 0!==n?n:y.type,taxonomies:v(t.post)?y.taxonomies:t.post.taxonomies,authorId:null!==(o=t.post.author)&&void 0!==o?o:y.authorId,isRewrite:!v(t.post)&&t.post.isRewrite,canBeRewritten:!v(t.post)&&t.post.canBeRewritten}),!v(t.post)&&t.post.canBeRewritten&&{rewriteUrl:t.post.rewriteUrl}),{series:null!==(i=t.post.series)&&void 0!==i?i:y.series,status:v(t.post)?y.status:t.post.status,dateValue:!v(t.post)&&t.post.date?(0,_.date)("Y-m-d",t.post.date):j(v(t.post)?t.post.dateValue:""),timeValue:!v(t.post)&&t.post.date?(0,_.date)("H:i",t.post.date):j(v(t.post)?t.post.timeValue:"")});case"SET_TITLE":return Object.assign(Object.assign({},e),{title:t.title});case"SET_POST_TYPE":return Object.assign(Object.assign({},e),{type:t.postType});case"SET_POST_STATUS":return Object.assign(Object.assign({},e),{status:t.postStatus});case"SET_POST_TERMS":return Object.assign(Object.assign({},e),{taxonomies:Object.assign(Object.assign({},e.taxonomies),{[t.taxonomy]:t.terms})});case"SET_AUTHOR":return Object.assign(Object.assign({},e),{authorId:t.authorId});case"SET_DATE":return Object.assign(Object.assign({},e),{dateValue:j(t.dateValue)});case"SET_TIME":return Object.assign(Object.assign({},e),{timeValue:j(t.timeValue)});case"SET_PREMIUM_ITEMS":return Object.assign(Object.assign({},e),{premiumItemsByType:Object.assign(Object.assign({},e.premiumItemsByType),{[t.typeName]:t.items})});case"SET_TASKS":return Object.assign(Object.assign({},e),{tasks:(r=t.tasks,(0,g.orderBy)(r.map(k),"_sort"))});case"SET_REFERENCE_INPUT":return Object.assign(Object.assign({},e),{referenceInput:t.url});case"SET_REFERENCES":return Object.assign(Object.assign({},e),{references:t.references});case"SET_NEW_COMMENTS":return Object.assign(Object.assign({},e),{newComments:t.comments});case"SET_SERIES":return Object.assign(Object.assign({},e),{series:t.series})}}(e,t))&&void 0!==s?s:e},presetLoader:function(e=T,t){var s;return null!==(s=function(e,t){switch(t.type){case"OPEN_TASK_PRESET_LOADER":return Object.assign(Object.assign({},T),{isOpen:t.isOpen});case"SELECT_TASK_PRESETS":return e.isOpen?Object.assign(Object.assign({},e),{selection:t.selection}):e}}(e,t))&&void 0!==s?s:e},status:function(e=b,t){var s;return null!==(s=function(e,t){switch(t.type){case"OPEN_EDITOR":return Object.assign(Object.assign({},b),{isPublished:"status"in t.post&&"publish"===t.post.status,isVisible:!0});case"CLOSE_EDITOR":return b;case"SET_EXTRA_INFO_TAB":return Object.assign(Object.assign({},e),{extraInfoTab:t.tab});case"SET_VALIDATION_ERROR":return Object.assign(Object.assign({},e),{error:t.error});case"MARK_AS_DISABLED":return Object.assign(Object.assign({},e),{isDisabled:!!t.isDisabled});case"MARK_AS_SAVING":return Object.assign(Object.assign({},e),{isSaving:!!t.isSaving})}}(e,t))&&void 0!==s?s:e}});function E(e){return e.attributes}function P(e){return e.attributes.id}function O(e){return e.attributes.title||""}function w(e){return!!e.attributes.isRewrite}function I(e){return!!e.attributes.canBeRewritten}function N(e){return e.attributes.rewriteUrl}function R(e){return e.attributes.type}function D(e){return e.attributes.status}function C(e,t){var s;return null!==(s=e.attributes.taxonomies[t])&&void 0!==s?s:[]}function q(e){return e.attributes.taxonomies}function A(e){return e.attributes.authorId}function V(e){return e.attributes.dateValue}function L(e){return e.attributes.series}function B(e){return e.attributes.timeValue}function M(e){return e.attributes.tasks}const U=function(e,t){var s;return null!==(s=e.attributes.premiumItemsByType[t])&&void 0!==s?s:[]},$=function(e,t,s){const n=U(e,t);return n.length!==s.length||(0,g.some)(n,e=>{const t=(0,g.find)(s,{id:e.id});return!t||!(0,g.isEqual)((0,g.pick)(e,(0,g.keys)(t)),t)})};function F(e,t){const{tasks:s}=e.attributes;return t=t.map(e=>(0,g.pick)(e,["id","task","dateType","dateValue","color","assigneeId"])),s.length!==t.length||(0,g.some)(s,e=>{const s=(0,g.find)(t,{id:e.id});return!s||!(0,g.isEqual)((0,g.pick)(e,(0,g.keys)(s)),s)})}function K(e){return e.attributes.referenceInput}function H(e){return e.attributes.references}function Y(e){return e.attributes.newComments}function z(e,t){const s=t.map(e=>e.url),n=e.attributes.references;return s.length!==n.length||(0,g.some)(n,e=>!s.includes(e.url))}function J(e,t){const s=e.attributes.series;return t.length!==s.length||(0,g.some)(s,e=>!t.find(t=>t.id===e.id&&t.part===e.part))}function W(e){return e.presetLoader.isOpen}function X(e){return e.presetLoader.selection}function G(e){return!e.attributes.id}function Q(e){return!!e.status.isPublished}function Z(e){return!!e.status.isVisible}function ee(e){return!!e.status.isSaving}function te(e){return!!e.status.isDisabled}function se(e){return e.status.extraInfoTab||"none"}function ne(e){return e.status.error}function oe(e){return{type:"SET_TITLE",title:e}}function ie(e){return{type:"SET_POST_TYPE",postType:e}}function re(e){return{type:"SET_POST_STATUS",postStatus:e}}function ae(e,t){return{type:"SET_POST_TERMS",taxonomy:e,terms:t}}function ce(e){return{type:"SET_AUTHOR",authorId:e}}function le(e){return{type:"SET_DATE",dateValue:e}}function ue(e){return{type:"SET_TIME",timeValue:e}}function de(e,t){return{type:"SET_PREMIUM_ITEMS",typeName:e,items:t}}function me(e){return{type:"SET_SERIES",series:e}}function pe(e){return{type:"SET_TASKS",tasks:e}}function ge(e){return{type:"SET_REFERENCE_INPUT",url:e}}function he(e){return{type:"SET_REFERENCES",references:e}}function xe(e){return{type:"SET_NEW_COMMENTS",comments:e}}function fe(e){return{type:"OPEN_TASK_PRESET_LOADER",isOpen:e}}function _e(e){return{type:"SELECT_TASK_PRESETS",selection:e}}function be(e,t={}){return{type:"OPEN_EDITOR",post:Object.assign(Object.assign({},(0,f.createPost)(e)),(0,g.omitBy)(t,g.isNil))}}function Te(e){return{type:"OPEN_EDITOR",post:e}}function ye(){return{type:"CLOSE_EDITOR"}}function ve(e){return{type:"SET_EXTRA_INFO_TAB",tab:e}}function je(e){return{type:"SET_VALIDATION_ERROR",error:e}}function ke(e){return{type:"MARK_AS_SAVING",isSaving:e}}function Se(e){return{type:"MARK_AS_DISABLED",isDisabled:e}}const Ee=window.wp.apiFetch,Pe=s.n(Ee)(),Oe=window.wp.hooks;var we=function(e,t,s,n){return new(s||(s=Promise))(function(o,i){function r(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(r,a)}c((n=n.apply(e,t||[])).next())})},Ie=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};function Ne(){return we(this,void 0,void 0,function*(){if(!(0,l.select)(De).isSaving()){yield(0,l.dispatch)(De).markAsSaving(!0);try{const e=(0,l.select)(De).getAllAttributes(),{tasks:t,premiumItemsByType:s,newComments:n}=e,o=Ie(e,["tasks","premiumItemsByType","newComments"]),{post:i,references:r}=yield function(e){return we(this,void 0,void 0,function*(){const t=e.id?"PUT":"POST",s=e.id?`/nelio-content/v1/post/${e.id}`:"/nelio-content/v1/post",n=Pe({path:s,method:t,data:Object.assign(Object.assign({},(0,g.omitBy)(e,f.isEmpty)),{references:e.references.map(e=>e.url)})});return yield function(e){return we(this,arguments,void 0,function*({timeValue:e}){e&&(yield(0,l.dispatch)(h.store).setDefaultTime("post",e),(0,f.setValue)("defaultPostTime",e))})}(e),n})}(o);yield function(e,t,s){return we(this,void 0,void 0,function*(){const n=e?[]:yield d(h.store).getTasksRelatedToPost(t.id);if((0,l.select)(De).areTasksDirty(n)){try{const e=(0,l.select)(h.store).getSiteId(),n=(0,l.select)(h.store).getApiRoot(),o=(0,l.select)(h.store).getAuthenticationToken();yield Pe({url:`${n}/site/${e}/task`,method:"POST",credentials:"omit",mode:"cors",headers:{Authorization:`Bearer ${o}`},data:{mode:"replace",postId:t.id,tasks:s.map(e=>Object.assign(Object.assign({},e),{baseDatetime:t.date||"none",assigneeId:e.assigneeId||t.author,postId:t.id,postType:t.type,postAuthor:t.author}))}})}catch(e){(0,f.logError)(e)}n.forEach(({id:e})=>(0,l.dispatch)(h.store).removeTask(e))}})}(!o.id,i,t),yield function(e,t,s){return we(this,void 0,void 0,function*(){const n=e?{}:yield d(h.store).getAllPremiumItemsRelatedToPost(t.id),o=(i=(0,g.uniq)([...Object.keys(s),...Object.keys(n)]).reduce((e,t)=>{var o,i;return Object.assign(Object.assign({},e),{[t]:{old:null!==(o=n[t])&&void 0!==o?o:[],new:null!==(i=s[t])&&void 0!==i?i:[]}})},{}),(0,g.toPairs)(i).map(([e,t])=>t?[e,t]:void 0).filter(f.isDefined));var i;const r=o.filter(([e,{old:t}])=>(0,l.select)(De).arePremiumItemsDirty(e,t)),a=yield Promise.all(r.map(e=>we(this,[e],void 0,function*([e,s]){return[e,{old:s.old,new:yield Re(e,s.new,t.id)}]}))),{receivePremiumItems:c,removePremiumItem:u}=(0,l.dispatch)(h.store);a.forEach(([e,t])=>{t.old.forEach(t=>u(e,t.id)),c(e,t.new)})})}(!o.id,i,s),yield function(e,t){return we(this,void 0,void 0,function*(){if((t=t.map(t=>Object.assign(Object.assign({},t),{postId:e.id,postType:e.type,postAuthor:e.author}))).length)try{const e=(0,l.select)(h.store).getSiteId(),s=(0,l.select)(h.store).getApiRoot(),n=(0,l.select)(h.store).getAuthenticationToken();yield Pe({url:`${s}/site/${e}/comment`,method:"POST",credentials:"omit",mode:"cors",headers:{Authorization:`Bearer ${n}`},data:t})}catch(e){(0,f.logError)(e)}})}(i,n),yield(0,l.dispatch)(h.store).receivePosts(i),yield(0,l.dispatch)(h.store).receiveSuggestedReferences(i.id,r),yield(0,l.dispatch)(h.store).reloadPostRelatedItems(i.id)}catch(e){(0,f.logError)(e)}yield(0,l.dispatch)(De).markAsSaving(!1),yield(0,l.dispatch)(De).close()}})}function Re(e,t,s){return(0,Oe.applyFilters)("nelio-content_post-quick-editor_onSavePremiumItems",new Promise(e=>e([])),e,t,s)}const De=(0,l.createReduxStore)("nelio-content/post-quick-editor",{reducer:S,controls:l.controls,actions:Object.assign(Object.assign({},o),i),selectors:n});!function(e){(0,l.register)(e)}(De);const Ce=[{title:(0,p._x)("Post Editor","text","nelio-content"),intro:(0,p._x)("Welcome to the post editor. This simple modal lets you quickly and efficiently create new posts or edit existing ones.","user","nelio-content")},{title:(0,p._x)("Title","text","nelio-content"),intro:(0,p._x)("Here you can set or change the post’s title.","user","nelio-content"),element:()=>document.querySelector(".nelio-content-post-quick-editor__title")},{title:(0,p._x)("Post Type","text","nelio-content"),intro:(0,p._x)("Use this selector to set its type to one of the post types enabled in Nelio Content’s advanced settings.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-post-quick-editor__type"),element:()=>document.querySelector(".nelio-content-post-quick-editor__type")},{title:(0,p._x)("Status","text","nelio-content"),intro:(0,p._x)("Use this selector to set the post’s status.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-post-quick-editor__status"),element:()=>document.querySelector(".nelio-content-post-quick-editor__status")},{title:(0,p._x)("Status","text","nelio-content"),intro:(0,p._x)("In multiauthor sites, you can select the author of any given post here.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-post-quick-editor__author"),element:()=>document.querySelector(".nelio-content-post-quick-editor__author")},{title:(0,p._x)("Date","text","nelio-content"),intro:(0,p._x)("You can also set the date in which the post is supposed to be published. If you don’t set a specific date, the post will show up in the “Unscheduled” section.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-post-quick-editor__date"),element:()=>document.querySelector(".nelio-content-post-quick-editor__date")},{title:(0,p._x)("Time","text","nelio-content"),intro:(0,p._x)("You can also set the publication time.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-post-quick-editor__time"),element:()=>document.querySelector(".nelio-content-post-quick-editor__time")},{title:(0,p._x)("More Options","text","nelio-content"),intro:(0,p._x)("Finally, you can click on this link to show some additional settings. For example, if you’re creating or editing a blog post, this will reveal a couple of settings to tweak its categories and tags.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-post-quick-editor__extra-action"),element:()=>document.querySelector(".nelio-content-post-quick-editor__extra-action")}],qe=()=>{const{authorId:e,dateValue:t,reference:s,timeValue:n,title:o}=Ae(),{setError:i,clearErrors:r}=Ve();return(0,m.useEffect)(Le(()=>(0,f.isEmpty)((0,g.trim)(o))?i((0,p._x)("Please set post’s title","user","nelio-content")):(0,f.isEmpty)(e)?i((0,p._x)("Please set a post author","user","nelio-content")):(0,f.isEmpty)(t)&&!(0,f.isEmpty)(n)?i((0,p._x)("Please specify a valid date","user","nelio-content")):!(0,f.isEmpty)(t)&&(0,f.isEmpty)(n)?i((0,p._x)("Please specify a valid time","user","nelio-content")):s&&!(0,f.isUrl)(s)?i((0,p._x)("Please type in a valid reference URL","user","nelio-content")):r()),[e,t,s,n,o]),null},Ae=()=>u(e=>{const{getAuthorId:t,getDateValue:s,getReferenceInput:n,getTimeValue:o,getTitle:i}=e(De);return{authorId:t(),dateValue:s(),reference:n(),timeValue:o(),title:i()}}),Ve=()=>{const{setValidationError:e}=(0,l.useDispatch)(De);return{setError:e,clearErrors:()=>e("")}},Le=e=>()=>{e()},Be=window.wp.coreData,Me=()=>{const e=$e(),t=Fe(),s=He();return e||t||!s},Ue=()=>u(e=>e(De).isPublished()),$e=()=>u(e=>e(De).isDisabled()),Fe=()=>u(e=>e(De).isSaving()),Ke=()=>u(e=>e(De).isNewPost()),He=()=>u(e=>{const{getPost:t,canCurrentUserEditPost:s}=e(h.store),{getId:n,isNewPost:o}=e(De),i=n(),r=!!i&&t(i),a=!!r&&s(r);return o()||a}),Ye=()=>!!ze().length,ze=()=>{const e=u(e=>e(De).getPostType()),t=Xe();return(0,g.filter)(t,t=>!e||t.types.includes(e))},Je=e=>u(t=>{const s=t(De).getPostType();return t(h.store).getPostTypes(e).some(e=>e.name===s)}),We=()=>[Ye(),Je("future-actions"),Je("series"),Je("tasks"),Je("comments"),Je("references")].some(e=>e),Xe=()=>{const e=(0,g.filter)(u(e=>e(Be.store).getEntityRecords("root","taxonomy",{per_page:-1})||[]),e=>e.visibility.public);return(0,Oe.applyFilters)("nelio-content_post-quick-editor_allTaxonomies",e)},Ge=()=>{const e=He(),t=Qe();return e?null:(0,a.jsxs)("div",{className:"nelio-content-post-quick-editor__edit-warning",children:[(0,a.jsx)(c.Dashicon,{icon:"warning"}),t]})},Qe=()=>u(e=>{const{getPostType:t}=e(De);switch(t()){case"page":return(0,p._x)("You’re not allowed to edit this page.","user","nelio-content");case"post":return(0,p._x)("You’re not allowed to edit this post.","user","nelio-content");default:return(0,p._x)("You’re not allowed to edit this content.","user","nelio-content")}}),Ze=()=>{const{setExtraInfoTab:e}=(0,l.useDispatch)(De),t=et(),s=We(),n=Me(),o=Ye();return!s||t?null:(0,a.jsx)("div",{className:"nelio-content-post-quick-editor__extra-actions",children:(0,a.jsx)(c.Button,{className:"nelio-content-post-quick-editor__extra-action",variant:"link",disabled:n,onClick:()=>e(o?"taxonomies":"tasks"),children:(0,p._x)("View Details","command","nelio-content")})})},et=()=>u(e=>"none"!==e(De).getExtraInfoTab()),tt=()=>{const{close:e,saveAndClose:t}=(0,l.useDispatch)(De),s=Me(),n=st(),o=Ke(),i=Fe();return(0,a.jsxs)("div",{className:"nelio-content-post-quick-editor__actions",children:[(0,a.jsx)(Ze,{}),(0,a.jsx)(c.Button,{variant:"secondary",disabled:s,onClick:e,children:(0,p._x)("Cancel","command","nelio-content")}),(0,a.jsx)(x.SaveButton,{variant:"primary",error:n,isSaving:i,isUpdate:!o,onClick:t})]})},st=()=>u(e=>e(De).getValidationError()),nt=()=>{const{close:e}=(0,l.useDispatch)(De),{primary:t,secondary:s}=ot(),n=Me(),o=(0,x.getPremiumComponent)("pqe/duplicate-action","null"),i=(0,x.getPremiumComponent)("pqe/rewrite-action","null");return(0,a.jsxs)("div",{className:"nelio-content-post-quick-editor__actions",children:[(0,a.jsx)(Ze,{}),(0,a.jsx)(c.Button,{variant:"secondary",onClick:e,disabled:n,children:(0,p._x)("Cancel","command","nelio-content")}),(0,a.jsx)(o,{}),(0,a.jsx)(i,{}),!n&&!!s&&(0,a.jsx)(c.ExternalLink,{className:"components-button is-secondary",href:s.url,onClick:e,children:s.label}),!n&&!!t&&(0,a.jsx)(c.ExternalLink,{className:"components-button is-primary",href:t.url,onClick:e,children:t.label})]})},ot=()=>{const e=it(),t=He();if(!e)return{};const{status:s,editLink:n,viewLink:o}=e,i="publish"===s,r={url:o,label:i?(0,p._x)("View","command","nelio-content"):(0,p._x)("Preview","command","nelio-content")},a={url:n,label:(0,p._x)("Edit","command","nelio-content")};return t?{primary:i?r:a,secondary:i?a:r}:{secondary:r}},it=()=>u(e=>{const{getPost:t}=e(h.store),{getId:s}=e(De);return t(s())}),rt=()=>{const e=He(),t=at();return e&&t?(0,a.jsx)(tt,{}):(0,a.jsx)(nt,{})},at=()=>u(e=>{var t,s,n,o;e(h.store),e(De);const{isNewPost:i}=e(De);if(i())return!0;const{isSaving:r}=e(De);if(r())return!0;const a=e(De).getId(),c=e(h.store).getPost(a);if(!c)return!0;const l=e(h.store).getTasksRelatedToPost(a);if(e(De).areTasksDirty(l))return!0;const{arePremiumItemsDirty:u}=e(De);if((0,g.toPairs)(e(h.store).getAllPremiumItemsRelatedToPost(a)).map(([e,t])=>t?[e,t]:void 0).filter(f.isDefined).map(([e,t])=>u(e,t)).some(e=>e))return!0;const d=e(h.store).getSuggestedReferences(a);if(e(De).areReferencesDirty(d))return!0;if(e(De).getNewComments().length)return!0;const m=c.series;if(e(De).areSeriesDirty(m))return!0;const{getTitle:p,getAuthorId:x,getDateValue:_,getTimeValue:b,getPostStatus:T,getPostTermsByTaxonomy:y}=e(De),v=e=>JSON.stringify((0,g.mapValues)(e,e=>(0,g.orderBy)(e,"id"))),j={title:p(),status:T(),author:x(),dateValue:null!==(t=_())&&void 0!==t?t:"",timeValue:null!==(s=b())&&void 0!==s?s:"",taxonomies:v(y())},k=(0,f.extractDateTimeValues)(c.date),S=Object.assign(Object.assign({},(0,g.pick)(c,(0,g.keys)(j))),{taxonomies:v(c.taxonomies),dateValue:null!==(n=null==k?void 0:k.dateValue)&&void 0!==n?n:"",timeValue:null!==(o=null==k?void 0:k.timeValue)&&void 0!==o?o:""});return!(0,g.isEqual)(j,S)}),ct=()=>{const[e,t]=lt(),s=ut(),n=Me();return s?(0,a.jsx)("div",{className:"nelio-content-post-quick-editor__author",children:(0,a.jsx)(x.AuthorSearcher,{value:e,onChange:e=>{e&&t(e)},placeholder:(0,p._x)("Author…","text","nelio-content"),disabled:n})}):null},lt=()=>{const e=u(e=>e(De).getAuthorId()),{setAuthorId:t}=(0,l.useDispatch)(De);return[e,t]},ut=()=>u(e=>e(h.store).isMultiAuthor()),dt=()=>{const[e,t]=mt(),s=pt(),n=Me(),o=Ue();return(0,a.jsx)("div",{className:"nelio-content-post-quick-editor__date",children:(0,a.jsx)(x.DateInput,{disabled:n||o,value:e,onChange:e=>t(null!=e?e:""),min:s})})},mt=()=>{const e=u(e=>e(De).getDateValue()),{setDateValue:t}=(0,l.useDispatch)(De);return[e,t]},pt=()=>u(e=>{const{getToday:t,getPost:s}=e(h.store),{getId:n,isNewPost:o}=e(De),i=t(),r=s(n()),a=(0,f.extractDateTimeValues)(null==r?void 0:r.date);return o()?i:gt(i,null==a?void 0:a.dateValue)}),gt=(e,t)=>!t||e<t?e:t;function ht(e){var t,s,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=ht(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}const xt=function(){for(var e,t,s=0,n="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=ht(e))&&(n&&(n+=" "),n+=t);return n},ft=()=>(0,a.jsx)(_t,{}),_t=(0,h.withSubscriptionCheck)("raw/editorial-comments",()=>(0,a.jsxs)("div",{className:"nelio-content-pqe-extra__comments",children:[(0,a.jsx)(bt,{}),(0,a.jsx)(Tt,{})]})),bt=()=>{const e=(0,m.useRef)(null),{comments:t,newComments:s}=vt(),n=jt(),o=s.length,[i,r]=(0,m.useState)(-1);return(0,m.useEffect)(()=>{var t;i!==o&&(i<o&&(null===(t=e.current)||void 0===t||t.scrollTo({top:999999,behavior:-1===i?void 0:"smooth"})),r(o))},[i,o,r]),(0,a.jsxs)("ul",{ref:e,className:"nelio-content-pqe-extra__comment-list",children:[t.map(e=>(0,a.jsx)(yt,{comment:e},`nelio-content-comment-${e.id}`)),s.map(e=>(0,a.jsx)(yt,{comment:e,onDelete:()=>n(e.id)},`nelio-content-comment-${e.id}`))]})},Tt=()=>{const[e,t]=(0,m.useState)(""),s=Fe(),n=kt();return(0,a.jsx)("div",{className:"nelio-content-pqe-extra__comment-form",children:(0,a.jsx)(c.TextareaControl,{placeholder:(0,p._x)("Write a comment and press enter to send…","user","nelio-content"),value:e,disabled:s,onChange:t,onKeyDown:s=>{"Enter"===s.key&&(s.preventDefault(),n(e),t(""))}})})},yt=({comment:e,onDelete:t})=>{const s=Fe(),n=St(null==e?void 0:e.authorId),o=(0,h.useAuthorName)(null==e?void 0:e.authorId);return(0,a.jsx)("li",{className:xt("nelio-content-pqe-extra__comment",{"nelio-content-pqe-extra__comment--is-mine":n}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:xt({"nelio-content-pqe-extra__comment-bubble":!0,"nelio-content-pqe-extra__comment-bubble--is-mine":n}),children:(null==e?void 0:e.comment)||""}),t?(0,a.jsxs)("div",{className:"nelio-content-pqe-extra__comment-actions",children:[(0,a.jsx)("span",{children:s?(0,p._x)("Saving…","text","nelio-content"):(0,p._x)("New","text (editorial comment)","nelio-content")})," • ",(0,a.jsx)(x.DeleteButton,{disabled:s,onClick:t})]}):(0,a.jsxs)("div",{className:xt({"nelio-content-pqe-extra__comment-extra":!0,"nelio-content-pqe-extra__comment-extra--is-mine":n}),children:[!n&&(0,a.jsx)("div",{className:"nelio-content-pqe-extra__comment-author",children:o}),(0,a.jsx)("div",{className:"nelio-content-pqe-extra__comment-date",children:(0,_.dateI18n)((0,_.getSettings)().formats.datetime,null==e?void 0:e.date)})]})]})})},vt=()=>u(e=>{const t=e(De).getId();return{comments:e(h.store).getCommentsRelatedToPost(t),newComments:e(De).getNewComments()}}),jt=()=>{const{setNewComments:e}=(0,l.useDispatch)(De);return u(t=>{const s=t(De).getNewComments();return t=>{e(s.filter(e=>e.id!==t))}})},kt=()=>{const{setNewComments:e}=(0,l.useDispatch)(De);return u(t=>{const s=t(De).getNewComments();return t=>{(t=(0,g.trim)(t))&&e([...s,Object.assign(Object.assign({},(0,f.createComment)(0,"post")),{comment:t})])}})},St=e=>u(t=>t(h.store).getCurrentUserId()===e),Et=()=>{const{references:e,referenceInput:t}=u(e=>({referenceInput:e(De).getReferenceInput(),references:e(De).getReferences()})),s=Fe(),{setReferenceInput:n,setReferences:o}=(0,l.useDispatch)(De),i=(0,g.trim)(t),r=(0,f.isUrl)(i)&&!e.some(e=>e.url===i);return(0,a.jsxs)("div",{className:"nelio-content-pqe-extra__references",children:[(0,a.jsx)("ul",{className:"nelio-content-pqe-extra__reference-list",children:e.map((e,t)=>(0,a.jsx)("li",{children:(0,a.jsx)(c.ExternalLink,{href:e.url,children:e.title||e.url})},`nelio-content-reference-${t}`))}),(0,a.jsxs)("div",{className:"nelio-content-pqe-extra__new-reference",children:[(0,a.jsx)(c.TextControl,{autoComplete:"off",placeholder:(0,p._x)("Suggest reference…","user","nelio-content"),disabled:s,value:t,onChange:n}),(0,a.jsx)(c.Button,{variant:"secondary",onClick:()=>{(0,f.isUrl)(i)&&(o([...e,{url:i,title:""}]),n(""))},disabled:!r||s,children:(0,p._x)("Add","command","nelio-content")})]})]})},Pt=window.NelioContent.taskEditor,Ot=()=>{const e=Nt(),t=u(e=>!!e(De).getTasks().length),{openTaskPresetLoader:s,setTasks:n}=(0,l.useDispatch)(De),o=u(e=>e(De).getTasks()),i=It(o),[r,c]=wt();return(0,a.jsx)(x.TaskPresetLoader,{state:e,actions:t?"replace-or-merge":"add",selection:r,onUpdate:c,onCancel:()=>s(!1),onMerge:e=>{n([...o,...e.map(i("merge")).filter(f.isDefined)]),s(!1)},onReplace:e=>{n(e.map(i("replace")).filter(f.isDefined)),s(!1)}})},wt=()=>{const e=u(e=>e(De).getTaskPresetSelection()),{selectTaskPresets:t}=(0,l.useDispatch)(De);return[e,t]},It=e=>{const{postAuthor:t,postId:s,postType:n,postDate:o}=u(e=>({postAuthor:e(De).getAuthorId(),postId:e(De).getId(),postType:e(De).getPostType(),postDate:e(De).getDateValue()}));return i=>r=>{var a,c;const l=Object.assign(Object.assign({},(0,f.createTask)()),{assigneeId:null!==(c=null!==(a=r.assigneeId)&&void 0!==a?a:t)&&void 0!==c?c:0,task:r.task,color:r.color,dateType:r.dateType,dateValue:r.dateValue,postId:s,postType:n,dateDue:(0,f.getTaskDateDue)({baseDatetime:o||"now",dateType:r.dateType,dateValue:r.dateValue}),postAuthor:t}),u=(0,g.pick)(l,["assigneeId","task","dateType","dateValue"]);return"merge"===i&&(0,g.some)(e,e=>(0,g.isEqual)(u,(0,g.pick)(e,(0,g.keys)(u))))?void 0:l}},Nt=()=>u(e=>e(De).isTaskPresetLoaderOpen()?"selection":void 0),Rt=()=>(0,a.jsx)(Dt,{}),Dt=(0,h.withSubscriptionCheck)("raw/editorial-tasks",()=>(0,a.jsxs)("div",{className:"nelio-content-pqe-extra__tasks",children:[(0,a.jsx)(Ct,{}),(0,a.jsx)(qt,{}),(0,a.jsx)(Ot,{}),(0,a.jsx)(Pt.TaskEditor,{})]})),Ct=()=>{const e=u(e=>e(De).getTasks());return(0,a.jsx)("ul",{className:"nelio-content-pqe-extra__task-list",children:e.map(e=>(0,a.jsx)(At,{task:e},`nelio-content-task-${e.id}`))})},qt=()=>{const e=Vt(),{openTaskPresetLoader:t}=(0,l.useDispatch)(De),{openNewTaskEditor:s}=(0,l.useDispatch)(Pt.store),{addTask:n}=Lt(),{canEditSettings:o,hasTaskPresets:i,settingsUrl:r}=u(e=>({canEditSettings:e(h.store).canCurrentUserManagePlugin(),hasTaskPresets:!!e(h.store).getTaskPresets().length,settingsUrl:e(h.store).getAdminUrl("/admin.php?page=nelio-content-settings&subpage=tools--task-presets")})),d=Fe();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"nelio-content-pqe-extra__task-list-actions",children:[i&&(0,a.jsx)(c.Button,{size:"small",variant:"secondary",disabled:d,onClick:()=>t(!0),children:(0,p._x)("Load Tasks","command","nelio-content")}),(0,a.jsx)(c.Button,{size:"small",variant:"secondary",disabled:d,onClick:()=>s(Object.assign(Object.assign({},(0,f.createTask)()),{dateType:"predefined-offset",dateValue:"0"}),{context:"post",post:e,onSave:n}),children:(0,p._x)("Add Task","command","nelio-content")})]}),!d&&!i&&o&&(0,a.jsx)("div",{className:"nelio-content-pqe-extra__configure-task-presets",children:(0,a.jsx)(c.ExternalLink,{href:r,children:(0,p._x)("Create reusable task presets now","user","nelio-content")})})]})},At=({task:e})=>{const t=(0,h.useAuthorName)(e.assigneeId,(0,p._x)("Unknown Assignee","text","nelio-content")),s=(0,f.getHumanDateDue)(void 0,e.dateType,e.dateValue),n=Vt(),o=Fe(),{editTask:i,deleteTask:r}=Lt(),{openExistingTaskEditor:u}=(0,l.useDispatch)(Pt.store);return(0,a.jsxs)("li",{className:xt("nelio-content-pqe-extra__task",{"nelio-content-pqe-extra__task--completed":!!e.completed,[`nelio-content-pqe-extra__task--is-${e.color}`]:!!e.color}),children:[(0,a.jsx)("div",{className:xt("nelio-content-pqe-extra__task-desc",{"nelio-content-pqe-extra__task-desc--completed":!!e.completed}),children:e.task}),(0,a.jsx)("div",{className:"nelio-content-pqe-extra__task-details",children:`${t} • ${s}`}),(0,a.jsxs)("div",{className:"nelio-content-pqe-extra__task-actions",children:[(0,a.jsx)(c.Button,{size:"small",variant:"link",disabled:o,onClick:()=>u(e,{post:n,context:"post",onSave:i}),children:(0,p._x)("Edit","command","nelio-content")}),(0,a.jsx)(x.DeleteButton,{size:"small",disabled:o,onClick:()=>r(e)})]})]})},Vt=()=>u(e=>({id:0,title:e(De).getTitle(),type:e(De).getPostType()||"post",author:e(De).getAuthorId()||0,date:e(De).getDateValue(),status:e(De).getPostStatus()||e(De).getPostStatus()||"draft",viewLink:""})),Lt=()=>{const e=u(e=>e(De).getTasks()),{setTasks:t}=(0,l.useDispatch)(De);return{addTask:s=>t([...e,s]),editTask:s=>t((0,g.values)((0,g.keyBy)([...e,s],"id"))),deleteTask:s=>t((0,g.without)(e,s))}},Bt=({showLabels:e})=>{const t=Fe(),s=ze(),[n,o]=Mt();return(0,a.jsx)(a.Fragment,{children:s.map(({slug:s,labels:i})=>(0,a.jsx)(x.ItemSelectControl,{disabled:t,label:e?i.name:void 0,placeholder:i.search_items,kind:"taxonomy",name:s,value:(0,g.map)(n[s],"id"),onChange:o(s)},s))})},Mt=()=>{const e=ze().map(e=>e.slug),t=u(t=>{const{getPostTerms:s}=t(De);return(0,g.zipObject)(e,e.map(s))}),{setPostTerms:s}=(0,l.useDispatch)(De),{getEntityRecord:n}=(0,l.select)(Be.store);return[t,e=>t=>{return s(e,(0,g.map)(t,(o=e,e=>{var t,s;return{id:e,name:(null===(t=n("taxonomy",o,e))||void 0===t?void 0:t.name)||`Term ${e}`,slug:(null===(s=n("taxonomy",o,e))||void 0===s?void 0:s.slug)||`term-${e}`}})));var o}]},Ut=()=>{const e=Kt();return We()?"none"===e?null:(0,a.jsx)($t,{tab:e}):null},$t=({tab:e})=>{const t=Ft(e),s=Ht(),{setExtraInfoTab:n}=(0,l.useDispatch)(De),o=Fe();return(0,a.jsxs)("div",{className:"nelio-content-pqe-extra",children:[(0,a.jsx)("div",{className:"nelio-content-pqe-extra__tabs",children:s.map(({name:t,title:s})=>(0,a.jsx)("button",{title:s,className:xt("nelio-content-pqe-extra__tab",{"nelio-content-pqe-extra__tab--active":e===t}),disabled:o,onClick:()=>!o&&n(t),children:s},t))}),(0,a.jsx)("div",{className:"nelio-content-pqe-extra__content",children:(0,a.jsx)(t,{})})]})},Ft=e=>{switch(e){case"tasks":return Rt;case"future-actions":return(0,x.getPremiumComponent)("pqe/future-actions","raw/future-actions");case"comments":return ft;case"references":return Et;case"series":return(0,x.getPremiumComponent)("pqe/series","raw/series");case"taxonomies":return()=>(0,a.jsx)(Bt,{showLabels:!0})}},Kt=()=>u(e=>e(De).getExtraInfoTab()),Ht=()=>[Ye()&&{name:"taxonomies",title:(0,p._x)("Taxonomies","text","nelio-content")},Je("tasks")&&{name:"tasks",title:(0,p._x)("Tasks","text","nelio-content")},Je("series")&&{name:"series",title:(0,p._x)("Series","text","nelio-content")},Je("future-actions")&&{name:"future-actions",title:(0,p._x)("Future Actions","text","nelio-content")},Je("comments")&&{name:"comments",title:(0,p._x)("Comments","text","nelio-content")},Je("references")&&{name:"references",title:(0,p._x)("References","text","nelio-content")}].filter(e=>!!e),Yt=()=>{const[e,t]=zt(),s=Me();return(0,a.jsx)("div",{className:"nelio-content-post-quick-editor__title",children:(0,a.jsx)(c.TextControl,{disabled:s,value:e,onChange:e=>t(e),placeholder:(0,p._x)("Title…","text","nelio-content")})})},zt=()=>{const e=u(e=>e(De).getTitle()),{setTitle:t}=(0,l.useDispatch)(De);return[e,t]},Jt=()=>{const[e,t]=Wt(),s=Me(),n=Ue();return(0,a.jsx)("div",{className:"nelio-content-post-quick-editor__time",children:(0,a.jsx)(x.TimeInput,{disabled:s||n,value:e,onChange:e=>t(null!=e?e:"")})})},Wt=()=>{const e=u(e=>e(De).getTimeValue()),{setTimeValue:t}=(0,l.useDispatch)(De);return[e,t]},Xt=({contexts:e})=>{const[t,s]=Gt(),n=Qt(e),o=Me();return!Ke()||n.length<2?null:(0,a.jsx)("div",{className:"nelio-content-post-quick-editor__type",children:(0,a.jsx)(c.SelectControl,{disabled:o,value:t,onChange:s,options:n})})},Gt=()=>{const e=u(e=>e(De).getPostType()),{setPostType:t}=(0,l.useDispatch)(De);return[e,t]},Qt=e=>u(t=>{const s=e.flatMap(e=>t(h.store).getPostTypes(e,"create"));return(0,g.uniq)(s).map(({name:e,labels:{singular:t}})=>({label:t,value:e}))}),Zt=()=>{const[e,t]=es(),s=ts(),n=Me(),o=ss();return(0,a.jsx)("div",{className:"nelio-content-post-quick-editor__status",children:(0,a.jsx)(c.SelectControl,{disabled:n||o,value:e,onChange:t,options:s})})},es=()=>{const e=(0,g.map)(ts(),"value"),t=u(e=>e(De).getPostStatus()),{setPostStatus:s}=(0,l.useDispatch)(De);return(0,m.useEffect)(()=>{(0,f.hasHead)(e)&&(t&&e.includes(t)||s(e[0]))},[e.join(","),t]),[t,s]},ts=()=>{var e;const t=ss(),s=u(e=>{const{canCurrentUserPublishPost:t,getPost:s,getPostStatuses:n}=e(h.store),{getId:o,getPostType:i}=e(De),r=i(),a=(0,g.filter)(r?n(r):[],({slug:e})=>"nelio-content-unscheduled"!==e),c=s(o());return(0,g.map)(a,({slug:e,name:s,available:n,flags:o=[]})=>({value:e,label:s,disabled:!n||o.includes("disabled-in-editor")||"future"===e&&!t(c)}))});return t?[null!==(e=(0,g.find)(s,{value:f.PUBLISHED}))&&void 0!==e?e:{value:f.PUBLISHED,label:(0,p._x)("Published","text","nelio-content"),disabled:!0}]:(0,g.filter)(s,({value:e})=>"publish"!==e&&"trash"!==e)},ss=()=>u(e=>{const{getPost:t}=e(h.store),{getId:s}=e(De),n=t(s());return"publish"===(null==n?void 0:n.status)});function ns(e,t){(0,Oe.addFilter)("nelio-content_post-quick-editor_onSavePremiumItems",`save${(0,f.pascalCase)(e)}s`,(s,n,o,i)=>e===n?t(o,i):s)}const os=({className:e="",context:t})=>{const s=rs(),n=cs(),o=ms(),i=(0,a.jsx)(is,{}),r=(0,g.isArray)(t)?t:[t];return s?n?(0,a.jsx)(c.Modal,{className:`nelio-content-post-quick-editor ${e}`,title:(0,p._x)("Loading…","text","nelio-content"),isDismissible:!1,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,onRequestClose:()=>{},children:(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,a.jsx)(c.Spinner,{})})}):(0,a.jsxs)(c.Modal,{className:`nelio-content-post-quick-editor ${e}`,title:i,isDismissible:!1,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,onRequestClose:()=>{},children:[(0,a.jsxs)("div",{className:"nelio-content-post-quick-editor__title-type-and-status",children:[(0,a.jsx)(Yt,{}),(0,a.jsx)(Xt,{contexts:r}),(0,a.jsx)(Zt,{})]}),(0,a.jsxs)("div",{className:"nelio-content-post-quick-editor__author-and-datetime",children:[(0,a.jsx)(ct,{}),(0,a.jsx)(dt,{}),(0,a.jsx)(Jt,{})]}),!!o&&(0,a.jsx)("p",{className:"nelio-content-post-quick-editor__rewritten-message",children:(0,p._x)("This is a rewritten copy of a published post.","text","nelio-content")}),(0,a.jsx)(Ut,{}),(0,a.jsx)(qe,{}),(0,a.jsx)(Ge,{}),(0,a.jsx)(rt,{})]}):null},is=()=>{const e=as();return(0,a.jsxs)("div",{className:"nelio-content-post-quick-editor__header",children:[(0,a.jsx)("div",{className:"nelio-content-post-quick-editor__header-text",children:e}),(0,a.jsx)("div",{className:"nelio-content-post-quick-editor__header-help",children:(0,a.jsx)(x.ContextualHelp,{context:"post-quick-editor",walkthrough:Ce,autostart:!0})})]})},rs=()=>u(e=>e(De).isVisible()),as=()=>u(e=>{e(h.store),e(De);const t=e(De).isNewPost(),s=e(De).getPostType(),n=s&&e(h.store).getPostType(s);return n?t?n.labels.new:n.labels.edit:t?(0,p._x)("New post","text","nelio-content"):(0,p._x)("Edit post","text","nelio-content")}),cs=()=>{const e=u(e=>e(De).isNewPost()),t=us(),s=ds(),n=ls();return!e&&(t||s||n)},ls=()=>{const{setReferences:e}=(0,l.useDispatch)(De),{references:t,isLoading:s,isVisible:n}=u(e=>{const t=e(De).getId();return{references:e(h.store).getSuggestedReferences(t),isLoading:!e(h.store).hasFinishedResolution("getSuggestedReferences",[t])&&!e(h.store).hasResolutionFailed("getSuggestedReferences",[t]),isVisible:e(De).isVisible()}});return(0,m.useEffect)(()=>{n&&!s&&e(t)},[n,e,JSON.stringify(t),s]),s},us=()=>{const{setTasks:e}=(0,l.useDispatch)(De),{tasks:t,isLoading:s,isVisible:n}=u(e=>{const t=e(De).getId();return{tasks:e(h.store).getTasksRelatedToPost(t),isLoading:!e(h.store).hasFinishedResolution("getTasksRelatedToPost",[t])&&!e(h.store).hasResolutionFailed("getTasksRelatedToPost",[t]),isVisible:e(De).isVisible()}});return(0,m.useEffect)(()=>{n&&!s&&e(t)},[n,e,JSON.stringify(t),s]),s},ds=()=>{const{setPremiumItems:e}=(0,l.useDispatch)(De),{premiumItems:t,isLoading:s,isVisible:n}=u(e=>{const t=e(De).getId();return{premiumItems:e(h.store).getAllPremiumItemsRelatedToPost(t),isLoading:!e(h.store).hasFinishedResolution("getAllPremiumItemsRelatedToPost",[t])&&!e(h.store).hasResolutionFailed("getAllPremiumItemsRelatedToPost",[t]),isVisible:e(De).isVisible()}});return(0,m.useEffect)(()=>{n&&!s&&(0,g.toPairs)(t).map(([e,t])=>t?[e,t]:void 0).filter(f.isDefined).forEach(([t,s])=>e(t,s))},[n,e,JSON.stringify(t),s]),s},ms=()=>u(e=>e(De).isRewrite())}},s={};function n(e){var o=s[e];if(void 0!==o)return o.exports;var i=s[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,s,o,i)=>{if(!s){var r=1/0;for(u=0;u<e.length;u++){for(var[s,o,i]=e[u],a=!0,c=0;c<s.length;c++)(!1&i||r>=i)&&Object.keys(n.O).every(e=>n.O[e](s[c]))?s.splice(c--,1):(a=!1,i<r&&(r=i));if(a){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[s,o,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={9303:0,7760:0};n.O.j=t=>0===e[t];var t=(t,s)=>{var o,i,[r,a,c]=s,l=0;if(r.some(t=>0!==e[t])){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)var u=c(n)}for(t&&t(s);l<r.length;l++)i=r[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},s=globalThis.webpackChunkNelioContent=globalThis.webpackChunkNelioContent||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var o=n.O(void 0,[7760],()=>n(3394));o=n.O(o);var i=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var r in o)i[r]=o[r];o.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();