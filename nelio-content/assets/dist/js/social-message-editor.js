(()=>{var e,t={2151:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],s=0;s<e.length;s++)t.push(255&e.charCodeAt(s));return t},bytesToString:function(e){for(var t=[],s=0;s<e.length;s++)t.push(String.fromCharCode(e[s]));return t.join("")}}};e.exports=t},3503:(e,t,s)=>{var i,n,a,o,l;i=s(3939),n=s(2151).utf8,a=s(7206),o=s(2151).bin,(l=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):n.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var s=i.bytesToWords(e),r=8*e.length,c=1732584193,d=-271733879,m=-1732584194,u=271733878,g=0;g<s.length;g++)s[g]=16711935&(s[g]<<8|s[g]>>>24)|4278255360&(s[g]<<24|s[g]>>>8);s[r>>>5]|=128<<r%32,s[14+(r+64>>>9<<4)]=r;var p=l._ff,h=l._gg,x=l._hh,v=l._ii;for(g=0;g<s.length;g+=16){var _=c,w=d,b=m,f=u;c=p(c,d,m,u,s[g+0],7,-680876936),u=p(u,c,d,m,s[g+1],12,-389564586),m=p(m,u,c,d,s[g+2],17,606105819),d=p(d,m,u,c,s[g+3],22,-1044525330),c=p(c,d,m,u,s[g+4],7,-176418897),u=p(u,c,d,m,s[g+5],12,1200080426),m=p(m,u,c,d,s[g+6],17,-1473231341),d=p(d,m,u,c,s[g+7],22,-45705983),c=p(c,d,m,u,s[g+8],7,1770035416),u=p(u,c,d,m,s[g+9],12,-1958414417),m=p(m,u,c,d,s[g+10],17,-42063),d=p(d,m,u,c,s[g+11],22,-1990404162),c=p(c,d,m,u,s[g+12],7,1804603682),u=p(u,c,d,m,s[g+13],12,-40341101),m=p(m,u,c,d,s[g+14],17,-1502002290),c=h(c,d=p(d,m,u,c,s[g+15],22,1236535329),m,u,s[g+1],5,-165796510),u=h(u,c,d,m,s[g+6],9,-1069501632),m=h(m,u,c,d,s[g+11],14,643717713),d=h(d,m,u,c,s[g+0],20,-373897302),c=h(c,d,m,u,s[g+5],5,-701558691),u=h(u,c,d,m,s[g+10],9,38016083),m=h(m,u,c,d,s[g+15],14,-660478335),d=h(d,m,u,c,s[g+4],20,-405537848),c=h(c,d,m,u,s[g+9],5,568446438),u=h(u,c,d,m,s[g+14],9,-1019803690),m=h(m,u,c,d,s[g+3],14,-187363961),d=h(d,m,u,c,s[g+8],20,1163531501),c=h(c,d,m,u,s[g+13],5,-1444681467),u=h(u,c,d,m,s[g+2],9,-51403784),m=h(m,u,c,d,s[g+7],14,1735328473),c=x(c,d=h(d,m,u,c,s[g+12],20,-1926607734),m,u,s[g+5],4,-378558),u=x(u,c,d,m,s[g+8],11,-2022574463),m=x(m,u,c,d,s[g+11],16,1839030562),d=x(d,m,u,c,s[g+14],23,-35309556),c=x(c,d,m,u,s[g+1],4,-1530992060),u=x(u,c,d,m,s[g+4],11,1272893353),m=x(m,u,c,d,s[g+7],16,-155497632),d=x(d,m,u,c,s[g+10],23,-1094730640),c=x(c,d,m,u,s[g+13],4,681279174),u=x(u,c,d,m,s[g+0],11,-358537222),m=x(m,u,c,d,s[g+3],16,-722521979),d=x(d,m,u,c,s[g+6],23,76029189),c=x(c,d,m,u,s[g+9],4,-640364487),u=x(u,c,d,m,s[g+12],11,-421815835),m=x(m,u,c,d,s[g+15],16,530742520),c=v(c,d=x(d,m,u,c,s[g+2],23,-995338651),m,u,s[g+0],6,-198630844),u=v(u,c,d,m,s[g+7],10,1126891415),m=v(m,u,c,d,s[g+14],15,-1416354905),d=v(d,m,u,c,s[g+5],21,-57434055),c=v(c,d,m,u,s[g+12],6,1700485571),u=v(u,c,d,m,s[g+3],10,-1894986606),m=v(m,u,c,d,s[g+10],15,-1051523),d=v(d,m,u,c,s[g+1],21,-2054922799),c=v(c,d,m,u,s[g+8],6,1873313359),u=v(u,c,d,m,s[g+15],10,-30611744),m=v(m,u,c,d,s[g+6],15,-1560198380),d=v(d,m,u,c,s[g+13],21,1309151649),c=v(c,d,m,u,s[g+4],6,-145523070),u=v(u,c,d,m,s[g+11],10,-1120210379),m=v(m,u,c,d,s[g+2],15,718787259),d=v(d,m,u,c,s[g+9],21,-343485551),c=c+_>>>0,d=d+w>>>0,m=m+b>>>0,u=u+f>>>0}return i.endian([c,d,m,u])})._ff=function(e,t,s,i,n,a,o){var l=e+(t&s|~t&i)+(n>>>0)+o;return(l<<a|l>>>32-a)+t},l._gg=function(e,t,s,i,n,a,o){var l=e+(t&i|s&~i)+(n>>>0)+o;return(l<<a|l>>>32-a)+t},l._hh=function(e,t,s,i,n,a,o){var l=e+(t^s^i)+(n>>>0)+o;return(l<<a|l>>>32-a)+t},l._ii=function(e,t,s,i,n,a,o){var l=e+(s^(t|~i))+(n>>>0)+o;return(l<<a|l>>>32-a)+t},l._blocksize=16,l._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var s=i.wordsToBytes(l(e,t));return t&&t.asBytes?s:t&&t.asString?o.bytesToString(s):i.bytesToHex(s)}},3939:e=>{var t,s;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&s.rotl(e,8)|4278255360&s.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=s.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],s=0,i=0;s<e.length;s++,i+=8)t[i>>>5]|=e[s]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],s=0;s<32*e.length;s+=8)t.push(e[s>>>5]>>>24-s%32&255);return t},bytesToHex:function(e){for(var t=[],s=0;s<e.length;s++)t.push((e[s]>>>4).toString(16)),t.push((15&e[s]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(parseInt(e.substr(s,2),16));return t},bytesToBase64:function(e){for(var s=[],i=0;i<e.length;i+=3)for(var n=e[i]<<16|e[i+1]<<8|e[i+2],a=0;a<4;a++)8*i+6*a<=8*e.length?s.push(t.charAt(n>>>6*(3-a)&63)):s.push("=");return s.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var s=[],i=0,n=0;i<e.length;n=++i%4)0!=n&&s.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*n+8)-1)<<2*n|t.indexOf(e.charAt(i))>>>6-2*n);return s}},e.exports=s},4191:(e,t,s)=>{"use strict";s.r(t),s.d(t,{socialMessageEditor:()=>o});var i={};s.r(i),s.d(i,{areMediumTagsVisible:()=>me,areTikTokSettingsVisible:()=>ve,getActiveSocialNetwork:()=>_e,getActiveSocialProfile:()=>ge,getDateType:()=>M,getDateValue:()=>L,getDisabledProfileIds:()=>ke,getEditorContext:()=>we,getFailureDescription:()=>I,getId:()=>N,getImageAltText:()=>F,getImageId:()=>D,getImageUrl:()=>U,getMediumTags:()=>z,getMessageTypeInNetwork:()=>B,getNetworkId:()=>E,getNetworkLink:()=>C,getPlurkQualifier:()=>Q,getPost:()=>K,getPostId:()=>X,getPostType:()=>J,getProfileIdInTargetSelector:()=>Ne,getRecurrenceContext:()=>de,getRecurrenceMode:()=>oe,getRecurrenceSettings:()=>ce,getRelatedPostStatus:()=>he,getReusableMessageId:()=>O,getSelectedSocialNetworks:()=>se,getSelectedSocialProfiles:()=>ee,getSelectedSocialProfilesInNetwork:()=>te,getSelectedTargets:()=>ie,getSelectedTargetsInProfile:()=>ne,getSelectedTargetsInTargetSelector:()=>Se,getStatus:()=>S,getText:()=>ae,getTikTokSettings:()=>W,getTimeType:()=>A,getTimeValue:()=>V,getTypeByNetwork:()=>R,getValidationError:()=>be,getVideoAltText:()=>G,getVideoId:()=>$,getVideoUrl:()=>q,hasExplicitImage:()=>H,hasExplicitVideo:()=>Y,isEditingRecurrenceSettings:()=>re,isEditingReusableMessage:()=>P,isEditorVisible:()=>je,isFreePreview:()=>T,isImageUrlSelectorVisible:()=>ye,isNewMessage:()=>fe,isPlurkQualifierVisible:()=>ue,isPreviewVisible:()=>pe,isRecurrenceEnabled:()=>le,isSaving:()=>xe,isTargetSelectedInTargetSelector:()=>Te,isTargetSelectorVisible:()=>Ie});var n={};s.r(n),s.d(n,{close:()=>nt,closeTargetSelector:()=>ut,editRecurrenceSettings:()=>Qe,enableRecurrence:()=>We,makeEditable:()=>Me,markAsSaving:()=>tt,openNewSocialMessageEditor:()=>it,openTargetSelector:()=>mt,removeImages:()=>Ve,removeVideo:()=>Be,resetDateTime:()=>Ee,resetTime:()=>Ce,selectSingleSocialProfile:()=>qe,selectSingleTarget:()=>He,selectSocialProfile:()=>Ge,selectTargetInTargetSelector:()=>gt,setActiveSocialNetwork:()=>at,setDateTypeAndValue:()=>Pe,setImages:()=>Ae,setMediumTags:()=>De,setPlurkQualifier:()=>Ue,setPost:()=>$e,setRecurrenceContext:()=>Xe,setRecurrenceSettings:()=>Ke,setRelatedPostStatus:()=>ot,setSelectedTargetsInProfile:()=>Ye,setText:()=>ze,setTikTokSettings:()=>Fe,setTimeTypeAndValue:()=>Oe,setValidationError:()=>lt,setVideos:()=>Re,showImageUrlSelector:()=>rt,showMediumTags:()=>Je,showPlurkQualifier:()=>Ze,showPreview:()=>et,showTikTokSettings:()=>st,switchMessageType:()=>Le});var a={};s.r(a),s.d(a,{loadRelatedPost:()=>Ct,openSocialMessageEditor:()=>Et,saveAndClose:()=>yt,saveReusableAndClose:()=>Nt,sendNow:()=>jt});var o={};s.r(o),s.d(o,{SocialMessageEditor:()=>Oa,store:()=>Mt});const l=window.ReactJSXRuntime,r=window.wp.element,c=window.wp.data;function d(e,t){return(0,c.useSelect)(e,t)}function m(e){return(0,c.resolveSelect)(e)}const u=window.NelioContent.data,g=window.lodash,p=window.NelioContent.networks,h={attributes:{profileIds:{all:[],byNetwork:{},fallback:void 0},targetNamesByProfile:{},typeByNetwork:{band:"text",blogger:"text",bluesky:"text",discord:"text",facebook:"text",gmb:"text",instagram:"text",linkedin:"text",mastodon:"text",medium:"text",ok:"text",pinterest:"text",plurk:"text",reddit:"text",slack:"text",telegram:"text",threads:"text",tiktok:"text",tumblr:"text",twitter:"text",vk:"text"},message:{dateType:"predefined-offset",dateValue:"0",status:"draft",text:"",timeType:"predefined-offset",timeValue:"0"},reusableMessage:{active:!1}},recurrence:{context:{monthday:1,weekday:"sun",weekindex:[1]},mode:"toggeable",enabled:!1,editing:!1,settings:{occurrences:2,interval:1,period:"day"}},status:{activeSocialNetwork:"twitter",context:"calendar",disabledProfileIds:[],error:"",areMediumTagsVisible:!1,isPlurkQualifierVisible:!1,areTikTokSettingsVisible:!1,isImageUrlSelectorVisible:!1,isPreviewVisible:!1,isSaving:!1,isVisible:!1,relatedPostStatus:{type:"none"}},targetSelector:{selectedTargetNames:[]}};function x(e=""){return(0,g.isEmpty)((0,g.trim)(e))?"{title} {permalink}":e}function v(e){return void 0===e?"":`${e}`}function _(e,t){const s=w(h.attributes.typeByNetwork,h.attributes.message,"update-post",t);switch(e){case"image":return w(s,h.attributes.message,"set-image",t);case"video":return w(s,h.attributes.message,"set-video",t);case"auto-image":case"multi-media":case"text":return s}}function w(e,t,s,i){switch(e=function(e){return(0,p.getSupportedNetworks)().reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:"auto-image"===e[t]?"text":e[t]}),e)}(e),s){case"set-image":e=b("image",t,e);break;case"remove-image":e=f("image",t,e);break;case"set-video":e=b("video",t,e);break;case"remove-video":e=f("video",t,e)}return function(e,t){const s=(0,g.values)(e),i=!!(null==t?void 0:t.imageSrc)||!!(null==t?void 0:t.images[0]),n=s.includes("image"),a=s.includes("video"),o=(e,t)=>"text"!==t?t:n&&a&&(0,p.doesNetworkSupport)("multi-media",e)?"multi-media":n&&(0,p.doesNetworkSupport)("image",e)?"image":a&&(0,p.doesNetworkSupport)("video",e)?"video":i&&(0,p.doesNetworkRequire)("image",e)?"auto-image":"text";return(0,p.getSupportedNetworks)().reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:o(t,e[t])}),e)}(e,i)}function b(e,t,s){const i=(s,i)=>"image"===e&&"video"===i&&(0,p.doesNetworkSupport)("image",s)&&(0,p.doesNetworkSupport)("multi-media",s)&&!(0,g.isEmpty)(t.video)?"multi-media":"image"===e&&"video"===i&&(0,p.doesNetworkSupport)("image",s)&&!(0,p.doesNetworkSupport)("multi-media",s)?"image":"video"===e&&"image"===i&&(0,p.doesNetworkSupport)("video",s)&&(0,p.doesNetworkSupport)("multi-media",s)&&!(0,g.isEmpty)(t.image)?"multi-media":"video"===e&&"image"===i&&(0,p.doesNetworkSupport)("video",s)&&!(0,p.doesNetworkSupport)("multi-media",s)?"video":"text"===i&&(0,p.doesNetworkSupport)(e,s)?e:i;return(0,p.getSupportedNetworks)().reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:i(t,e[t])}),s)}function f(e,t,s){const i=(s,i)=>"image"===e&&"multi-media"===i&&(0,p.doesNetworkSupport)("video",s)&&!(0,g.isEmpty)(t.video)?"video":"video"===e&&"multi-media"===i&&(0,p.doesNetworkSupport)("image",s)&&!(0,g.isEmpty)(t.image)?"image":i===e?"text":i;return(0,p.getSupportedNetworks)().reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:i(t,e[t])}),s)}const k=window.NelioContent.utils,j=e=>!!(null==e?void 0:e.id),y=(0,c.combineReducers)({attributes:function(e=h.attributes,t){var s;return null!==(s=function(e,t){switch(t.type){case"OPEN_EDITOR":return function({fallbackProfileId:e,message:t,reusableMessage:s,post:i}){const n=!t.id;return{typeByNetwork:_(t.type,i),message:{id:n?void 0:t.id,dateType:t.dateType,dateValue:v(t.dateValue),timeType:t.timeType,timeValue:v(t.timeValue),image:t.image,imageId:t.imageId,imageAltText:t.imageAltText,video:t.video,videoId:t.videoId,text:n&&i?x(t.text):t.text,status:t.status,networkId:t.networkId,networkLink:t.networkLink,isFreePreview:!!t.isFreePreview,failureDescription:t.failureDescription},mediumTags:t.tags,tiktokSettings:t.tiktokSettings,plurkQualifier:t.plurkQualifier,relatedPost:i,reusableMessage:s,profileIds:{all:t.profileId&&t.network?[t.profileId]:[],byNetwork:t.profileId&&t.network?{[t.network]:[t.profileId]}:{},fallback:e?{value:e,isAutoSelected:!0}:void 0},targetNamesByProfile:t.profileId&&t.network&&t.targetName&&(0,p.doesNetworkSupport)("multi-target",t.network)?{[t.profileId]:[t.targetName]}:h.attributes.targetNamesByProfile}}(t);case"MAKE_EDITABLE":return Object.assign(Object.assign({},e),{message:Object.assign(Object.assign({},e.message),{status:"draft",failureDescription:void 0})});case"SET_DATE":return Object.assign(Object.assign({},e),{message:Object.assign(Object.assign({},e.message),{dateType:t.dateType,dateValue:v(t.dateValue),timeType:t.timeType,timeValue:v(t.timeValue)})});case"SET_TIME":return Object.assign(Object.assign({},e),{message:Object.assign(Object.assign({},e.message),{timeType:t.timeType,timeValue:v(t.timeValue)})});case"SWITCH_MESSAGE_TYPE":return Object.assign(Object.assign({},e),{typeByNetwork:Object.assign(Object.assign({},e.typeByNetwork),{[t.network]:t.messageType})});case"SET_IMAGES":return Object.assign(Object.assign({},e),{typeByNetwork:Object.assign({},w(e.typeByNetwork,e.message,"set-image",e.relatedPost)),message:Object.assign(Object.assign({},e.message),{image:1===t.imageUrls.length?t.imageUrls[0]:t.imageUrls,imageId:1===t.imageIds.length?t.imageIds[0]:t.imageIds,imageAltText:1===t.altTexts.length?t.altTexts[0]:t.altTexts})});case"REMOVE_IMAGES":return Object.assign(Object.assign({},e),{typeByNetwork:w(e.typeByNetwork,e.message,"remove-image",e.relatedPost),message:Object.assign(Object.assign({},e.message),{image:void 0,imageId:void 0})});case"SET_VIDEOS":return Object.assign(Object.assign({},e),{typeByNetwork:Object.assign({},w(e.typeByNetwork,e.message,"set-video",e.relatedPost)),message:Object.assign(Object.assign({},e.message),{video:1===t.videoUrls.length?t.videoUrls[0]:t.videoUrls,videoId:1===t.videoIds.length?t.videoIds[0]:t.videoIds,videoAltText:1===t.altTexts.length?t.altTexts[0]:t.altTexts})});case"REMOVE_VIDEOS":return Object.assign(Object.assign({},e),{typeByNetwork:w(e.typeByNetwork,e.message,"remove-video",e.relatedPost),message:Object.assign(Object.assign({},e.message),{video:void 0,videoId:void 0})});case"SET_POST":return t.post?Object.assign(Object.assign({},e),{relatedPost:t.post,typeByNetwork:w(e.typeByNetwork,e.message,"update-post",t.post),message:Object.assign(Object.assign({},e.message),{text:x(e.message.text)})}):Object.assign(Object.assign({},e),{relatedPost:void 0,typeByNetwork:w(e.typeByNetwork,e.message,"update-post",void 0)});case"SELECT_SINGLE_SOCIAL_PROFILE":return Object.assign(Object.assign({},e),{profileIds:{all:[t.profileId],byNetwork:{[t.network]:[t.profileId]},fallback:e.profileIds.fallback},targetNamesByProfile:{}});case"SELECT_SOCIAL_PROFILE":const s=e.profileIds.byNetwork[t.network]||[];return Object.assign(Object.assign({},e),{profileIds:{all:t.isSelected?[...e.profileIds.all,t.profileId]:(0,g.without)(e.profileIds.all,t.profileId),byNetwork:Object.assign(Object.assign({},e.profileIds.byNetwork),{[t.network]:t.isSelected?[...s,t.profileId]:(0,g.without)(s,t.profileId)}),fallback:e.profileIds.fallback}});case"SET_ACTIVE_SOCIAL_NETWORK":return Object.assign(Object.assign({},e),{profileIds:Object.assign(Object.assign({},e.profileIds),{fallback:t.fallbackProfileId?{value:t.fallbackProfileId,isAutoSelected:!0}:void 0})});case"SELECT_SINGLE_TARGET":return Object.assign(Object.assign({},e),{profileIds:{all:[t.profileId],byNetwork:{[t.network]:[t.profileId]},fallback:e.profileIds.fallback},targetNamesByProfile:{[t.profileId]:[t.targetName]}});case"SET_SELECTED_TARGETS_IN_PROFILE":return function(e,t){const{selectedTargetNames:s,profileId:i,network:n}=t,a=e.profileIds.all.includes(i)?e.profileIds.all:[...e.profileIds.all,i],o=e.profileIds.byNetwork[n]||[],l=o.includes(i)?o:[...o,i],r=!(0,g.isEmpty)(s);return Object.assign(Object.assign({},e),{profileIds:{all:r?a:(0,g.without)(a,i),byNetwork:Object.assign(Object.assign({},e.profileIds.byNetwork),{[n]:r?l:(0,g.without)(l,i)}),fallback:e.profileIds.fallback},targetNamesByProfile:Object.assign(Object.assign({},e.targetNamesByProfile),{[i]:t.selectedTargetNames})})}(e,t);case"SET_TEXT":return Object.assign(Object.assign({},e),{message:Object.assign(Object.assign({},e.message),{text:t.text||""})});case"SET_MEDIUM_TAGS":return Object.assign(Object.assign({},e),{mediumTags:t.tags});case"SET_PLURK_QUALIFIER":return Object.assign(Object.assign({},e),{plurkQualifier:t.plurkQualifier});case"SET_TIKTOK_SETTINGS":return Object.assign(Object.assign({},e),{tiktokSettings:t.settings})}}(e,t))&&void 0!==s?s:e},recurrence:function(e=h.recurrence,t){var s;return null!==(s=function(e,t){var s,i;switch(t.type){case"OPEN_EDITOR":return Object.assign(Object.assign({},h.recurrence),{mode:(i=t.message,j(i)?(0,k.isRecurringMessage)(i)&&(0,k.isRecurringSource)(i)?"editable":"locked":"toggeable"),enabled:j(t.message)&&(0,k.isRecurringMessage)(t.message),settings:null!==(s=t.message.recurrenceSettings)&&void 0!==s?s:h.recurrence.settings});case"ENABLE_RECURRENCE":return Object.assign(Object.assign({},e),{enabled:"toggeable"===e.mode?t.enabled:e.enabled});case"EDIT_RECURRENCE_SETTINGS":return Object.assign(Object.assign({},e),{editing:"locked"!==e.mode&&t.editing});case"SET_RECURRENCE_SETTINGS":return Object.assign(Object.assign({},e),{settings:"locked"!==e.mode?t.settings:e.settings});case"SET_RECURRENCE_CONTEXT":return function(e,t){const s=Object.assign(Object.assign({},t.context),e);switch(t.settings.period){case"day":return Object.assign(Object.assign({},t),{context:s});case"week":{const e=1===Object.values(t.settings.weekdays).filter(e=>!!e).length,i=t.settings.weekdays.includes(t.context.weekday);return e&&i?Object.assign(Object.assign({},t),{context:s,settings:Object.assign(Object.assign({},t.settings),{weekdays:[s.weekday]})}):Object.assign(Object.assign({},t),{context:s})}case"month":return"monthday"===t.settings.day?Object.assign(Object.assign({},t),{context:s,settings:Object.assign(Object.assign({},t.settings),{day:"monthday"})}):"last-weekday"===t.settings.day&&s.weekindex.includes(5)?Object.assign(Object.assign({},t),{context:s,settings:Object.assign(Object.assign({},t.settings),{day:"last-weekday"})}):Object.assign(Object.assign({},t),{context:s,settings:Object.assign(Object.assign({},t.settings),{day:5===s.weekindex[0]?"last-weekday":"nth-weekday"})})}}(t.context,e)}}(e,t))&&void 0!==s?s:e},status:function(e=h.status,t){var s;return null!==(s=function(e,t){switch(t.type){case"OPEN_EDITOR":return Object.assign(Object.assign({},h.status),{activeSocialNetwork:t.activeSocialNetwork,context:t.context,disabledProfileIds:t.disabledProfileIds,isVisible:!0,isPreviewVisible:t.isPreviewVisible,areMediumTagsVisible:t.areMediumTagsVisible,isPlurkQualifierVisible:t.isPlurkQualifierVisible,areTikTokSettingsVisible:t.areTikTokSettingsVisible,relatedPostStatus:t.post?{type:"ready"}:{type:"none"}});case"CLOSE_EDITOR":return h.status;case"SET_ACTIVE_SOCIAL_NETWORK":case"SELECT_SINGLE_SOCIAL_PROFILE":return Object.assign(Object.assign({},e),{activeSocialNetwork:t.network});case"SET_RELATED_POST_STATUS":return Object.assign(Object.assign({},e),{relatedPostStatus:t.status});case"SET_VALIDATION_ERROR":return Object.assign(Object.assign({},e),{error:t.error});case"MARK_AS_SAVING":return Object.assign(Object.assign({},e),{isSaving:!!t.isSaving});case"SHOW_IMAGE_URL_SELECTOR":return Object.assign(Object.assign({},e),{isImageUrlSelectorVisible:t.isVisible});case"SHOW_PREVIEW":return Object.assign(Object.assign({},e),{isPreviewVisible:t.isVisible});case"SHOW_MEDIUM_TAGS":return Object.assign(Object.assign({},e),{areMediumTagsVisible:t.isVisible});case"SHOW_PLURK_QUALIFIER":return Object.assign(Object.assign({},e),{isPlurkQualifierVisible:t.isVisible});case"SHOW_TIKTOK_SETTINGS":return Object.assign(Object.assign({},e),{areTikTokSettingsVisible:t.isVisible})}}(e,t))&&void 0!==s?s:e},targetSelector:function(e=h.targetSelector,t){var s;return null!==(s=function(e,t){switch(t.type){case"OPEN_TARGET_SELECTOR":return Object.assign(Object.assign({},h.targetSelector),{profileId:t.profileId,selectedTargetNames:t.selectedTargetNames});case"CLOSE_TARGET_SELECTOR":return h.targetSelector;case"SELECT_TARGET_IN_TARGET_SELECTOR":return Object.assign(Object.assign({},e),{selectedTargetNames:t.isSelected?[...e.selectedTargetNames,t.targetName]:(0,g.without)(e.selectedTargetNames,t.targetName)})}}(e,t))&&void 0!==s?s:e}});function N(e){return e.attributes.message.id}function S(e){return e.attributes.message.status}function T(e){return!!e.attributes.message.isFreePreview}function I(e){var t;return null!==(t=e.attributes.message.failureDescription)&&void 0!==t?t:""}function P(e){return e.attributes.reusableMessage.active}function O(e){return e.attributes.reusableMessage.id}function E(e){return e.attributes.message.networkId}function C(e){return e.attributes.message.networkLink}function M(e){return e.attributes.message.dateType}function L(e){return e.attributes.message.dateValue}function A(e){return e.attributes.message.timeType}function V(e){return e.attributes.message.timeValue}function R(e){return e.attributes.typeByNetwork}function B(e,t){return e.attributes.typeByNetwork[t]}function D(e,t){var s,i;return e.attributes.message.imageId||t&&(null===(s=e.attributes.relatedPost)||void 0===s?void 0:s.networkImageIds[t])||(null===(i=e.attributes.relatedPost)||void 0===i?void 0:i.imageId)||void 0}function U(e,t){var s,i,n;return e.attributes.message.image||t&&(null===(s=e.attributes.relatedPost)||void 0===s?void 0:s.networkImages[t])||(null===(i=e.attributes.relatedPost)||void 0===i?void 0:i.imageSrc)||(null===(n=e.attributes.relatedPost)||void 0===n?void 0:n.images[0])}function F(e,t){var s,i;return e.attributes.message.imageAltText||t&&(null===(s=e.attributes.relatedPost)||void 0===s?void 0:s.networkImageAltTexts[t])||(null===(i=e.attributes.relatedPost)||void 0===i?void 0:i.imageAltText)}function $(e){return e.attributes.message.videoId}function q(e){return e.attributes.message.video}function G(e){return e.attributes.message.videoAltText}function H(e){return(0,g.values)(e.attributes.typeByNetwork).includes("image")}function Y(e){return(0,g.values)(e.attributes.typeByNetwork).includes("video")}function z(e){return e.attributes.mediumTags}function W(e){return e.attributes.tiktokSettings}function Q(e){return e.attributes.plurkQualifier}function K(e){return e.attributes.relatedPost}function X(e){var t;return null===(t=e.attributes.relatedPost)||void 0===t?void 0:t.id}function J(e){var t;return null===(t=e.attributes.relatedPost)||void 0===t?void 0:t.type}const Z=[];function ee(e){const t=e.attributes.profileIds.all||Z;if(t.length)return t;const{fallback:s}=e.attributes.profileIds;return s?[s]:t}function te(e,t){const s=ee(e)[0];return(0,k.isAutoSelectedUuid)(s)?[s]:e.attributes.profileIds.byNetwork[t]||Z}function se(e){return(0,g.keys)(e.attributes.profileIds.byNetwork).filter(t=>!(0,k.isEmpty)(e.attributes.profileIds.byNetwork[t]))}function ie(e){return e.attributes.targetNamesByProfile}function ne(e,t){return e.attributes.targetNamesByProfile[t]||[]}function ae(e){return e.attributes.message.text||""}function oe(e){return e.recurrence.mode}function le(e){return e.recurrence.enabled}function re(e){return e.recurrence.editing}function ce(e){return e.recurrence.settings}function de(e){return e.recurrence.context}function me(e){return!!e.status.areMediumTagsVisible}function ue(e){return!!e.status.isPlurkQualifierVisible}function ge(e){var t;const s=e.status.activeSocialNetwork,i=e.attributes.profileIds.all.length?void 0:e.attributes.profileIds.fallback,n=e.attributes.profileIds.byNetwork[s];return null!==(t=(0,g.last)(n))&&void 0!==t?t:null==i?void 0:i.value}function pe(e){return!!e.status.isPreviewVisible}function he(e){return e.status.relatedPostStatus}function xe(e){return!!e.status.isSaving}function ve(e){return!!e.status.areTikTokSettingsVisible}function _e(e){return e.status.activeSocialNetwork}function we(e){return e.status.context}function be(e){return e.status.error}function fe(e){return!e.attributes.message.id}function ke(e){return e.status.disabledProfileIds}function je(e){return e.status.isVisible}function ye(e){return je(e)&&e.status.isImageUrlSelectorVisible}function Ne(e){return e.targetSelector.profileId||void 0}function Se(e){return e.targetSelector.selectedTargetNames}function Te(e,t){return e.targetSelector.selectedTargetNames.includes(t)}function Ie(e){return!!e.targetSelector.profileId}function Pe(e,t){const s={dateType:(0,c.select)(Mt).getDateType(),dateValue:(0,c.select)(Mt).getDateValue(),timeType:(0,c.select)(Mt).getTimeType(),timeValue:(0,c.select)(Mt).getTimeValue()},i=Object.assign(Object.assign({},s),{dateType:e,dateValue:t});return Object.assign({type:"SET_DATE"},function(e,t){const s="predefined-offset"===t.dateType&&"0"===t.dateValue;switch(e.timeType){case"exact":return t;case"positive-hours":case"predefined-offset":default:return Object.assign(Object.assign({},t),{timeType:s?e.timeType:"time-interval",timeValue:s?e.timeValue:"morning"});case"time-interval":return Object.assign(Object.assign({},t),{timeType:s?"predefined-offset":e.timeType,timeValue:s?"0":e.timeValue})}}(s,i))}function Oe(e,t){return{type:"SET_TIME",timeType:e,timeValue:t}}function Ee(){return Pe("predefined-offset","0")}function Ce(){if((0,c.select)(Mt).isEditingReusableMessage())return Oe("time-interval","morning");const e=(0,c.select)(Mt).getDateType(),t=(0,c.select)(Mt).getDateValue();return"predefined-offset"===e&&"0"===t?Oe("predefined-offset","0"):Oe("time-interval","morning")}function Me(){return{type:"MAKE_EDITABLE"}}function Le(e,t){return{type:"SWITCH_MESSAGE_TYPE",network:e,messageType:t}}function Ae(e,t,s,i){return{type:"SET_IMAGES",network:e,imageIds:t,imageUrls:s,altTexts:i}}function Ve(){return{type:"REMOVE_IMAGES"}}function Re(e,t,s,i){return{type:"SET_VIDEOS",network:e,videoIds:t,videoUrls:s,altTexts:i}}function Be(){return{type:"REMOVE_VIDEOS"}}function De(e){return{type:"SET_MEDIUM_TAGS",tags:e}}function Ue(e){return{type:"SET_PLURK_QUALIFIER",plurkQualifier:e}}function Fe(e){return{type:"SET_TIKTOK_SETTINGS",settings:e}}function $e(e){return{type:"SET_POST",post:e}}function qe(e){const t=(0,c.select)(u.store).getSocialProfile(e);if(t)return{type:"SELECT_SINGLE_SOCIAL_PROFILE",profileId:e,network:t.network}}function Ge(e,t){const s=(0,c.select)(u.store).getSocialProfile(e);if(s)return{type:"SELECT_SOCIAL_PROFILE",profileId:e,network:s.network,isSelected:t}}function He(e,t){const s=(0,c.select)(u.store).getSocialProfile(e);if(s)return{type:"SELECT_SINGLE_TARGET",profileId:e,network:s.network,targetName:t}}function Ye(e,t){const s=(0,c.select)(u.store).getSocialProfile(e);if(s)return{type:"SET_SELECTED_TARGETS_IN_PROFILE",profileId:e,network:s.network,selectedTargetNames:t}}function ze(e){return{type:"SET_TEXT",text:e}}function We(e){return{type:"ENABLE_RECURRENCE",enabled:e}}function Qe(e){return{type:"EDIT_RECURRENCE_SETTINGS",editing:e}}function Ke(e){return{type:"SET_RECURRENCE_SETTINGS",settings:e}}function Xe(e){return{type:"SET_RECURRENCE_CONTEXT",context:e}}function Je(e){return(0,k.setValue)("areSocialMessageMediumTagsVisible",e),{type:"SHOW_MEDIUM_TAGS",isVisible:e}}function Ze(e){return(0,k.setValue)("isSocialMessagePlurkQualifierVisible",e),{type:"SHOW_PLURK_QUALIFIER",isVisible:e}}function et(e){return(0,k.setValue)("isSocialMessagePreviewVisible",e),{type:"SHOW_PREVIEW",isVisible:e}}function tt(e){return{type:"MARK_AS_SAVING",isSaving:e}}function st(e){return(0,k.setValue)("areSocialMessageTikTokSettingsVisible",e),{type:"SHOW_TIKTOK_SETTINGS",isVisible:e}}function it(e={},t){var s,i;const{disabledProfileIds:n=[],isPreviewVisible:a=!!(0,k.getValue)("isSocialMessagePreviewVisible",!1),areMediumTagsVisible:o=!!(0,k.getValue)("areSocialMessageMediumTagsVisible",!1),isPlurkQualifierVisible:l=!!(0,k.getValue)("isSocialMessagePlurkQualifierVisible",!1),areTikTokSettingsVisible:r=!!(0,k.getValue)("areSocialMessageTikTokSettingsVisible",!1),post:d}=t,m=function(e,t={},s){return[...(0,c.select)(u.store).isSubscribed()?[]:e,...s.reusableMessage?dt("reusability"):[],..."recurrenceGroup"in t?dt("recurrence"):[]]}(n,e,t),h=(x=m,(0,g.filter)((0,c.select)(u.store).getSocialProfiles(),e=>!x.includes(e.id)));var x;if((0,k.hasHead)(h)&&1===h.length){const{id:t,network:s}=h[0];(0,p.doesNetworkSupport)("multi-target",s)||(e=Object.assign(Object.assign({},e),{profileId:t,network:s}))}const v=(0,g.map)(h,"network"),_=null!==(i=null!==(s=e.network)&&void 0!==s?s:v[0])&&void 0!==i?i:"twitter";return{type:"OPEN_EDITOR",activeSocialNetwork:_,fallbackProfileId:ct(_),disabledProfileIds:m,isPreviewVisible:a,areMediumTagsVisible:o,isPlurkQualifierVisible:l,areTikTokSettingsVisible:r,context:t.context,message:Object.assign(Object.assign({},(0,k.createSocialMessage)()),(0,g.omitBy)(e,g.isNil)),post:d,reusableMessage:{active:!!t.reusableMessage,id:"number"==typeof t.reusableMessage?t.reusableMessage:void 0}}}function nt(){return{type:"CLOSE_EDITOR"}}function at(e){return{type:"SET_ACTIVE_SOCIAL_NETWORK",network:e,fallbackProfileId:ct(e)}}function ot(e){return{type:"SET_RELATED_POST_STATUS",status:e}}function lt(e){return{type:"SET_VALIDATION_ERROR",error:e}}function rt(e){return{type:"SHOW_IMAGE_URL_SELECTOR",isVisible:e}}function ct(e){var t;const s=(0,c.select)(u.store).getSocialProfilesByNetwork(e);return 1===s.length?null===(t=s[0])||void 0===t?void 0:t.id:void 0}function dt(e){return(0,c.select)(u.store).getSocialProfiles().filter(t=>!(0,p.doesNetworkSupport)(e,t.network)).map(e=>e.id)}function mt(e){if((0,c.select)(u.store).getSocialProfile(e))return{type:"OPEN_TARGET_SELECTOR",profileId:e,selectedTargetNames:(0,c.select)(Mt).getSelectedTargetsInProfile(e)}}function ut(){return{type:"CLOSE_TARGET_SELECTOR"}}function gt(e,t){return{type:"SELECT_TARGET_IN_TARGET_SELECTOR",targetName:e,isSelected:t}}const pt=window.wp.apiFetch,ht=s.n(pt)(),xt=window.wp.url,vt={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let _t;const wt=new Uint8Array(16),bt=[];for(let e=0;e<256;++e)bt.push((e+256).toString(16).slice(1));const ft=function(e,t,s){if(vt.randomUUID&&!t&&!e)return vt.randomUUID();const i=(e=e||{}).random??e.rng?.()??function(){if(!_t){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_t=crypto.getRandomValues.bind(crypto)}return _t(wt)}();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){if((s=s||0)<0||s+16>t.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=i[e];return t}return function(e,t=0){return(bt[e[t+0]]+bt[e[t+1]]+bt[e[t+2]]+bt[e[t+3]]+"-"+bt[e[t+4]]+bt[e[t+5]]+"-"+bt[e[t+6]]+bt[e[t+7]]+"-"+bt[e[t+8]]+bt[e[t+9]]+"-"+bt[e[t+10]]+bt[e[t+11]]+bt[e[t+12]]+bt[e[t+13]]+bt[e[t+14]]+bt[e[t+15]]).toLowerCase()}(i)};var kt=function(e,t,s,i){return new(s||(s=Promise))(function(n,a){function o(e){try{r(i.next(e))}catch(e){a(e)}}function l(e){try{r(i.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(o,l)}r((i=i.apply(e,t||[])).next())})};function jt(){return kt(this,void 0,void 0,function*(){const e=(0,c.select)(Mt).getId();if(e&&"error"===(0,c.select)(Mt).getStatus()&&!(0,c.select)(Mt).isSaving()){yield(0,c.dispatch)(Mt).markAsSaving(!0);try{const t=(0,c.select)(u.store).getSiteId(),s=(0,c.select)(u.store).getApiRoot(),i=(0,c.select)(u.store).getAuthenticationToken(),n=yield ht({url:`${s}/site/${t}/social/${e}/retry`,method:"PUT",credentials:"omit",mode:"cors",headers:{Authorization:`Bearer ${i}`}});yield(0,c.dispatch)(u.store).receiveSocialMessages(Object.assign(Object.assign({},n),{status:"publish"}))}catch(e){yield(0,k.showErrorNotice)(e)}yield(0,c.dispatch)(Mt).markAsSaving(!1),yield(0,c.dispatch)(Mt).close()}})}function yt(e,t){return kt(this,void 0,void 0,function*(){var s;if(!(0,c.select)(Mt).isSaving()){yield(0,c.dispatch)(Mt).markAsSaving(!0);try{const i=(0,c.select)(Mt).getId(),n=Tt(),a=!e&&(0,c.select)(Mt).isRecurrenceEnabled()?(0,c.select)(Mt).getRecurrenceSettings():void 0,o=(0,c.select)(u.store).getSiteId(),l=(0,c.select)(u.store).getApiRoot(),r=(0,c.select)(u.store).getAuthenticationToken(),d=i?"PUT":"POST",m=i?`${l}/site/${o}/social/${i}`:`${l}/site/${o}/social`,g=yield It(),p=i?Object.assign(Object.assign(Object.assign({},n),g[0]),{id:i,recurrenceSettings:a}):Object.assign(Object.assign({},n),{slots:g,recurrenceSettings:a}),h=yield ht({url:m,method:d,credentials:"omit",mode:"cors",headers:{Authorization:`Bearer ${r}`},data:p});yield(0,c.dispatch)(u.store).removeRecurringMessages(null===(s=(0,c.select)(u.store).getSocialMessage(i))||void 0===s?void 0:s.recurrenceGroup),yield(0,c.dispatch)(u.store).receiveSocialMessages(h),yield St(n),null==t||t()}catch(e){console.error(e)}yield(0,c.dispatch)(Mt).markAsSaving(!1),yield(0,c.dispatch)(Mt).close()}})}function Nt(){return kt(this,void 0,void 0,function*(){if(!(0,c.select)(Mt).isSaving()){yield(0,c.dispatch)(Mt).markAsSaving(!0);try{const e=yield It(),t=Tt(),s=(0,c.select)(Mt).getReusableMessageId(),i=(0,c.select)(u.store).getDefaultTime("social"),n=Object.assign(Object.assign(Object.assign({},e[0]),t),{targetName:"default"!==e[0].targetName?e[0].targetName:void 0,timeType:"exact"===t.timeType||"time-interval"===t.timeType?t.timeType:"exact",timeValue:"exact"===t.timeType||"time-interval"===t.timeType?t.timeValue:i}),a=yield ht({path:"/nelio-content/v1/reusable-message",method:"POST",data:{message:Object.assign(Object.assign({},n),{id:s})}});yield(0,c.dispatch)(u.store).receiveReusableMessages(a),yield St(n)}catch(e){console.error(e)}yield(0,c.dispatch)(Mt).markAsSaving(!1),yield(0,c.dispatch)(Mt).close()}})}function St(e){return kt(this,arguments,void 0,function*({timeType:e,timeValue:t}){"exact"===e&&(yield(0,c.dispatch)(u.store).setDefaultTime("social",t),(0,k.setValue)("defaultSocialTime",t))})}function Tt(){const e=(0,c.select)(Mt).getPost(),t=(0,c.select)(Mt).getDateType(),s=(0,c.select)(Mt).getDateValue(),i=(0,c.select)(Mt).getTimeType(),n=(0,c.select)(Mt).getTimeValue(),a=(0,c.select)(Mt).getText(),o=(0,c.select)(Mt).getImageUrl(),l=(0,c.select)(Mt).getImageId(),r=(0,c.select)(Mt).getImageAltText(),d=(0,c.select)(Mt).getVideoUrl(),m=(0,c.select)(Mt).getVideoId(),h=(0,c.select)(Mt).getVideoAltText(),x=(0,c.select)(Mt).getSelectedSocialNetworks(),v=(0,g.min)(x.map(p.getCharLimitInNetwork))||(0,p.getMinCharLimit)(),_=(0,c.select)(u.store).getSiteTimezone(),w=(0,k.getBaseDatetime)(e,t),b=(0,k.getSocialMessageSchedule)({baseDatetime:w,dateValue:s,timeType:i,timeValue:n}),f=(0,k.computeSocialMessageText)(v,e?Object.assign(Object.assign({},e),{permalink:"{permalink}"}):void 0,a);return{baseDatetime:w,dateType:t,dateValue:s,image:o,imageId:l,imageAltText:r,postAuthor:e?e.author:void 0,postId:e?e.id:void 0,postType:e?e.type:void 0,schedule:b,source:"manual",text:a,textComputed:f,timeType:i,timeValue:n,timezone:_,video:d,videoId:m,videoAltText:h}}function It(){return kt(this,void 0,void 0,function*(){var e,t,s,i,n,a,o,l;const r=(0,c.select)(Mt).getSelectedSocialProfiles().map(e=>(0,k.isAutoSelectedUuid)(e)?e.value:e),d=[],p=(0,c.select)(Mt).getPost(),h=(null!==(e=null==p?void 0:p.permalinkQueryArgs)&&void 0!==e?e:[]).reduce((e,[t,s])=>Object.assign(Object.assign({},e),{[t]:s}),{}),x=p?Object.assign({default:(0,xt.addQueryArgs)(p.permalink,h)},(0,g.mapValues)(p.permalinks,e=>(0,xt.addQueryArgs)(null!=e?e:"",h))):void 0;for(const e of r){const r=(0,c.select)(u.store).getSocialProfile(e);if(!r)continue;const g=(0,c.select)(Mt).getMessageTypeInNetwork(r.network);if(!Pt(r)){d.push(Object.assign(Object.assign(Object.assign(Object.assign({id:ft(),profileId:e,targetName:"default",network:r.network,permalink:null!==(t=null==x?void 0:x[r.network])&&void 0!==t?t:null==x?void 0:x.default,type:g},"tiktok"===r.network&&{tiktokSettings:(0,c.select)(Mt).getTikTokSettings()}),"plurk"===r.network&&{plurkQualifier:(0,c.select)(Mt).getPlurkQualifier()}),["blogger","medium"].includes(r.network)&&{title:null==p?void 0:p.title,content:null==p?void 0:p.content,tags:"medium"===r.network?(0,c.select)(Mt).getMediumTags():null!==(i=null===(s=null==p?void 0:p.taxonomies.post_tag)||void 0===s?void 0:s.map(e=>e.name))&&void 0!==i?i:[]}),["text","auto-image"].includes(g)&&!!p&&p.networkImages[r.network]&&{image:p.networkImages[r.network],imageId:null!==(a=null===(n=p.networkImageIds)||void 0===n?void 0:n[r.network])&&void 0!==a?a:0,imageAltText:null!==(l=null===(o=p.networkImageAltTexts)||void 0===o?void 0:o[r.network])&&void 0!==l?l:""}));continue}const h=(0,c.select)(Mt).getSelectedTargetsInProfile(e);if((0,k.isEmpty)(h))continue;const v=yield m(u.store).getTargetsInProfile(e);(null!=v?v:[]).filter(({name:e})=>h.includes(e)).forEach(t=>{var s;return d.push({id:ft(),network:r.network,profileId:e,targetDisplayName:t.displayName,targetName:t.name,permalink:null!==(s=null==x?void 0:x[r.network])&&void 0!==s?s:null==x?void 0:x.default,type:g})})}if(!(0,k.hasHead)(d))throw new Error("Unable to create slots!");return d})}function Pt({network:e}){return(0,p.doesNetworkSupport)("multi-target",e)}var Ot=function(e,t,s,i){return new(s||(s=Promise))(function(n,a){function o(e){try{r(i.next(e))}catch(e){a(e)}}function l(e){try{r(i.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(o,l)}r((i=i.apply(e,t||[])).next())})};function Et(e,t){return Ot(this,void 0,void 0,function*(){yield(0,c.dispatch)(Mt).openNewSocialMessageEditor(e,t);const{post:s}=t;if(s)return;const{postId:i}=e;i&&(yield Ct(i))})}function Ct(e){return Ot(this,void 0,void 0,function*(){yield(0,c.dispatch)(Mt).setRelatedPostStatus({type:"loading",postId:e});const t=yield m(u.store).getPost(e);t?(yield(0,c.dispatch)(Mt).setPost(t),yield(0,c.dispatch)(Mt).setRelatedPostStatus({type:"ready"})):yield(0,c.dispatch)(Mt).setRelatedPostStatus({type:"error",postId:e})})}const Mt=(0,c.createReduxStore)("nelio-content/social-message-editor",{reducer:y,controls:c.controls,actions:Object.assign(Object.assign({},n),a),selectors:i});!function(e){(0,c.register)(e)}(Mt);const Lt=window.wp.components,At=window.wp.i18n,Vt=()=>{const e=d(e=>e(Mt).getDateType()),t=d(e=>e(Mt).getDateValue()),{setDateTypeAndValue:s}=(0,c.useDispatch)(Mt);return[{dateType:e,dateValue:t},s]},Rt=()=>{const e=d(e=>e(Mt).getTimeType()),t=d(e=>e(Mt).getTimeValue()),{setTimeTypeAndValue:s}=(0,c.useDispatch)(Mt);return[{timeType:e,timeValue:t},s]},Bt=()=>d(e=>{const{getDateType:t}=e(Mt);if("exact"===t())return!1;const{getPost:s}=e(Mt),i=s();return!!i&&"publish"!==i.status}),Dt=()=>d(e=>e(Mt).getActiveSocialNetwork()),Ut=e=>(0,p.doesNetworkSupport)(e,Dt()),Ft=()=>{const e=d(e=>e(Mt).getActiveSocialNetwork()),{setActiveSocialNetwork:t}=(0,c.useDispatch)(Mt);return[e,t]},$t=()=>{const e=Dt();return d(t=>t(Mt).getMessageTypeInNetwork(e))},qt=()=>d(e=>e(Mt).getTypeByNetwork()),Gt=()=>{const e=d(e=>e(Mt).getValidationError()),{setValidationError:t}=(0,c.useDispatch)(Mt);return[e,t]},Ht=()=>d(e=>!!e(Mt).isNewMessage()),Yt=()=>d(e=>!!e(Mt).isSaving()),zt=()=>d(e=>{const{isNewMessage:t}=e(Mt);if(!t())return!1;const{getSocialProfiles:s}=e(u.store),i=s();return 1<i.length||i.some(e=>(0,p.doesNetworkSupport)("multi-target",e.network))}),Wt=()=>{const e=d(e=>e(Mt).areMediumTagsVisible()),{showMediumTags:t}=(0,c.useDispatch)(Mt);return[e,t]},Qt=()=>{const e=d(e=>e(Mt).getTikTokSettings()),{setTikTokSettings:t}=(0,c.useDispatch)(Mt);return[e,t]},Kt=()=>{const e=d(e=>e(Mt).areTikTokSettingsVisible()),{showTikTokSettings:t}=(0,c.useDispatch)(Mt);return[e,t]},Xt=()=>{const e=d(e=>e(Mt).isPlurkQualifierVisible()),{showPlurkQualifier:t}=(0,c.useDispatch)(Mt);return[e,t]},Jt=window.wp.coreData,Zt=()=>d(e=>"loading"===e(Mt).getRelatedPostStatus().type),es=()=>{const e=d(e=>e(Mt).getPost()),{setPost:t}=(0,c.useDispatch)(Mt);return[e,d(e=>s=>{const i=e(u.store).getPost(s);i&&t(i)})]},ts=()=>d(e=>e(Mt).getPostId()),ss=()=>d(e=>e(Mt).getRelatedPostStatus()),is=(e,t)=>d(s=>{var i,n;const{getEntityRecord:a}=s(Jt.store),o=null==t?void 0:t.type,l=o?a("root","postType",o):void 0;switch(e){case"author":return!!(null===(i=null==l?void 0:l.supports)||void 0===i?void 0:i.author);case"excerpt":return!!(null===(n=null==l?void 0:l.supports)||void 0===n?void 0:n.excerpt);default:return!1}}),ns=()=>{const e=d(e=>e(Mt).getText()),{setText:t}=(0,c.useDispatch)(Mt);return[e,t]},as=()=>{const e=os();return d(t=>{const{getPost:s,getText:i}=t(Mt);return(0,k.computeSocialMessageText)(e,s(),i())})},os=()=>d(e=>{const{getActiveSocialNetwork:t,getSelectedSocialNetworks:s}=e(Mt),i=(0,g.filter)([t(),...s()]);return(0,g.min)((0,g.map)(i,p.getCharLimitInNetwork))||(0,p.getMinCharLimit)()}),ls=()=>{const e=d(e=>e(Mt).isPreviewVisible()),{showPreview:t}=(0,c.useDispatch)(Mt);return[e,t]},rs=()=>{const e=os();return d(t=>{var s;const{getSocialProfile:i}=t(u.store),{getActiveSocialNetwork:n,getActiveSocialProfile:a,getDateType:o,getDateValue:l,getImageUrl:r,getImageAltText:c,getPost:d,getText:m,getTimeType:g,getTimeValue:p,getVideoUrl:h,getMessageTypeInNetwork:x,getPlurkQualifier:v}=t(Mt),_=n(),w=a(),b=(0,k.getSocialMessageSchedule)({baseDatetime:(0,k.getBaseDatetime)(d(),o()),dateValue:l(),timeType:g(),timeValue:p()});return{activeProfile:w?i(w):void 0,dateValue:l(),image:r(_),imageAltText:c(_),video:h(),postId:null===(s=d())||void 0===s?void 0:s.id,schedule:b,textComputed:(0,k.computeSocialMessageText)(e,d(),m()),timeValue:p(),type:x(_),plurkQualifier:v()}})},cs=(e,t)=>{const s=ds(e),[i]=es(),n=!!i&&us(s,null==i?void 0:i.permalink),a=d(e=>s&&!n?e(u.store).getSharedLinkStatus(s):void 0,[s,n]),o=d(e=>s&&!n?e(u.store).getSharedLinkData(s):void 0,[s,n]);return s?n?{sharedLinkStatus:"ready",sharedLink:ms(i,t)}:{sharedLinkStatus:a||"loading",sharedLink:o}:{sharedLinkStatus:"no-url"}},ds=e=>{const t=os();return d(s=>{const{getPost:i,getText:n}=s(Mt),a=i(),o=(0,k.computeSocialMessageText)(t,a,n()),l=(0,k.getAllUrls)(o);return"first"===e?(0,g.head)(l):(0,g.last)(l)})},ms=(e,t)=>({author:e.authorName,date:e.date||"",domain:(e.permalink||"").replace(/^https?:\/\//,"").replace(/\/.*$/,""),email:"",excerpt:e.excerpt,image:!!t&&e.networkImages[t]||e.imageSrc||"",permalink:e.permalink,responseCode:200,title:e.title,twitter:""}),us=(e,t)=>!!e&&!!t&&e.replace(/^https?:\/\//,"http://")===t.replace(/^https?:\/\//,"http://"),gs=()=>d(e=>{const{getDisabledProfileIds:t}=e(Mt),s=t();return(0,g.filter)(e(u.store).getSocialProfiles(),({id:e})=>!s.includes(e))}),ps=()=>{const e=d(e=>e(Mt).getSelectedSocialProfiles()),t=e.filter(k.isUuid),{selectSocialProfile:s}=(0,c.useDispatch)(Mt);return[e,e=>s(e,!t.includes(e))]},hs=()=>{const e=d(e=>e(Mt).isRecurrenceEnabled()),{enableRecurrence:t}=(0,c.useDispatch)(Mt);return[e,t]},xs=()=>{const e=d(e=>e(Mt).isEditingRecurrenceSettings()),{editRecurrenceSettings:t}=(0,c.useDispatch)(Mt);return[e,t]},vs=()=>{const e=d(e=>e(Mt).getRecurrenceSettings()),{setRecurrenceSettings:t}=(0,c.useDispatch)(Mt);return[e,t]},_s=()=>{const e=d(e=>e(Mt).getRecurrenceContext()),{setRecurrenceContext:t}=(0,c.useDispatch)(Mt);return[e,t]},ws=e=>d(t=>{const{getSelectedTargetsInProfile:s}=t(Mt);return e?s(e):[]}),bs=(e,t)=>!e||!t.length||t.includes(e),fs=()=>{const e=(0,r.useRef)(null),t=Dt(),[s,i]=(0,r.useState)(""),[n,a]=(0,r.useState)(void 0),{setImages:o,showImageUrlSelector:d}=(0,c.useDispatch)(Mt);(0,r.useEffect)(()=>{if(!(null==e?void 0:e.current))return;const t=()=>{var t;return(null===(t=e.current)||void 0===t?void 0:t.src)===s&&(0,k.isUrl)(s)&&a(s)};return e.current.addEventListener("load",t),()=>{var s;return null===(s=e.current)||void 0===s?void 0:s.removeEventListener("load",t)}},[s]);const m=()=>d(!1);return(0,l.jsxs)(Lt.Modal,{className:"nelio-content-social-message-image-url-dialog",title:(0,At._x)("Add Image","text","nelio-content"),onRequestClose:m,children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-image-url-dialog__content",children:[(0,l.jsx)(Lt.TextControl,{value:s,onChange:e=>{i((0,g.trim)(e)),a(void 0)},placeholder:"https://…"}),(0,l.jsx)("img",{ref:e,alt:(0,At._x)("Image Preview","text","nelio-content"),src:s,style:{display:"none"}}),n&&(0,l.jsx)("div",{className:"nelio-content-social-message-image-url-dialog__image",style:{backgroundImage:`url(${n})`}})]}),(0,l.jsxs)("div",{className:"nelio-content-social-message-image-url-dialog__actions",children:[(0,l.jsx)(Lt.Button,{variant:"secondary",onClick:m,children:(0,At._x)("Cancel","command","nelio-content")}),(0,l.jsx)(Lt.Button,{variant:"primary",onClick:()=>{n&&(o(t,[void 0],[n],[void 0]),m())},disabled:!n,children:(0,At._x)("Add Image","command","nelio-content")})]})]})},ks=()=>{const e=(0,u.useAdminUrl)("admin.php",{page:"nelio-content-settings",subpage:"social--profiles"}),{close:t}=(0,c.useDispatch)(Mt);return(0,l.jsxs)(Lt.Modal,{className:"nelio-content-connect-profile-warning",title:(0,At._x)("Social Profiles","text","nelio-content"),onRequestClose:t,children:[(0,l.jsx)("div",{className:"nelio-content-connect-profile-warning__content",children:(0,At._x)("Nelio Content helps you to engage with your audience by sharing your WordPress content on social media. Connect one or more social profiles and then refresh this page to use them.","user","nelio-content")}),(0,l.jsx)("div",{className:"nelio-content-connect-profile-warning__actions",children:(0,l.jsx)(Lt.ExternalLink,{className:"components-button is-primary",href:e,onClick:t,children:(0,At._x)("Connect Profiles","command","nelio-content")})})]})},js=window.NelioContent.components,ys=[{title:(0,At._x)("Social Message Editor","text","nelio-content"),intro:(0,At._x)("Welcome to the social message editor. Use it to create and schedule social messages that will be automatically shared by Nelio Content when the right time comes.","user","nelio-content")},{title:(0,At._x)("Profile Selector","text","nelio-content"),intro:(0,At._x)("This is your profile selector, where you can select the profiles in which your social message will be shared. Please notice you can schedule the same social message on multiple accounts at once.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-multiple-profile-selector"),element:()=>document.querySelector(".nelio-content-multiple-profile-selector")},{title:(0,At._x)("Profile Selector","text","nelio-content"),intro:(0,At._x)("Click on the accounts you’re interested in to toggle their selection. When a profile is selected, it’ll be properly highlighted.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-multiple-profile-selector"),element:()=>document.querySelector(".nelio-content-multiple-profile-selector__profile-input-field")},{title:(0,At._x)("Profile Selector","text","nelio-content"),intro:(0,At._x)("If you want to select profiles from a different network, switch to the desired network here. Nelio Content will keep track of the social profiles you’ve already selected, which means the same message can be shared on different profiles from different networks.","user","nelio-content"),active:()=>1<document.querySelectorAll(".nelio-content-multiple-profile-selector .nelio-content-multiple-profile-selector__network").length,element:()=>document.querySelectorAll(".nelio-content-multiple-profile-selector .nelio-content-multiple-profile-selector__network")[1]||null},{title:(0,At._x)("Profile Selector","text","nelio-content"),intro:(0,At._x)("When editing an existing social message, use this selector to change the social account in which it should be shared.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-single-profile-selector"),element:()=>document.querySelector(".nelio-content-single-profile-selector")},{title:(0,At._x)("Social Message","text","nelio-content"),intro:(0,At._x)("Use this text area to write and customize your social message. You can write hashtags and X mentions.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-social-message-editor__message-editor"),element:()=>document.querySelector(".nelio-content-social-message-editor__message-editor")},{title:(0,At._x)("Social Message","text","nelio-content"),intro:(0,At._x)("Social networks usually impose certain limits on the maximum number of characters a message can have. This counter will let you know when you’re about to reach the limit.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-social-char-counter"),element:()=>document.querySelector(".nelio-content-social-char-counter")},{title:(0,At._x)("Quick Actions","text","nelio-content"),intro:(0,At._x)("The icons before the character counter are quick actions you can use to tweak your message and/or preview it. Hover over each action to reveal its purpose. Also, if you want to share the social message with an image, you can do so using the “Add Image” action.","user","nelio-content"),active:()=>document.querySelectorAll(".nelio-content-social-message-editor__quick-actions > *").length>0,element:()=>document.querySelector(".nelio-content-social-message-editor__quick-actions")},{title:(0,At._x)("Message Preview","text","nelio-content"),intro:(0,At._x)("Use this action to enable the message preview, which will show you an approximation of the look and feel the message will have when it’s finally published on the selected social media accounts.","user","nelio-content"),active:()=>!document.querySelector(".nelio-content-social-message-preview"),element:()=>document.querySelector(".nelio-content-social-message-editor__quick-action--is-preview")},{title:(0,At._x)("Message Preview","text","nelio-content"),intro:(0,At._x)("This area shows an approximated preview of the look and feel the message will have when it’s finally published on the selected social media accounts.","user","nelio-content"),active:()=>!!document.querySelector(".nelio-content-social-message-preview"),element:()=>document.querySelector(".nelio-content-social-message-preview")},{title:(0,At._x)("Schedule","text","nelio-content"),intro:(0,At._x)("Finally, use these two settings to schedule the publication date and time of your social message.","user","nelio-content"),element:()=>document.querySelector(".nelio-content-social-message-editor__schedule-options")}],Ns=({callback:e})=>{const t=Ht(),s=Os(),i=Ts(),[n]=Gt(),a=Yt(),{close:o,saveAndClose:r}=(0,c.useDispatch)(Mt);return(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__actions",children:[!!n&&(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__error-summary",children:[(0,l.jsx)("span",{children:(0,l.jsx)(Lt.Dashicon,{icon:"warning"})}),(0,l.jsx)("span",{children:n})]}),(0,l.jsx)(Lt.Button,{variant:"secondary",disabled:a,onClick:o,children:(0,At._x)("Cancel","command","nelio-content")}),i?(0,l.jsx)(Ss,{}):(0,l.jsx)(js.SaveButton,{variant:"primary",disabled:t?void 0:!s,error:n,isSaving:a,isUpdate:!t,onClick:()=>r(void 0,e)})]})},Ss=()=>{const e=Ht(),t=Os(),[s,i]=(0,r.useState)(!1),[n]=Gt(),a=Yt(),{saveAndClose:o}=(0,c.useDispatch)(Mt);return(0,l.jsxs)(l.Fragment,{children:[s&&(0,l.jsx)(Lt.Modal,{title:(0,At._x)("Recurring Message Update","text","nelio-content"),isDismissible:!1,onRequestClose:()=>{},children:(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__recurring-dialog",children:[(0,l.jsx)(Lt.Button,{variant:"secondary",onClick:()=>(i(!1),o("removing-recurrence")),children:(0,At._x)("Save This Message","command","nelio-content")}),(0,l.jsx)(Lt.Button,{variant:"primary",onClick:()=>(i(!1),o()),children:(0,At._x)("Save This and Following Messages","command","nelio-content")})]})}),(0,l.jsx)(js.SaveButton,{variant:"primary",disabled:e?void 0:!t,error:n,isSaving:a,isUpdate:!e,onClick:()=>i(!0)})]})},Ts=()=>{const e=Is(),t=Ht(),[s]=hs(),i=Ps();return!(t||!s||"post"===e||(0,k.isRecurringMessage)(i)&&(0,k.isRecurringSource)(i))},Is=()=>d(e=>e(Mt).getEditorContext()),Ps=()=>d(e=>e(u.store).getSocialMessage(e(Mt).getId())),Os=()=>{const e=Ps();return d(t=>{var s,i;if(t(Mt),!e)return!0;const n=t(Mt).getSelectedSocialProfiles(),a=(0,k.isAutoSelectedUuid)(n[0])?n[0].value:n[0],o={profileId:a,targetName:a?null===(s=t(Mt).getSelectedTargetsInProfile(a))||void 0===s?void 0:s[0]:void 0,text:t(Mt).getText(),tags:t(Mt).getMediumTags(),plurkQualifier:t(Mt).getPlurkQualifier(),tiktokSettings:t(Mt).getTikTokSettings(),postId:null===(i=t(Mt).getPost())||void 0===i?void 0:i.id,dateType:t(Mt).getDateType(),dateValue:t(Mt).getDateValue(),timeType:t(Mt).getTimeType(),timeValue:t(Mt).getTimeValue(),image:t(Mt).hasExplicitImage()?t(Mt).getImageUrl():void 0,video:t(Mt).getVideoUrl()},l=t(Mt).isRecurrenceEnabled()?t(Mt).getRecurrenceSettings():void 0;if(!(0,g.isEqual)(e.recurrenceSettings,l))return!0;const r=(0,g.mapValues)(o,(t,s)=>e[s]!==t);return(0,g.some)((0,g.values)(r))})},Es=({disabled:e})=>{const{resetDateTime:t}=(0,c.useDispatch)(Mt);return(0,l.jsx)("div",{className:"nelio-content-social-message-editor__reset-date-button",children:(0,l.jsx)(Lt.Button,{variant:"link",disabled:e,onClick:()=>t(),children:(0,At._x)("Change","command","nelio-content")})})},Cs=({disabled:e})=>{const[{dateValue:t},s]=Vt(),i=(0,u.useToday)();return(0,l.jsx)(Lt.BaseControl,{id:"nelio-content-social-message-editor__date-selector",label:(0,At._x)("Date","text","nelio-content"),children:(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__date-selector",children:[(0,l.jsx)(js.DateInput,{disabled:e,value:t||"",min:i,onChange:e=>s("exact",null!=e?e:"")}),(0,l.jsx)(Es,{disabled:e})]})})},Ms=({disabled:e})=>{const[{dateValue:t},s]=Vt(),i=Bt();return(0,l.jsx)(Lt.BaseControl,{id:"nelio-content-social-message-editor__date-selector",label:(0,At._x)("Date","text","nelio-content"),children:(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__date-selector",children:[(0,r.createInterpolateElement)(Ls(i),{input:(0,l.jsx)(js.NumberControl,{className:"nelio-content-social-message-editor__positive-days-selector",disabled:e,value:t,min:2,onChange:e=>s("positive-days",void 0===e?"":`${e}`)})}),(0,l.jsx)(Es,{disabled:e})]})})},Ls=e=>e?(0,At.sprintf)(/* translators: %s: Number of days. */ /* translators: %s: Number of days. */
(0,At._x)("%s days after publication.","text","nelio-content"),"<input/>"):(0,At.sprintf)(/* translators: %s: Number of days. */ /* translators: %s: Number of days. */
(0,At._x)("In %s days.","text","nelio-content"),"<input/>"),As=({disabled:e})=>{const[{dateValue:t},s]=Vt(),i=Bt();return(0,l.jsx)(Lt.BaseControl,{id:"nelio-content-social-message-editor__date-selector",label:(0,At._x)("Date","text","nelio-content"),children:(0,l.jsx)("div",{className:"nelio-content-social-message-editor__date-selector",children:(0,l.jsx)(Lt.SelectControl,{disabled:e,options:i?Rs:Vs,value:null!=t?t:"",onChange:e=>{"positive-days"===e||"exact"===e?s(e,""):s("predefined-offset",e)}})})})},Vs=[{value:"0",label:(0,At._x)("Today","text","nelio-content")},{value:"1",label:(0,At._x)("Tomorrow","text","nelio-content")},{value:"7",label:(0,At._x)("Next week","text","nelio-content")},{value:"28",label:(0,At._x)("Next month","text","nelio-content")},{value:"positive-days",label:(0,At._x)("In __ days","text","nelio-content")},{value:"exact",label:(0,At._x)("Choose a custom date…","user","nelio-content")}],Rs=[{value:"0",label:(0,At._x)("Same day as publication","text","nelio-content")},{value:"1",label:(0,At._x)("The day after publication","text","nelio-content")},{value:"7",label:(0,At._x)("A week after publication","text","nelio-content")},{value:"28",label:(0,At._x)("A month after publication","text","nelio-content")},{value:"positive-days",label:(0,At._x)("__ days after publication","text","nelio-content")},{value:"exact",label:(0,At._x)("Choose a custom date…","user","nelio-content")}],Bs=({disabled:e})=>{const[{dateType:t}]=Vt();switch(t){case"exact":return(0,l.jsx)(Cs,{disabled:e});case"positive-days":return(0,l.jsx)(Ms,{disabled:e});default:return(0,l.jsx)(As,{disabled:e})}},Ds=()=>{const[{dateValue:e}]=Vt(),[{timeValue:t}]=Rt(),[s]=ns(),i=as(),n=ts(),a=Dt(),[o]=ps(),l=d(e=>o.map(e=>(0,k.isAutoSelectedUuid)(e)?e.value:e).map(t=>e(u.store).getSocialProfile(t)).filter(e=>!!e)),c=d(e=>e(Mt).getSelectedTargets()),m=qt(),[h]=Qt(),[x,v]=Gt(),_=d(e=>{const t=e(Mt).getImageId();if(t)return(0,g.isArray)(t)?t.map(t=>e(u.store).getMedia(t)).filter(e=>!!e):e(u.store).getMedia(t)}),w=d(e=>{const t=e(Mt).getVideoId();if(t)return(0,g.isArray)(t)?t.map(t=>e(u.store).getMedia(t)).filter(e=>!!e):e(u.store).getMedia(t)});return(0,r.useEffect)(Us(()=>{var o;if(!l.length)return void v((0,At._x)("Please select a social profile","user","nelio-content"));if(s.includes("{highlight}"))return void v((0,At.sprintf)(/* translators: %s: Placeholder. */ /* translators: %s: Placeholder. */
(0,At._x)("Please remove %s (social template only)","user","nelio-content"),"{highlight}"));if(s.includes("{phrase}"))return void v((0,At.sprintf)(/* translators: %s: Placeholder. */ /* translators: %s: Placeholder. */
(0,At._x)("Please remove %s, as it can only be used in social templates","user","nelio-content"),"{phrase}"));if(!e)return void v((0,At._x)("Please specify a date","user","nelio-content"));if(!t)return void v((0,At._x)("Please specify a time","user","nelio-content"));const r=(0,g.find)(l,{network:a}),d=r?[r,...l]:l;for(const e of d){const t=(0,p.getRequirementsError)({network:e.network,postId:n,targetName:null===(o=c[e.id])||void 0===o?void 0:o[0],textComputed:i,type:m[e.network],tiktokSettings:h,image:_,video:w});if(t)return void v(t)}v("")}),[e,_,a,n,o,c,i,t,h,m,w]),null},Us=e=>()=>{e()};function Fs(e){var t,s,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=Fs(e[t]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}const $s=function(){for(var e,t,s=0,i="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=Fs(e))&&(i&&(i+=" "),i+=t);return i},qs=({disabled:e})=>{const[t]=Ft(),s=Ut("medium-tags"),[i]=Wt(),[n,a]=(()=>{const e=d(e=>e(Mt).getMediumTags()),{setMediumTags:t}=(0,c.useDispatch)(Mt);return[e,t]})();return s&&i?(0,l.jsx)("div",{className:$s({"nelio-content-social-message-editor__medium-tags-selector":!0}),children:(0,l.jsx)(Lt.FormTokenField,{label:(0,At._x)("Medium Tags","text","nelio-content"),disabled:e,maxLength:(0,p.getTagsLimitInNetwork)(t),value:n?[...n]:[],suggestions:[],onChange:e=>a(e)})}):null},Gs=({disabled:e})=>{const t=Ut("text"),[s,i]=ns(),n=zt();return t?(0,l.jsx)("div",{className:$s({"nelio-content-social-message-editor__message-editor":!0,"nelio-content-social-message-editor__message-editor--is-merged-with-social-profile-selector":n}),children:(0,l.jsx)(Lt.TextareaControl,{disabled:e,value:s,onChange:e=>i(e),placeholder:(0,At._x)("Your status update…","text","nelio-content")})}):null},Hs=window.NelioContent.date,Ys=e=>{const{activeProfile:{id:t,displayName:s},dateValue:i,schedule:n,textComputed:a,timeValue:o}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-band-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-band-preview__profile",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:t,isNetworkHidden:!0}),(0,l.jsxs)("div",{className:"nelio-content-social-message-band-preview__name-info",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-band-preview__display-name",children:s}),(0,l.jsxs)("div",{className:"nelio-content-social-message-band-preview__date",children:[!!i&&!!o&&(0,Hs.dateI18n)((0,At._x)("g:i A · d M Y","text (Band preview date)","nelio-content"),n),!!i&&!o&&(0,Hs.dateI18n)((0,At._x)("d M Y","text (Band preview date)","nelio-content"),n),!i&&(0,At._x)("Someday","text","nelio-content")]})]})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:a,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}})]})},zs=({postId:e,schedule:t,image:s})=>{var i,n;const a=(0,u.usePost)(e);if(!a)return null;const o=(0,g.castArray)(s)[0],r=`${o?`<figure><picture><img alt="${null!==(i=a.title)&&void 0!==i?i:""}" src="${o}" /></picture></figure>`:""}${null!==(n=null==a?void 0:a.content)&&void 0!==n?n:""}`;return(0,l.jsx)("div",{className:"nelio-content-social-message-blogger-preview",children:(0,l.jsxs)("div",{className:"nelio-content-social-message-blogger-preview__content",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-blogger-preview__title",children:null==a?void 0:a.title}),(0,l.jsx)("div",{className:"nelio-content-social-message-blogger-preview__date",children:(0,Hs.dateI18n)((0,At._x)("F j, Y","text (Instagram preview date)","nelio-content"),t)}),(0,l.jsx)("div",{className:"nelio-content-computed-text-preview",dangerouslySetInnerHTML:{__html:r.replace(/<\/?ncshare>/g,"")}})]})})},Ws=()=>(0,l.jsx)("div",{className:"nelio-content-shared-link-loader",children:(0,l.jsx)(Lt.Spinner,{})}),Qs=()=>{const{sharedLinkStatus:e,sharedLink:{title:t,excerpt:s,image:i,domain:n}={}}=cs("last","bluesky");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"ready":return(0,l.jsxs)("div",{className:"nelio-content-bluesky-shared-link",children:[!!i&&(0,l.jsx)("img",{className:"nelio-content-bluesky-shared-link__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:i}),(0,l.jsxs)("div",{className:"nelio-content-bluesky-shared-link__content",children:[(0,l.jsx)("div",{className:"nelio-content-bluesky-shared-link__domain",children:n}),(0,l.jsx)("div",{className:"nelio-content-bluesky-shared-link__title",children:t}),!!s&&(0,l.jsx)("div",{className:"nelio-content-bluesky-shared-link__excerpt",children:s})]})]});default:return null}},Ks=e=>{const{activeProfile:{id:t,displayName:s,username:i},dateValue:n,schedule:a,textComputed:o,timeValue:r,type:c}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-bluesky-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-bluesky-preview__profile",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:t,isNetworkHidden:!0}),(0,l.jsxs)("div",{className:"nelio-content-social-message-bluesky-preview__name-info",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-bluesky-preview__display-name",children:s}),(0,l.jsxs)("div",{className:"nelio-content-social-message-bluesky-preview__username",children:["@",i]})]})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:o,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}}),"image"===c?(0,l.jsx)(Xs,Object.assign({},e)):(0,l.jsx)(Qs,{}),(0,l.jsxs)("div",{className:"nelio-content-social-message-bluesky-preview__date",children:[!!n&&!!r&&(0,Hs.dateI18n)((0,At._x)("g:i A · d M Y","text (Bluesky preview date)","nelio-content"),a),!!n&&!r&&(0,Hs.dateI18n)((0,At._x)("d M Y","text (Bluesky preview date)","nelio-content"),a),!n&&(0,At._x)("Someday","text","nelio-content")]})]})},Xs=e=>{const{image:t,type:s}=e,i=(0,g.compact)([...(0,g.castArray)(null!=t?t:[])]);return"image"===s&&i.length>=4?(0,l.jsxs)("div",{className:"nelio-content-social-message-bluesky-preview__media-group nelio-content-social-message-bluesky-preview__media-group--vertical",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-bluesky-preview__media-pair",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-bluesky-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-bluesky-preview__image nelio-content-social-message-bluesky-preview__image--top-left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:i[0]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-bluesky-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-bluesky-preview__image nelio-content-social-message-bluesky-preview__image--top-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:i[1]})})]}),(0,l.jsxs)("div",{className:"nelio-content-social-message-bluesky-preview__media-pair",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-bluesky-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-bluesky-preview__image nelio-content-social-message-bluesky-preview__image--bottom-left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:i[2]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-bluesky-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-bluesky-preview__image nelio-content-social-message-bluesky-preview__image--bottom-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:i[3]})})]})]}):"image"===s&&3===i.length?(0,l.jsxs)("div",{className:"nelio-content-social-message-bluesky-preview__media-group",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-bluesky-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-bluesky-preview__image nelio-content-social-message-bluesky-preview__image--left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:i[0]})}),(0,l.jsxs)("div",{className:"nelio-content-social-message-bluesky-preview__media-pair nelio-content-social-message-bluesky-preview__media-pair--vertical",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-bluesky-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-bluesky-preview__image nelio-content-social-message-bluesky-preview__image--top-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:i[1]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-bluesky-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-bluesky-preview__image nelio-content-social-message-bluesky-preview__image--bottom-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:i[2]})})]})]}):"image"===s&&2===i.length?(0,l.jsxs)("div",{className:"nelio-content-social-message-bluesky-preview__media-pair",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-bluesky-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-bluesky-preview__image nelio-content-social-message-bluesky-preview__image--left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:i[0]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-bluesky-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-bluesky-preview__image nelio-content-social-message-bluesky-preview__image--right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:i[1]})})]}):(0,l.jsx)("img",{className:"nelio-content-social-message-bluesky-preview__image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:i[0]})},Js=()=>{const{sharedLinkStatus:e,sharedLink:{title:t,image:s,excerpt:i}={}}=cs("last");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"ready":return(0,l.jsxs)("div",{className:"nelio-content-discord-shared-link",children:[(0,l.jsx)("div",{className:"nelio-content-discord-shared-link__title",children:t}),(0,l.jsx)("div",{className:"nelio-content-discord-shared-link__excerpt",children:i}),!!s&&(0,l.jsx)("img",{className:"nelio-content-discord-shared-link__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:s})]});default:return null}},Zs=window.React;var ei;function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)({}).hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},ti.apply(null,arguments)}const si=function(e){return Zs.createElement("svg",ti({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 40 40"},e),ei||(ei=Zs.createElement("path",{fill:"inherit",d:"M20 2.5C10.335 2.5 2.5 10.335 2.5 20S10.335 37.5 20 37.5c5.532 0 10.457-2.574 13.664-6.582l-2.97-2.285C28.172 31.75 24.321 33.75 20 33.75c-7.594 0-13.75-6.156-13.75-13.75S12.406 6.25 20 6.25c3.146 0 6.036 1.069 8.352 2.848l-8.63 8.629-4.867-4.868-2.285 2.286 4.868 4.867 2.285 2.285 2.285-2.285 8.668-8.668 2.66-2.66q-.531-.623-1.121-1.188a18 18 0 0 0-1.201-1.06C28.005 3.986 24.182 2.5 20 2.5m14.428 9.598a1.886 1.886 0 0 0-1.885 1.884 1.886 1.886 0 0 0 1.885 1.887 1.886 1.886 0 0 0 1.886-1.887 1.886 1.886 0 0 0-1.886-1.884m1.187 6.017A1.886 1.886 0 0 0 33.73 20a1.886 1.886 0 0 0 1.886 1.885A1.886 1.886 0 0 0 37.5 20a1.886 1.886 0 0 0-1.885-1.885m-1.209 6.102a1.886 1.886 0 0 0-1.885 1.885 1.886 1.886 0 0 0 1.885 1.884 1.886 1.886 0 0 0 1.887-1.884 1.886 1.886 0 0 0-1.887-1.885"})))},ii=e=>{const{activeProfile:{username:t},dateValue:s,schedule:i,textComputed:n,timeValue:a,type:o}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-discord-preview",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-discord-preview__header",children:(0,l.jsxs)("div",{className:"nelio-content-social-message-discord-preview__display-name",children:["# ",t]})}),(0,l.jsxs)("div",{className:"nelio-content-social-message-discord-preview__app",children:[(0,l.jsx)(si,{className:"nelio-content-social-message-discord-preview__app-logo"}),(0,l.jsxs)("div",{className:"nelio-content-social-message-discord-preview__message-text",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-discord-preview__app-info",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-discord-preview__app-name",children:"Nelio Content"}),(0,l.jsx)("div",{className:"nelio-content-social-message-discord-preview__app-tag",children:"APP"}),(0,l.jsxs)("div",{className:"nelio-content-social-message-discord-preview__date",children:[!!s&&!!a&&(0,Hs.dateI18n)((0,At._x)("g:i A · d M Y","text (Discord preview date)","nelio-content"),i),!!s&&!a&&(0,Hs.dateI18n)((0,At._x)("d M Y","text (Discord preview date)","nelio-content"),i),!s&&(0,At._x)("Someday","text","nelio-content")]})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:n,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}})]})]}),["image","multi-image"].includes(o)?(0,l.jsx)(ni,Object.assign({},e)):(0,l.jsx)(Js,{})]})},ni=e=>{const{image:t}=e,s=(0,g.compact)([...(0,g.castArray)(null!=t?t:[])]);return(0,l.jsx)(l.Fragment,{children:s.map((e,t)=>(0,l.jsx)("div",{className:"nelio-content-discord-shared-link",children:(0,l.jsx)("img",{className:"nelio-content-discord-shared-link__image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:e})},t))})},ai=()=>{const{sharedLinkStatus:e,sharedLink:{title:t,excerpt:s,image:i,domain:n}={}}=cs("first","facebook");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"ready":return(0,l.jsxs)("div",{className:"nelio-content-facebook-shared-link",children:[!!i&&(0,l.jsx)("img",{className:"nelio-content-facebook-shared-link__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:i}),(0,l.jsxs)("div",{className:"nelio-content-facebook-shared-link__content",children:[(0,l.jsx)("div",{className:"nelio-content-facebook-shared-link__domain",children:n}),(0,l.jsx)("div",{className:"nelio-content-facebook-shared-link__title",children:t}),!!s&&(0,l.jsx)("div",{className:"nelio-content-facebook-shared-link__excerpt",children:s})]})]});default:return null}},oi=({activeProfile:{id:e,displayName:t},image:s,schedule:i,textComputed:n,type:a})=>{const o=(0,g.compact)([...(0,g.castArray)(null!=s?s:[])]);return(0,l.jsxs)("div",{className:"nelio-content-social-message-facebook-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-facebook-preview__profile-and-date",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:e,isNetworkHidden:!0}),(0,l.jsx)("div",{className:"nelio-content-social-message-facebook-preview__name",children:(0,l.jsx)("div",{className:"nelio-content-social-message-facebook-preview__display-name",children:t})}),(0,l.jsx)("div",{className:"nelio-content-social-message-facebook-preview__date",children:(0,Hs.dateI18n)((0,At._x)("F j, Y","text (Facebook preview date)","nelio-content"),i)})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:n,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}}),"image"===a&&o.length?(0,l.jsx)("img",{className:"nelio-content-social-message-facebook-preview__image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:o[0]}):(0,l.jsx)(ai,{})]})},li=()=>{const{sharedLinkStatus:e,sharedLink:{image:t}={}}=cs("first","gmb");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"ready":return t?(0,l.jsx)("img",{className:"nelio-content-social-message-gmb-preview__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:t}):null;default:return null}},ri=e=>{const{activeProfile:{id:t,displayName:s},schedule:i,textComputed:n,type:a}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-gmb-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-gmb-preview__profile-and-date",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:t,isNetworkHidden:!0}),(0,l.jsx)("div",{className:"nelio-content-social-message-gmb-preview__name",children:(0,l.jsx)("div",{className:"nelio-content-social-message-gmb-preview__display-name",children:s})}),(0,l.jsx)("div",{className:"nelio-content-social-message-gmb-preview__date",children:(0,Hs.dateI18n)((0,At._x)("F j, Y","text (Google My Business preview date)","nelio-content"),i)})]}),["image","video","multi-media"].includes(a)?(0,l.jsx)(ci,Object.assign({},e)):(0,l.jsx)(li,{}),(0,l.jsx)(js.SocialMessageTextPreview,{value:n,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}})]})},ci=e=>{const{image:t,video:s}=e,[i,n]=(0,r.useState)(0),a=(0,g.compact)([...(0,g.castArray)(null!=t?t:[]),...(0,g.castArray)(null!=s?s:[])]);return(0,r.useEffect)(()=>{i>a.length-1&&n(0)},[a]),(0,l.jsxs)("div",{className:"nelio-content-social-message-gmb-preview__container",children:[!!a.length&&(o=a[i],t===o||(0,g.isArray)(t)&&t.includes(o))&&(0,l.jsx)("img",{className:"nelio-content-social-message-gmb-preview__actual-image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:a[i]}),!!a.length&&(e=>s===e||(0,g.isArray)(s)&&s.includes(e))(a[i])&&(0,l.jsx)("video",{className:"nelio-content-social-message-gmb-preview__actual-image",src:a[i],autoPlay:!0,loop:!0,muted:!0}),a.length>1&&0!==i&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-gmb-preview__previous-image-action",icon:"arrow-left-alt2",onClick:()=>n(i-1)}),a.length>1&&i!==a.length-1&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-gmb-preview__next-image-action",icon:"arrow-right-alt2",onClick:()=>n(i+1)})]});var o},di=({activeProfile:{id:e,displayName:t},image:s,video:i,schedule:n,textComputed:a})=>{const[o,c]=(0,r.useState)(0),d=(0,g.compact)([...(0,g.castArray)(null!=s?s:[]),...(0,g.castArray)(null!=i?i:[])]);return(0,r.useEffect)(()=>{o>d.length-1&&c(0)},[d]),(0,l.jsxs)("div",{className:"nelio-content-social-message-instagram-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-instagram-preview__image",children:[!d.length&&(0,l.jsx)("div",{className:"nelio-content-social-message-instagram-preview__image-placeholder",children:(0,l.jsx)(Lt.Dashicon,{className:"nelio-content-social-message-instagram-preview__image-icon",icon:"format-image"})}),!!d.length&&(m=d[o],s===m||(0,g.isArray)(s)&&s.includes(m))&&(0,l.jsx)("img",{className:"nelio-content-social-message-instagram-preview__actual-image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:d[o]}),!!d.length&&(e=>i===e||(0,g.isArray)(i)&&i.includes(e))(d[o])&&(0,l.jsx)("video",{className:"nelio-content-social-message-instagram-preview__actual-image",src:d[o],autoPlay:!0,loop:!0,muted:!0}),d.length>1&&0!==o&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-instagram-preview__previous-image-action",icon:"arrow-left-alt2",onClick:()=>c(o-1)}),d.length>1&&o!==d.length-1&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-instagram-preview__next-image-action",icon:"arrow-right-alt2",onClick:()=>c(o+1)}),d.length>1&&(0,l.jsx)("div",{className:"nelio-content-social-message-instagram-preview__image-dots",children:(0,g.range)(0,d.length).map(e=>(0,l.jsx)("div",{className:$s("nelio-content-social-message-instagram-preview__image-dot",{"nelio-content-social-message-instagram-preview__image-dot--current":o===e})},e))})]}),(0,l.jsxs)("div",{className:"nelio-content-social-message-instagram-preview__content",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-instagram-preview__profile-and-name",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:e,isNetworkHidden:!0}),(0,l.jsx)("div",{className:"nelio-content-social-message-instagram-preview__display-name",children:t})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:a,linkBeautifier:e=>e.replace(/https?:\/\/([^\/]+).*/,"$1")}),(0,l.jsx)("div",{className:"nelio-content-social-message-instagram-preview__date",children:(0,Hs.dateI18n)((0,At._x)("F j, Y","text (Instagram preview date)","nelio-content"),n)})]})]});var m};var mi=s(3503),ui=s.n(mi);const gi=()=>{const{sharedLinkStatus:e,sharedLink:{domain:t,image:s,title:i}={}}=cs("first","linkedin");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"no-url":case"ready":return(0,l.jsxs)("div",{className:"nelio-content-linkedin-shared-link",children:[s?(0,l.jsx)("img",{className:"nelio-content-linkedin-shared-link__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:s}):(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"nelio-content-linkedin-shared-link__content",children:[(0,l.jsx)("div",{className:"nelio-content-linkedin-shared-link__title",children:i}),(0,l.jsx)("div",{className:"nelio-content-linkedin-shared-link__signature",children:t})]})]});default:return null}},pi=e=>{const{activeProfile:{id:t,displayName:s},schedule:i,textComputed:n,type:a}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-linkedin-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-linkedin-preview__profile-and-date",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:t,isNetworkHidden:!0}),(0,l.jsxs)("div",{className:"nelio-content-social-message-linkedin-preview__name-and-date",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-linkedin-preview__display-name",children:s}),(0,l.jsx)("div",{className:"nelio-content-social-message-linkedin-preview__date",children:(0,Hs.dateI18n)((0,At._x)("F j, Y","LinkedIn preview date","nelio-content"),i)})]})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:n,linkBeautifier:e=>"https://lnkd.in/"+xi(e)}),["image","video"].includes(a)?(0,l.jsx)(hi,Object.assign({},e)):(0,l.jsx)(gi,{})]})},hi=e=>{const{image:t,video:s,type:i}=e,n=(0,g.compact)([...(0,g.castArray)(null!=t?t:[])]),a=(0,g.compact)([...(0,g.castArray)(null!=s?s:[])]);if("video"===i)return(0,l.jsx)("video",{className:"nelio-content-social-message-linkedin-preview__image",src:a[0],autoPlay:!0,controls:!0,loop:!0,muted:!0});if(n.length>1){const e=(0,g.take)(n,4);return(0,l.jsx)("div",{className:$s("nelio-content-social-message-linkedin-preview__image-container",{"nelio-content-social-message-linkedin-preview__image-container--two-images":2===e.length,"nelio-content-social-message-linkedin-preview__image-container--three-images":3===e.length,"nelio-content-social-message-linkedin-preview__image-container--four-images":4===e.length}),children:e.map((t,s)=>(0,l.jsxs)("div",{className:"nelio-content-social-message-linkedin-preview__container-item",children:[(0,l.jsx)("img",{className:"nelio-content-social-message-linkedin-preview__image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:t}),s===e.length-1&&e.length<n.length&&(0,l.jsx)("div",{className:"nelio-content-social-message-linkedin-preview__excess-image-count-overlay",children:(0,l.jsx)("span",{className:"nelio-content-social-message-linkedin-preview__excess-image-count-text",children:"+"+(n.length-e.length)})})]},s))})}return(0,l.jsx)("img",{className:"nelio-content-social-message-linkedin-preview__image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[0]})},xi=e=>ui()(e).substring(0,6),vi=()=>{const{sharedLinkStatus:e,sharedLink:{title:t,excerpt:s,image:i,domain:n}={}}=cs("last");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"ready":return(0,l.jsxs)("div",{className:"nelio-content-mastodon-shared-link",children:[!!i&&(0,l.jsx)("img",{className:"nelio-content-mastodon-shared-link__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:i}),(0,l.jsxs)("div",{className:"nelio-content-mastodon-shared-link__content",children:[(0,l.jsx)("div",{className:"nelio-content-mastodon-shared-link__domain",children:n}),(0,l.jsx)("div",{className:"nelio-content-mastodon-shared-link__title",children:t}),!!s&&(0,l.jsx)("div",{className:"nelio-content-mastodon-shared-link__excerpt",children:s})]})]});default:return null}},_i=e=>{const{activeProfile:{id:t,displayName:s,username:i},dateValue:n,schedule:a,textComputed:o,timeValue:r,type:c}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-mastodon-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-mastodon-preview__profile",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:t,isNetworkHidden:!0}),(0,l.jsxs)("div",{className:"nelio-content-social-message-mastodon-preview__name-info",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-mastodon-preview__display-name",children:s}),(0,l.jsx)("div",{className:"nelio-content-social-message-mastodon-preview__username",children:i})]})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:o,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}}),["image","video"].includes(c)?(0,l.jsx)(wi,Object.assign({},e)):(0,l.jsx)(vi,{}),(0,l.jsxs)("div",{className:"nelio-content-social-message-mastodon-preview__date",children:[!!n&&!!r&&(0,Hs.dateI18n)((0,At._x)("g:i A · d M Y","text (mastodon preview date)","nelio-content"),a),!!n&&!r&&(0,Hs.dateI18n)((0,At._x)("d M Y","text (mastodon preview date)","nelio-content"),a),!n&&(0,At._x)("Someday","text","nelio-content")]})]})},wi=e=>{const{image:t,video:s,type:i}=e,n=(0,g.compact)([...(0,g.castArray)(null!=t?t:[])]),a=(0,g.compact)([...(0,g.castArray)(null!=s?s:[])]);return"video"===i?(0,l.jsx)("video",{className:"nelio-content-social-message-mastodon-preview__image",src:a[0],autoPlay:!0,loop:!0,muted:!0}):"image"===i&&n.length>=4?(0,l.jsxs)("div",{className:"nelio-content-social-message-mastodon-preview__media-group nelio-content-social-message-mastodon-preview__media-group--vertical",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-mastodon-preview__media-pair",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-mastodon-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-mastodon-preview__image nelio-content-social-message-mastodon-preview__image--top-left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[0]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-mastodon-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-mastodon-preview__image nelio-content-social-message-mastodon-preview__image--top-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[1]})})]}),(0,l.jsxs)("div",{className:"nelio-content-social-message-mastodon-preview__media-pair",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-mastodon-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-mastodon-preview__image nelio-content-social-message-mastodon-preview__image--bottom-left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[2]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-mastodon-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-mastodon-preview__image nelio-content-social-message-mastodon-preview__image--bottom-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[3]})})]})]}):"image"===i&&3===n.length?(0,l.jsxs)("div",{className:"nelio-content-social-message-mastodon-preview__media-group",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-mastodon-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-mastodon-preview__image nelio-content-social-message-mastodon-preview__image--left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[0]})}),(0,l.jsxs)("div",{className:"nelio-content-social-message-mastodon-preview__media-pair nelio-content-social-message-mastodon-preview__media-pair--vertical",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-mastodon-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-mastodon-preview__image nelio-content-social-message-mastodon-preview__image--top-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[1]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-mastodon-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-mastodon-preview__image nelio-content-social-message-mastodon-preview__image--bottom-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[2]})})]})]}):"image"===i&&2===n.length?(0,l.jsxs)("div",{className:"nelio-content-social-message-mastodon-preview__media-pair",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-mastodon-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-mastodon-preview__image nelio-content-social-message-mastodon-preview__image--left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[0]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-mastodon-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-mastodon-preview__image nelio-content-social-message-mastodon-preview__image--right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[1]})})]}):(0,l.jsx)("img",{className:"nelio-content-social-message-mastodon-preview__image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[0]})},bi=({activeProfile:{id:e,displayName:t},postId:s,schedule:i,image:n})=>{var a,o;const r=(0,u.usePost)(s);if(!r)return null;const c=(0,g.castArray)(n)[0],d=`${c?`<figure><picture><img alt="${null!==(a=r.title)&&void 0!==a?a:""}" src="${c}" /></picture></figure>`:""}${null!==(o=null==r?void 0:r.content)&&void 0!==o?o:""}`;return(0,l.jsx)("div",{className:"nelio-content-social-message-medium-preview",children:(0,l.jsxs)("div",{className:"nelio-content-social-message-medium-preview__content",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-medium-preview__title",children:null==r?void 0:r.title}),(0,l.jsxs)("div",{className:"nelio-content-social-message-medium-preview__profile-and-name",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:e,isNetworkHidden:!0}),(0,l.jsxs)("div",{className:"nelio-content-social-message-medium-preview__display-name-and-date",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-medium-preview__display-name",children:t}),(0,l.jsx)("div",{className:"nelio-content-social-message-medium-preview__date",children:(0,Hs.dateI18n)((0,At._x)("F j, Y","text (Instagram preview date)","nelio-content"),i)})]})]}),(0,l.jsxs)("div",{className:"nelio-content-social-message-medium-preview__medium-toolbar",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-medium-preview__medium-toolbar-section",children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{fill:"#dfdfdf",d:"M11.37.828 12 3.282l.63-2.454zM15.421 1.84l-1.185-.388-.338 2.5zM9.757 1.452l-1.184.389 1.523 2.112zM20.253 11.84 17.75 7.438c-.238-.353-.57-.584-.93-.643a.96.96 0 0 0-.753.183 1.13 1.13 0 0 0-.443.695c.014.019.03.033.044.053l2.352 4.138c1.614 2.95 1.1 5.771-1.525 8.395a7 7 0 0 1-.454.415c.997-.13 1.927-.61 2.773-1.457 2.705-2.704 2.517-5.585 1.438-7.377M12.066 9.01c-.129-.687.08-1.299.573-1.773l-2.062-2.063a1.123 1.123 0 0 0-1.555 0 1.1 1.1 0 0 0-.273.521z"}),(0,l.jsx)("path",{fill:"#dfdfdf",d:"M14.741 8.309c-.18-.267-.446-.455-.728-.502a.67.67 0 0 0-.533.127c-.146.113-.59.458-.199 1.296l1.184 2.503a.448.448 0 0 1-.236.755.445.445 0 0 1-.483-.248L7.614 6.106A.816.816 0 1 0 6.459 7.26l3.643 3.644a.446.446 0 1 1-.631.63L5.83 7.896l-1.03-1.03a.82.82 0 0 0-1.395.577.81.81 0 0 0 .24.576l1.027 1.028 3.643 3.643a.444.444 0 0 1-.144.728.44.44 0 0 1-.486-.098l-3.64-3.64a.82.82 0 0 0-1.335.263.81.81 0 0 0 .178.89l1.535 1.534 2.287 2.288a.445.445 0 0 1-.63.63l-2.287-2.288a.813.813 0 0 0-1.393.578c0 .216.086.424.238.577l4.403 4.403c2.79 2.79 5.495 4.119 8.681.931 2.269-2.271 2.708-4.588 1.342-7.086z"})]}),(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{fill:"#757575",d:"M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"})})]}),(0,l.jsxs)("div",{className:"nelio-content-social-message-medium-preview__medium-toolbar-section",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{fill:"#757575",d:"M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"})}),(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{fill:"#757575",d:"M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832"})}),(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{fill:"#757575",d:"M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1"})}),(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{fill:"#757575",d:"M4.385 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41m5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59s1.02-.2 1.41-.59c.4-.39.59-.86.59-1.41s-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59s-.58.86-.58 1.41m5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59s1.03-.2 1.42-.59.58-.86.58-1.41-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59s-.58.86-.58 1.41"})})]})]}),(0,l.jsx)("div",{className:"nelio-content-computed-text-preview",dangerouslySetInnerHTML:{__html:d.replace(/<\/?ncshare>/g,"")}})]})})},fi=()=>(0,l.jsxs)("div",{className:"nelio-content-no-preview-in-social-editor ",children:[(0,l.jsxs)("div",{className:"nelio-content-no-preview-in-social-editor__title",children:[(0,l.jsx)(Lt.Dashicon,{className:"nelio-content-no-preview-in-social-editor__icon",icon:"warning"}),(0,At._x)("Preview not available","text","nelio-content")]}),(0,l.jsx)("div",{className:"nelio-content-no-preview-in-social-editor__explanation",children:(0,At._x)("Please select a social profile using the selector above.","user","nelio-content")}),(0,l.jsx)("div",{className:"nelio-content-no-preview-in-social-editor__action",children:(0,l.jsx)(Lt.ExternalLink,{href:(0,xt.addQueryArgs)("https://neliosoftware.com/content/help/how-to-select-social-profiles/",{utm_source:"nelio-content",utm_medium:"plugin",utm_campaign:"support",utm_content:"social-message-editor"}),children:(0,At._x)("Show me how…","command","nelio-content")})})]}),ki=()=>{const{sharedLinkStatus:e,sharedLink:{domain:t,image:s,title:i,excerpt:n}={}}=cs("last","ok");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"no-url":default:return null;case"ready":return(0,l.jsxs)("div",{className:"nelio-content-ok-shared-link",children:[s?(0,l.jsx)("img",{className:"nelio-content-ok-shared-link__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:s}):(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"nelio-content-ok-shared-link__content",children:[(0,l.jsx)("div",{className:"nelio-content-ok-shared-link__title",children:i}),(0,l.jsx)("div",{className:"nelio-content-ok-shared-link__excerpt",children:n}),(0,l.jsx)("div",{className:"nelio-content-ok-shared-link__signature",children:t})]})]})}},ji=e=>{const{activeProfile:{id:t,displayName:s},schedule:i,textComputed:n,type:a}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-ok-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-ok-preview__profile-and-date",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:t,isNetworkHidden:!0}),(0,l.jsxs)("div",{className:"nelio-content-social-message-ok-preview__name-and-date",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-ok-preview__display-name",children:s}),(0,l.jsx)("div",{className:"nelio-content-social-message-ok-preview__date",children:(0,Hs.dateI18n)((0,At._x)("F j, Y","VK preview date","nelio-content"),i)})]})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:n,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}}),["image","video","multi-media"].includes(a)?(0,l.jsx)(yi,Object.assign({},e)):(0,l.jsx)(ki,{})]})},yi=e=>{const{image:t,video:s}=e,[i,n]=(0,r.useState)(0),a=(0,g.compact)([...(0,g.castArray)(null!=t?t:[]),...(0,g.castArray)(null!=s?s:[])]);return(0,r.useEffect)(()=>{i>a.length-1&&n(0)},[a]),(0,l.jsxs)("div",{className:"nelio-content-social-message-ok-preview__container",children:[!!a.length&&(o=a[i],t===o||(0,g.isArray)(t)&&t.includes(o))&&(0,l.jsx)("img",{className:"nelio-content-social-message-ok-preview__actual-image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:a[i]}),!!a.length&&(e=>s===e||(0,g.isArray)(s)&&s.includes(e))(a[i])&&(0,l.jsx)("video",{className:"nelio-content-social-message-ok-preview__actual-image",src:a[i],autoPlay:!0,loop:!0,muted:!0}),a.length>1&&0!==i&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-ok-preview__previous-image-action",icon:"arrow-left-alt2",onClick:()=>n(i-1)}),a.length>1&&i!==a.length-1&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-ok-preview__next-image-action",icon:"arrow-right-alt2",onClick:()=>n(i+1)})]});var o},Ni=({activeProfile:{id:e,displayName:t="Nelio"},image:s,textComputed:i})=>{const[n,a]=(0,r.useState)(0),o=(0,g.compact)([...(0,g.castArray)(null!=s?s:[])]),{sharedLinkStatus:c,sharedLink:{title:d}={}}=cs("last","pinterest");return(0,r.useEffect)(()=>{n>o.length-1&&a(0)},[o]),(0,l.jsxs)("div",{className:"nelio-content-social-message-pinterest-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-pinterest-preview__image",children:[!o.length&&(0,l.jsx)("div",{className:"nelio-content-social-message-pinterest-preview__image-placeholder",children:(0,l.jsx)(Lt.Dashicon,{className:"nelio-content-social-message-pinterest-preview__image-icon",icon:"format-image"})}),!!o.length&&(0,l.jsx)("img",{className:"nelio-content-social-message-pinterest-preview__actual-image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:o[n]}),o.length>1&&0!==n&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-pinterest-preview__previous-image-action",icon:"arrow-left-alt2",onClick:()=>a(n-1)}),o.length>1&&n!==o.length-1&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-pinterest-preview__next-image-action",icon:"arrow-right-alt2",onClick:()=>a(n+1)})]}),(0,l.jsxs)("div",{className:"nelio-content-social-message-pinterest-preview__content",children:["ready"===c&&!!d&&(0,l.jsx)("div",{className:"nelio-content-pinterest-shared-link",children:(0,l.jsx)("div",{className:"nelio-content-pinterest-shared-link__title",children:(0,g.truncate)(d,{length:30,omission:"…"})})}),(0,l.jsxs)("div",{className:"nelio-content-social-message-pinterest-preview__profile",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:e,isNetworkHidden:!0}),(0,l.jsx)("strong",{children:t})]}),"ready"===c&&!!d&&(0,l.jsx)("div",{className:"nelio-content-pinterest-shared-link",children:(0,l.jsx)("div",{className:"nelio-content-pinterest-shared-link__action",children:(0,At._x)("Visit Site","command (pinterest)","nelio-content")})}),(0,l.jsx)(js.SocialMessageTextPreview,{value:(0,g.truncate)(i,{length:80,omission:" "+(0,At._x)("… more","text (pinterest)","nelio-content")}),linkBeautifier:e=>e.replace(/https?:\/\/([^\/]+).*/,"$1")})]})]})},Si=()=>{const{sharedLinkStatus:e,sharedLink:{image:t,title:s}={}}=cs("last","plurk");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"no-url":default:return null;case"ready":return(0,l.jsxs)("div",{className:"nelio-content-plurk-shared-link",children:[t?(0,l.jsx)("img",{className:"nelio-content-plurk-shared-link__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:t}):(0,l.jsx)("br",{}),(0,l.jsx)("div",{className:"nelio-content-plurk-shared-link__content",children:(0,l.jsx)("div",{className:"nelio-content-plurk-shared-link__title",children:s})})]})}},Ti=e=>{const{activeProfile:{id:t,displayName:s},textComputed:i,plurkQualifier:n}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-plurk-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-plurk-preview__profile-and-qualifier",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:t,isNetworkHidden:!0}),(0,l.jsxs)("div",{className:"nelio-content-social-message-plurk-preview__name-and-qualifier",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-plurk-preview__display-name",children:s}),(0,l.jsx)("div",{className:"nelio-content-social-message-plurk-preview__qualifier",children:(0,l.jsx)("span",{className:"nelio-content-social-message-plurk-preview__qualifier-word",children:null!=n?n:"shares"})})]})]}),(0,l.jsxs)("div",{className:"nelio-content-social-message-plurk-preview__message-content",children:[(0,l.jsx)(js.SocialMessageTextPreview,{value:i,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}}),(0,l.jsx)(Si,{})]})]})},Ii=()=>{const{sharedLinkStatus:e,sharedLink:{image:t}={}}=cs("first");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"ready":return t?(0,l.jsx)("img",{className:"nelio-content-social-message-reddit-preview__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:t}):null;default:return null}},Pi=({activeProfile:{displayName:e},image:t,schedule:s,textComputed:i,type:n})=>{const a=(0,g.compact)([...(0,g.castArray)(null!=t?t:[])]);return(0,l.jsx)("div",{className:"nelio-content-social-message-reddit-preview",children:(0,l.jsxs)("div",{className:"nelio-content-social-message-reddit-preview__text-and-image",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-reddit-preview__text-wrapper",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-reddit-preview__profile-and-date",children:(0,At.sprintf)(/* translators: %1$s: Username. %2$s: Date. */ /* translators: %1$s: Username. %2$s: Date. */
(0,At._x)("Published by %1$s. %2$s","text (reddit)","nelio-content"),e,(0,Hs.dateI18n)((0,At._x)("F j, Y","text (Reddit preview date)","nelio-content"),s))}),(0,l.jsx)(js.SocialMessageTextPreview,{value:i,linkBeautifier:Oi}),(0,l.jsx)("div",{className:"nelio-content-social-message-reddit-preview__link",children:Oi(Ei(i)).replace(/^https?:\/\//,"")})]}),(0,l.jsx)("div",{className:"nelio-content-social-message-reddit-preview__image-wrapper",children:"image"===n&&a.length?(0,l.jsx)("img",{className:"nelio-content-social-message-reddit-preview__image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:a[0]}):(0,l.jsx)(Ii,{})})]})})},Oi=e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,16}).*/,"$1");return t===e?t:t+"…"},Ei=e=>{const t=` ${e} `.match(/\s(https?:\/\/[^ ]*)\s/g)||[];return t[t.length-1]||""},Ci=()=>{const{sharedLinkStatus:e,sharedLink:{title:t,image:s,excerpt:i}={}}=cs("last");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"ready":return(0,l.jsxs)("div",{className:"nelio-content-slack-shared-link",children:[(0,l.jsx)("div",{className:"nelio-content-slack-shared-link__title",children:t}),(0,l.jsx)("div",{className:"nelio-content-slack-shared-link__excerpt",children:i}),!!s&&(0,l.jsx)("img",{className:"nelio-content-slack-shared-link__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:s})]});default:return null}},Mi=e=>{const{activeProfile:{username:t},dateValue:s,schedule:i,textComputed:n,timeValue:a,type:o}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-slack-preview",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-slack-preview__header",children:(0,l.jsxs)("div",{className:"nelio-content-social-message-slack-preview__display-name",children:["# ",t]})}),(0,l.jsxs)("div",{className:"nelio-content-social-message-slack-preview__app",children:[(0,l.jsx)(si,{className:"nelio-content-social-message-slack-preview__app-logo"}),(0,l.jsxs)("div",{className:"nelio-content-social-message-slack-preview__message-text",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-slack-preview__app-info",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-slack-preview__app-name",children:"Nelio Content"}),(0,l.jsx)("div",{className:"nelio-content-social-message-slack-preview__app-tag",children:"APP"}),(0,l.jsxs)("div",{className:"nelio-content-social-message-slack-preview__date",children:[!!s&&!!a&&(0,Hs.dateI18n)((0,At._x)("g:i A · d M Y","text (Slack preview date)","nelio-content"),i),!!s&&!a&&(0,Hs.dateI18n)((0,At._x)("d M Y","text (Slack preview date)","nelio-content"),i),!s&&(0,At._x)("Someday","text","nelio-content")]})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:n,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}})]})]}),["image","multi-image"].includes(o)?(0,l.jsx)(Li,Object.assign({},e)):(0,l.jsx)(Ci,{})]})},Li=e=>{const{image:t}=e,s=(0,g.compact)([...(0,g.castArray)(null!=t?t:[])]);return(0,l.jsx)(l.Fragment,{children:s.map((e,t)=>(0,l.jsx)("div",{className:"nelio-content-slack-shared-image",children:(0,l.jsx)("img",{className:"nelio-content-slack-shared-image__image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:e})},t))})},Ai=()=>{const{sharedLinkStatus:e,sharedLink:{author:t,excerpt:s,image:i,title:n}={}}=cs("first");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"no-url":case"ready":return(0,l.jsxs)("div",{className:"nelio-content-telegram-shared-link",children:[!!i&&(0,l.jsx)("img",{className:"nelio-content-telegram-shared-link__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:i}),(0,l.jsxs)("div",{className:"nelio-content-telegram-shared-link__content",children:[(0,l.jsx)("div",{className:"nelio-content-telegram-shared-link__author",children:t}),(0,l.jsx)("div",{className:"nelio-content-telegram-shared-link__title",children:n}),(0,l.jsx)("div",{className:"nelio-content-telegram-shared-link__excerpt",children:s})]})]});default:return null}},Vi=e=>{const{schedule:t,textComputed:s,type:i}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-telegram-preview",children:[["image","video","multi-media"].includes(i)&&(0,l.jsx)(Ri,Object.assign({},e)),(0,l.jsx)(js.SocialMessageTextPreview,{value:s}),!["image","video","multi-media"].includes(i)&&(0,l.jsx)(Ai,{}),(0,l.jsxs)("div",{className:"nelio-content-social-message-telegram-preview__date",children:[(0,l.jsx)(Lt.Dashicon,{icon:"visibility"}),(0,Hs.dateI18n)(" H:i",t)]})]})},Ri=e=>{const{image:t,video:s}=e,i=(0,g.take)((0,g.compact)([...(0,g.castArray)(null!=t?t:[]),...(0,g.castArray)(null!=s?s:[])]),10);return(0,l.jsx)("div",{className:`nelio-content-social-message-telegram-preview__media-items nelio-content-social-message-telegram-preview__media-items--items-${i.length}`,children:i.map((e,s)=>{return(0,l.jsx)("div",{className:"nelio-content-social-message-telegram-preview__media-item",children:(i=e,t===i||(0,g.isArray)(t)&&t.includes(i)?(0,l.jsx)("img",{className:"nelio-content-social-message-telegram-preview__media-item-image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:e}):(0,l.jsx)("video",{className:"nelio-content-social-message-telegram-preview__media-item-video",src:e,autoPlay:!0,loop:!0,muted:!0}))},s);var i})})},Bi=()=>{const{sharedLinkStatus:e,sharedLink:{title:t,image:s,domain:i}={}}=cs("last");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"ready":return(0,l.jsxs)("div",{className:"nelio-content-threads-shared-link",children:[!!s&&(0,l.jsx)("img",{className:"nelio-content-threads-shared-link__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:s}),(0,l.jsxs)("div",{className:"nelio-content-threads-shared-link__content",children:[(0,l.jsx)("div",{className:"nelio-content-threads-shared-link__domain",children:i}),(0,l.jsx)("div",{className:"nelio-content-threads-shared-link__title",children:t})]})]});default:return null}},Di=e=>{const{activeProfile:{id:t,displayName:s,username:i},dateValue:n,schedule:a,textComputed:o,timeValue:r,type:c}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-threads-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-threads-preview__profile",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:t,isNetworkHidden:!0}),(0,l.jsxs)("div",{className:"nelio-content-social-message-threads-preview__name-info",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-threads-preview__display-name",children:s}),(0,l.jsxs)("div",{className:"nelio-content-social-message-threads-preview__username",children:["@",i]})]})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:o,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}}),["image","video","multi-media"].includes(c)?(0,l.jsx)(Ui,Object.assign({},e)):(0,l.jsx)(Bi,{}),(0,l.jsxs)("div",{className:"nelio-content-social-message-threads-preview__date",children:[!!n&&!!r&&(0,Hs.dateI18n)((0,At._x)("g:i A · d M Y","text (Threads preview date)","nelio-content"),a),!!n&&!r&&(0,Hs.dateI18n)((0,At._x)("d M Y","text (Threads preview date)","nelio-content"),a),!n&&(0,At._x)("Someday","text","nelio-content")]})]})},Ui=e=>{const{image:t,video:s}=e,i=(0,g.compact)([...(0,g.castArray)(null!=t?t:[]),...(0,g.castArray)(null!=s?s:[])]),n=e=>t===e||(0,g.isArray)(t)&&t.includes(e);return 1===i.length&&n(i[0])?(0,l.jsx)("img",{className:"nelio-content-social-message-threads-preview__image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:i[0]}):1===i.length&&(s===(a=i[0])||(0,g.isArray)(s)&&s.includes(a))?(0,l.jsx)("video",{className:"nelio-content-social-message-threads-preview__image",src:i[0],autoPlay:!0,loop:!0,muted:!0}):(0,l.jsx)("div",{className:"nelio-content-social-message-threads-preview__media-carousel",children:i.map((e,t)=>(0,l.jsx)("div",{className:"nelio-content-social-message-threads-preview__media-item",children:n(e)?(0,l.jsx)("img",{className:"nelio-content-social-message-threads-preview__media-item-image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:e}):(0,l.jsx)("video",{className:"nelio-content-social-message-threads-preview__media-item-video",src:e,autoPlay:!0,loop:!0,muted:!0})},t))});var a},Fi=({activeProfile:{id:e,displayName:t},image:s,video:i,type:n,schedule:a,textComputed:o})=>{const[c,d]=(0,r.useState)(0),m=(0,g.compact)([...(0,g.castArray)(null!=s?s:[])]),u=(0,g.compact)([...(0,g.castArray)(null!=i?i:[])]);return(0,r.useEffect)(()=>{m.length&&c>m.length-1&&d(0)},[m]),(0,l.jsxs)("div",{className:"nelio-content-social-message-tiktok-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-tiktok-preview__image",children:[!u.length&&("video"===n||"text"===n)&&(0,l.jsx)("div",{className:"nelio-content-social-message-tiktok-preview__image-placeholder",children:(0,l.jsx)(Lt.Dashicon,{className:"nelio-content-social-message-tiktok-preview__image-icon",icon:"format-video"})}),!m.length&&"image"===n&&(0,l.jsx)("div",{className:"nelio-content-social-message-tiktok-preview__image-placeholder",children:(0,l.jsx)(Lt.Dashicon,{className:"nelio-content-social-message-tiktok-preview__image-icon",icon:"format-image"})}),!!u.length&&"video"===n&&(0,l.jsx)("video",{className:"nelio-content-social-message-tiktok-preview__actual-image",src:u[0],autoPlay:!0,loop:!0,muted:!0}),!!m.length&&"image"===n&&(0,l.jsx)("img",{className:"nelio-content-social-message-tiktok-preview__actual-image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:m[c]}),m.length>1&&0!==c&&"image"===n&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-tiktok-preview__previous-image-action",icon:"arrow-left-alt2",onClick:()=>d(c-1)}),m.length>1&&c!==m.length-1&&"image"===n&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-tiktok-preview__next-image-action",icon:"arrow-right-alt2",onClick:()=>d(c+1)}),m.length>1&&"image"===n&&(0,l.jsx)("div",{className:"nelio-content-social-message-tiktok-preview__image-dots",children:(0,g.range)(0,m.length).map(e=>(0,l.jsx)("div",{className:$s("nelio-content-social-message-tiktok-preview__image-dot",{"nelio-content-social-message-tiktok-preview__image-dot--current":c===e})},e))})]}),(0,l.jsxs)("div",{className:"nelio-content-social-message-tiktok-preview__content",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-tiktok-preview__profile-and-name",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:e,isNetworkHidden:!0}),(0,l.jsx)("div",{className:"nelio-content-social-message-tiktok-preview__display-name",children:t})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:o,linkBeautifier:e=>e.replace(/https?:\/\/([^\/]+).*/,"$1")}),(0,l.jsx)("div",{className:"nelio-content-social-message-tiktok-preview__date",children:(0,Hs.dateI18n)((0,At._x)("F j, Y","text (Tiktok preview date)","nelio-content"),a)})]})]})},$i=()=>{const{sharedLinkStatus:e,sharedLink:{domain:t,excerpt:s,image:i,title:n}={}}=cs("first","tumblr");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"ready":return(0,l.jsxs)("div",{className:"nelio-content-tumblr-shared-link",children:[!!i&&(0,l.jsxs)("div",{className:"nelio-content-tumblr-shared-link__image",children:[(0,l.jsx)("img",{alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:i}),(0,l.jsx)("div",{className:"nelio-content-tumblr-shared-link__signature",children:t})]}),(0,l.jsxs)("div",{className:"nelio-content-tumblr-shared-link__content",children:[(0,l.jsx)("div",{className:"nelio-content-tumblr-shared-link__title",children:n}),!!s&&(0,l.jsx)("div",{className:"nelio-content-tumblr-shared-link__excerpt",children:s})]})]});default:return null}},qi=({activeProfile:{id:e,username:t},image:s,textComputed:i,type:n})=>{const a=(0,g.compact)([...(0,g.castArray)(null!=s?s:[])]);return(0,l.jsxs)("div",{className:"nelio-content-social-message-tumblr-preview",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-tumblr-preview__profile",children:(0,l.jsx)(js.SocialProfileIcon,{profileId:e,isNetworkHidden:!0})}),(0,l.jsxs)("div",{className:"nelio-content-social-message-tumblr-preview__wrapper",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-tumblr-preview__name",children:t}),"image"===n?(0,l.jsx)("img",{className:"nelio-content-social-message-tumblr-preview__image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:a[0]}):(0,l.jsx)($i,{}),(0,l.jsx)(js.SocialMessageTextPreview,{value:i,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}})]})]})},Gi=()=>{const{sharedLinkStatus:e,sharedLink:{title:t,image:s,excerpt:i,domain:n}={}}=cs("last","twitter");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"ready":return s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"nelio-content-twitter-shared-link-with-image",children:[(0,l.jsx)("img",{className:"nelio-content-twitter-shared-link-with-image__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:s}),(0,l.jsx)("div",{className:"nelio-content-twitter-shared-link-with-image__title-container",children:(0,l.jsx)("div",{className:"nelio-content-twitter-shared-link-with-image__title",children:t})})]}),(0,l.jsx)("div",{className:"nelio-content-twitter-shared-link-with-image__domain",children:(0,At.sprintf)(/* translators: %s: Domain. */ /* translators: %s: Domain. */
(0,At._x)("From %s","text","nelio-content"),n)})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"nelio-content-twitter-shared-link",children:[(0,l.jsx)("div",{className:"nelio-content-twitter-shared-link__logo",children:(0,l.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:(0,l.jsx)("g",{children:(0,l.jsx)("path",{d:"M1.998 5.5c0-1.38 1.119-2.5 2.5-2.5h15c1.381 0 2.5 1.12 2.5 2.5v13c0 1.38-1.119 2.5-2.5 2.5h-15c-1.381 0-2.5-1.12-2.5-2.5v-13zm2.5-.5c-.276 0-.5.22-.5.5v13c0 .28.224.5.5.5h15c.276 0 .5-.22.5-.5v-13c0-.28-.224-.5-.5-.5h-15zM6 7h6v6H6V7zm2 2v2h2V9H8zm10 0h-4V7h4v2zm0 4h-4v-2h4v2zm-.002 4h-12v-2h12v2z"})})})}),(0,l.jsxs)("div",{className:"nelio-content-twitter-shared-link__content",children:[(0,l.jsx)("div",{className:"nelio-content-twitter-shared-link__domain",children:n}),(0,l.jsx)("div",{className:"nelio-content-twitter-shared-link__title",children:t}),(0,l.jsx)("div",{className:"nelio-content-twitter-shared-link__excerpt",children:i})]})]})});default:return null}},Hi=e=>{const{activeProfile:{id:t,displayName:s,username:i},dateValue:n,schedule:a,textComputed:o,timeValue:r,type:c}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-twitter-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-twitter-preview__profile",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:t,isNetworkHidden:!0}),(0,l.jsxs)("div",{className:"nelio-content-social-message-twitter-preview__name-info",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-twitter-preview__display-name",children:s}),(0,l.jsx)("div",{className:"nelio-content-social-message-twitter-preview__username",children:i})]})]}),(0,l.jsx)(js.SocialMessageTextPreview,{value:o,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}}),["image","video"].includes(c)?(0,l.jsx)(Yi,Object.assign({},e)):(0,l.jsx)(Gi,{}),(0,l.jsxs)("div",{className:"nelio-content-social-message-twitter-preview__date",children:[!!n&&!!r&&(0,Hs.dateI18n)((0,At._x)("g:i A · d M Y","text (Twitter preview date)","nelio-content"),a),!!n&&!r&&(0,Hs.dateI18n)((0,At._x)("d M Y","text (Twitter preview date)","nelio-content"),a),!n&&(0,At._x)("Someday","text","nelio-content")]})]})},Yi=e=>{const{image:t,video:s,type:i}=e,n=(0,g.compact)([...(0,g.castArray)(null!=t?t:[])]),a=(0,g.compact)([...(0,g.castArray)(null!=s?s:[])]);return"video"===i?(0,l.jsx)("video",{className:"nelio-content-social-message-twitter-preview__image",src:a[0],autoPlay:!0,loop:!0,muted:!0}):"image"===i&&n.length>=4?(0,l.jsxs)("div",{className:"nelio-content-social-message-twitter-preview__media-group nelio-content-social-message-twitter-preview__media-group--vertical",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-twitter-preview__media-pair",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-twitter-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-twitter-preview__image nelio-content-social-message-twitter-preview__image--top-left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[0]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-twitter-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-twitter-preview__image nelio-content-social-message-twitter-preview__image--top-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[1]})})]}),(0,l.jsxs)("div",{className:"nelio-content-social-message-twitter-preview__media-pair",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-twitter-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-twitter-preview__image nelio-content-social-message-twitter-preview__image--bottom-left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[2]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-twitter-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-twitter-preview__image nelio-content-social-message-twitter-preview__image--bottom-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[3]})})]})]}):"image"===i&&3===n.length?(0,l.jsxs)("div",{className:"nelio-content-social-message-twitter-preview__media-group",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-twitter-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-twitter-preview__image nelio-content-social-message-twitter-preview__image--left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[0]})}),(0,l.jsxs)("div",{className:"nelio-content-social-message-twitter-preview__media-pair nelio-content-social-message-twitter-preview__media-pair--vertical",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-twitter-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-twitter-preview__image nelio-content-social-message-twitter-preview__image--top-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[1]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-twitter-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-twitter-preview__image nelio-content-social-message-twitter-preview__image--bottom-right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[2]})})]})]}):"image"===i&&2===n.length?(0,l.jsxs)("div",{className:"nelio-content-social-message-twitter-preview__media-pair",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-twitter-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-twitter-preview__image nelio-content-social-message-twitter-preview__image--left",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[0]})}),(0,l.jsx)("div",{className:"nelio-content-social-message-twitter-preview__media-item",children:(0,l.jsx)("img",{className:"nelio-content-social-message-twitter-preview__image nelio-content-social-message-twitter-preview__image--right",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[1]})})]}):(0,l.jsx)("img",{className:"nelio-content-social-message-twitter-preview__image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:n[0]})},zi=()=>{const{sharedLinkStatus:e,sharedLink:{domain:t,image:s,title:i}={}}=cs("last","vk");switch(e){case"loading":return(0,l.jsx)(Ws,{});case"no-url":default:return null;case"ready":return(0,l.jsxs)("div",{className:"nelio-content-vk-shared-link",children:[s?(0,l.jsx)("img",{className:"nelio-content-vk-shared-link__image",alt:(0,At._x)("Featured image in shared link","text","nelio-content"),src:s}):(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"nelio-content-vk-shared-link__content",children:[(0,l.jsx)("div",{className:"nelio-content-vk-shared-link__title",children:i}),(0,l.jsx)("div",{className:"nelio-content-vk-shared-link__signature",children:t})]})]})}},Wi=e=>{const{activeProfile:{id:t,displayName:s},schedule:i,textComputed:n,type:a}=e;return(0,l.jsxs)("div",{className:"nelio-content-social-message-vk-preview",children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-vk-preview__profile-and-date",children:[(0,l.jsx)(js.SocialProfileIcon,{profileId:t,isNetworkHidden:!0}),(0,l.jsxs)("div",{className:"nelio-content-social-message-vk-preview__name-and-date",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-vk-preview__display-name",children:s}),(0,l.jsx)("div",{className:"nelio-content-social-message-vk-preview__date",children:(0,Hs.dateI18n)((0,At._x)("F j, Y","VK preview date","nelio-content"),i)})]})]}),["image","video","multi-media"].includes(a)?(0,l.jsx)(Qi,Object.assign({},e)):(0,l.jsx)(zi,{}),(0,l.jsx)(js.SocialMessageTextPreview,{value:n,linkBeautifier:e=>{const t=e.replace(/^(https?:\/\/[^\/]+.{0,15}).*/,"$1");return t===e?t.replace(/^https?:\/\//,""):t.replace(/^https?:\/\//,"")+"…"}})]})},Qi=e=>{const{image:t,video:s}=e,[i,n]=(0,r.useState)(0),a=(0,g.compact)([...(0,g.castArray)(null!=t?t:[]),...(0,g.castArray)(null!=s?s:[])]);return(0,r.useEffect)(()=>{i>a.length-1&&n(0)},[a]),(0,l.jsxs)("div",{className:"nelio-content-social-message-vk-preview__container",children:[!!a.length&&(o=a[i],t===o||(0,g.isArray)(t)&&t.includes(o))&&(0,l.jsx)("img",{className:"nelio-content-social-message-vk-preview__actual-image",alt:(0,At._x)("Image that will be shared with this message.","text","nelio-content"),src:a[i]}),!!a.length&&(e=>s===e||(0,g.isArray)(s)&&s.includes(e))(a[i])&&(0,l.jsx)("video",{className:"nelio-content-social-message-vk-preview__actual-image",src:a[i],autoPlay:!0,loop:!0,muted:!0}),a.length>1&&0!==i&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-vk-preview__previous-image-action",icon:"arrow-left-alt2",onClick:()=>n(i-1)}),a.length>1&&i!==a.length-1&&(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-vk-preview__next-image-action",icon:"arrow-right-alt2",onClick:()=>n(i+1)}),a.length>1&&(0,l.jsxs)("div",{className:"nelio-content-social-message-vk-preview__image-counter",children:[i+1,"/",a.length]})]});var o},Ki=()=>{const[e]=ls(),t=rs(),s=(0,k.getAllUrls)(t.textComputed),i=Dt();if((e=>{const[t,s]=(0,r.useState)(),{loadLink:i}=(0,c.useDispatch)(u.store),[n]=es();(0,r.useEffect)(()=>{clearTimeout(t),s(setTimeout(()=>e.filter(e=>!(null==n?void 0:n.permalink)||!us(e,null==n?void 0:n.permalink)).forEach(e=>{i(e)}),1e3))},[e.join("; ")])})(s),!(0,p.doesNetworkRequire)("preview",i)){if(!e)return null;if(!(0,p.doesNetworkSupport)("preview",i))return null}if(!t.activeProfile)return(0,l.jsx)(fi,{});const n=function(e){switch(e.network){case"band":return Ys;case"blogger":return zs;case"bluesky":return Ks;case"discord":return ii;case"slack":return Mi;case"twitter":return Hi;case"facebook":return oi;case"gmb":return ri;case"linkedin":return pi;case"instagram":return di;case"ok":return ji;case"pinterest":return Ni;case"plurk":return Ti;case"reddit":return Pi;case"telegram":return Vi;case"medium":return bi;case"threads":return Di;case"tiktok":return Fi;case"tumblr":return qi;case"mastodon":return _i;case"vk":return Wi}}(t.activeProfile);return n?(0,l.jsx)("div",{className:"nelio-content-social-message-preview",children:(0,l.jsx)(n,Object.assign({},t,{activeProfile:t.activeProfile}))}):null},Xi=({disabled:e})=>{const[t]=Ft(),[s]=Xt(),[i,n]=(()=>{const e=d(e=>e(Mt).getPlurkQualifier()),{setPlurkQualifier:t}=(0,c.useDispatch)(Mt);return[e,t]})();return"plurk"!==t?null:s?(0,l.jsx)("div",{className:$s({"nelio-content-social-message-editor__plurk-qualifier-selector":!0}),children:(0,l.jsx)(Lt.SelectControl,{label:(0,At._x)("Plurk Qualifier","text","nelio-content"),help:(0,At._x)("The qualifier comes before the message content","text","nelio-content"),options:Ji,disabled:e,value:null!=i?i:"shares",onChange:e=>n(e)})}):null},Ji=[{value:"plays",label:"Plays"},{value:"buys",label:"Buys"},{value:"sells",label:"Sells"},{value:"loves",label:"Loves"},{value:"likes",label:"Likes"},{value:"shares",label:"Shares"},{value:"hates",label:"Hates"},{value:"wants",label:"Wants"},{value:"wishes",label:"Wishes"},{value:"needs",label:"Needs"},{value:"has",label:"Has"},{value:"will",label:"Will"},{value:"hopes",label:"Hopes"},{value:"asks",label:"Asks"},{value:"wonders",label:"Wonders"},{value:"feels",label:"Feels"},{value:"thinks",label:"Thinks"},{value:"draws",label:"Draws"},{value:"is",label:"Is"},{value:"says",label:"Says"},{value:"eats",label:"Eats"},{value:"writes",label:"Writes"},{value:"whispers",label:"Whispers"}],Zi=({disabled:e})=>{const t=d(e=>!e(Mt).isNewMessage()&&!e(u.store).isSubscribed()),[s]=Ft(),[i]=ps(),n=(0,k.isAutoSelectedUuid)(i[0])?i[0].value:i[0],a=en(),o=ws(n)[0],r=1<gs().length,c=(0,p.doesNetworkSupport)("multi-target",s);return r||c?(0,l.jsx)(js.SocialProfileSelector,{className:"nelio-content-single-profile-selector",isProfileLocked:t,disabled:e,network:s,profileId:n,targetName:o,onChange:({profileId:e,targetName:t})=>e?a(e,t):void 0}):null},en=()=>{const{selectSingleSocialProfile:e,selectSingleTarget:t}=(0,c.useDispatch)(Mt);return(s,i)=>i?t(s,i):e(s)},tn=({disabled:e,isActive:t,isSelected:s,network:i,onSelect:n})=>{const a=gs(),[o,r]=ps(),c=(0,p.doesNetworkSupport)("multi-target",i),d=o.filter(k.isUuid),m=a.filter(e=>e.network===i);return(0,l.jsxs)("div",{className:$s({"nelio-content-multiple-profile-selector__network":!0,"nelio-content-multiple-profile-selector__network--has-arrow":t,"nelio-content-multiple-profile-selector__network--is-disabled":e,[`nelio-content-multiple-profile-selector__network--is-${i}`]:!0,[`nelio-content-multiple-profile-selector__network--is-${i}-active`]:t,[`nelio-content-multiple-profile-selector__network--is-${i}-selected`]:s,[`nelio-content-multiple-profile-selector__network--is-${i}-disabled`]:e}),children:[(0,l.jsx)("input",{type:"radio",id:"nelio-content-multiple-profile-selector__network-input-field",className:"nelio-content-multiple-profile-selector__network-input-field",disabled:e,value:i,onChange:e=>e.target.checked&&n(),checked:t,onDoubleClick:()=>{c||(m.filter(e=>d.includes(e.id)).length===m.length?m.forEach(e=>r(e.id)):m.forEach(e=>d.includes(e.id)||r(e.id)))},title:(0,p.getNetworkLabel)("name",i)||void 0}),(0,l.jsx)("span",{className:"screen-reader-text",children:i})]})},sn=({disabled:e})=>{const[t,s]=Ft(),i=d(e=>{const{getAvailableSocialNetworks:t,isSubscribed:s}=e(u.store),i=t();if(s())return i;const{getSocialProfiles:n}=e(u.store),a=n(),{getDisabledProfileIds:o}=e(Mt),l=o(),r=(0,g.filter)(a,({id:e})=>!l.includes(e)),c=(0,g.uniq)((0,g.map)(r,"network"));return(0,g.intersection)(i,c)}),n=d(e=>e(Mt).getSelectedSocialNetworks());return(0,l.jsxs)("div",{className:"nelio-content-multiple-profile-selector__networks",children:[(0,l.jsx)("p",{className:"screen-reader-text",children:(0,At._x)("Select the network whose profiles you want to use:","user","nelio-content")}),i.map(i=>(0,l.jsx)(tn,{network:i,disabled:e,isSelected:n.includes(i),isActive:i===t,onSelect:()=>s(i)},i))]})},nn=({disabled:e,profileId:t})=>{const s=(0,u.useSocialProfile)(t),[i,n]=ps(),a=ws(t),{openTargetSelector:o}=(0,c.useDispatch)(Mt),r=i.filter(k.isUuid),d=a.length,m=!!d,g=(0,k.isAutoSelectedUuid)(i[0]),h=!g&&!r.length,x=r.includes(t)||m,{alias:v,displayName:_="",network:w}=s||{},b=(0,p.doesNetworkSupport)("multi-target",w);return(0,l.jsx)(Lt.Tooltip,{text:null!=v?v:_,delay:0,children:(0,l.jsxs)("li",{className:$s({"nelio-content-multiple-profile-selector__profile":!0,"nelio-content-multiple-profile-selector__profile--is-pulsing":h,"nelio-content-multiple-profile-selector__profile--is-auto-selected":g,"nelio-content-multiple-profile-selector__profile--is-selected":x,"nelio-content-multiple-profile-selector__profile--is-disabled":e,"nelio-content-multiple-profile-selector__profile--is-multi-target":b}),children:[(0,l.jsx)("span",{className:"screen-reader-text",children:`${null!=v?v:_}: `}),b?(0,l.jsx)("input",{className:"nelio-content-multiple-profile-selector__profile-input-field",disabled:e,type:"button",value:w?(0,p.getTargetLabel)("selectTargets",w):"",onClick:()=>o(t)}):(0,l.jsx)("input",{className:"nelio-content-multiple-profile-selector__profile-input-field",disabled:e,type:"checkbox",checked:!!x,onChange:()=>n(t)}),(0,l.jsxs)("div",{className:"nelio-content-multiple-profile-selector__icon-and-indicator",children:[(0,l.jsx)(js.SocialProfileIcon,{className:$s({"nelio-content-multiple-profile-selector__profile-icon":!0,"nelio-content-multiple-profile-selector__profile-icon--is-pulsing":h,"nelio-content-multiple-profile-selector__profile-icon--is-auto-selected":g,"nelio-content-multiple-profile-selector__profile-icon--is-selected":x}),profileId:t,isNetworkHidden:!0}),(0,l.jsx)("div",{className:$s({"nelio-content-multiple-profile-selector__profile-indicator":!0,"nelio-content-multiple-profile-selector__profile-indicator--is-pulsing":h,"nelio-content-multiple-profile-selector__profile-indicator--is-auto-selected":g,"nelio-content-multiple-profile-selector__profile-indicator--is-selected":x,"nelio-content-multiple-profile-selector__profile-indicator--uses-targets":b,[`nelio-content-multiple-profile-selector__profile-indicator--has-${d<10?d:"9-plus"}-selected-targets`]:!!d})})]})]})})},an=({disabled:e})=>{const[t]=Ft(),s=gs();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"screen-reader-text",children:(0,At._x)("Select one or more profiles:","text","nelio-content")}),(0,l.jsx)("ul",{className:$s({"nelio-content-multiple-profile-selector__profiles":!0,"nelio-content-multiple-profile-selector__profiles--is-disabled":e}),children:s.filter(e=>e.network===t).map(t=>(0,l.jsx)(nn,{profileId:t.id,disabled:e},t.id))})]})},on=({displayName:e,name:t,image:s,onClick:i,isSelected:n})=>(0,l.jsxs)("li",{className:"nelio-content-target-selector__target","data-name":t,children:[(0,l.jsx)(Lt.CheckboxControl,{className:"nelio-content-target-selector__checkbox",label:n?(0,l.jsx)("strong",{children:e}):e,checked:n,onChange:i}),(0,l.jsx)("div",{className:"nelio-content-target-selector__target-image",style:{backgroundImage:`url(${s||""})`}})]}),ln=()=>{const e=d(e=>{const{getSocialProfile:t,getTargetsInProfile:s}=e(u.store),{getProfileIdInTargetSelector:i,getSelectedTargetsInTargetSelector:n,isTargetSelectorVisible:a}=e(Mt),o=i();if(!o)return{isVisible:!1};const l=t(o);if(!a()||!l)return{isVisible:!1};const r=s(o);return{profileId:o,network:l.network,isLoading:!r,isVisible:!0,selectedTargetNames:n(),targets:r||[]}}),{closeTargetSelector:t,selectTargetInTargetSelector:s,setSelectedTargetsInProfile:i}=(0,c.useDispatch)(Mt),{isVisible:n}=e;if(!n)return null;const{profileId:a,network:o,isLoading:r,selectedTargetNames:m,targets:g}=e,h=t,x=s;return(0,l.jsxs)(Lt.Modal,{className:"nelio-content-target-selector",title:(0,p.getTargetLabel)("title",o),isDismissible:!1,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,onRequestClose:()=>{},children:[!!r&&(0,l.jsx)("p",{className:"nelio-content-target-selector__info",children:(0,p.getTargetLabel)("loading",o)}),!r&&(0,k.isEmpty)(g)&&(0,l.jsx)("p",{className:"nelio-content-target-selector__info",children:(0,p.getTargetLabel)("noTargetsExplanation",o)}),!r&&!(0,k.isEmpty)(g)&&(0,l.jsx)("p",{className:"nelio-content-target-selector__info",children:(0,p.getTargetLabel)("explanation",o)}),!r&&!(0,k.isEmpty)(g)&&(0,l.jsx)("ul",{className:"nelio-content-target-selector__targets",children:g.map(e=>(0,l.jsx)(on,Object.assign({isSelected:m.includes(e.name),onClick:()=>x(e.name,!m.includes(e.name))},e),e.name))}),(0,l.jsxs)("div",{className:"nelio-content-target-selector__actions",children:[(0,l.jsx)(Lt.Button,{variant:"secondary",className:"nelio-content-target-selector__cancel-action",onClick:h,children:(0,At._x)("Cancel","command","nelio-content")}),(0,l.jsx)(js.SaveButton,{className:"nelio-content-target-selector__save-action",disabled:r,onClick:()=>{i(a,m),t()}})]})]})},rn=({disabled:e})=>{const t="nelio-content-multiple-profile-selector",s=Ut("text");return(0,l.jsxs)("div",{className:$s({[t]:!0,[`${t}--has-text-support`]:s}),children:[(0,l.jsx)(sn,{disabled:e}),(0,l.jsx)(an,{disabled:e}),(0,l.jsx)(ln,{})]})},cn=({disabled:e})=>{const t=zt()?rn:Zi;return(0,l.jsx)(t,{disabled:e})},dn=({disabled:e})=>{const t="nelio-content-social-message-editor__related-post-controls",[s,i]=es(),n=ts(),a=d(e=>{const t=e(Mt).getEditorContext(),s=!e(Mt).isNewMessage(),i="none"!==e(Mt).getRelatedPostStatus().type;return"calendar"!==t||s&&!i}),o=ss(),{setRelatedPostStatus:r}=(0,c.useDispatch)(Mt),m=Ut("related-post"),p=(0,g.map)((0,u.usePostTypes)("social"),"name");return a?(0,l.jsx)("div",{className:t}):"ready"===o.type&&s?(0,l.jsxs)("div",{className:`${t} ${t}--has-related-post-link`,children:[(0,l.jsx)("strong",{children:(0,At._x)("Related Post:","text","nelio-content")+" "}),(0,l.jsx)(Lt.ExternalLink,{href:s.viewLink,children:(0,l.jsx)("span",{className:"nelio-content-related-post-link",children:s.title})})]}):m?"none"===o.type?(0,l.jsx)("div",{className:t,children:(0,l.jsx)(Lt.Button,{variant:"link",disabled:e,onClick:()=>r({type:"searcher"}),children:(0,At._x)("Share old post…","command","nelio-content")})}):"searcher"===o.type?(0,l.jsx)("div",{className:t,children:(0,l.jsx)(js.PostSearcher,{postTypes:p,disabled:e,value:n,onChange:e=>{e&&i(e)}})}):(0,l.jsx)("div",{className:t}):(0,l.jsx)("div",{className:t})},mn=()=>{const e=(0,p.getMessageLength)(as()),t=os(),s=t-e<=0,i=!s&&t-e<20;return(0,l.jsxs)("div",{className:"nelio-content-social-char-counter",children:[(0,l.jsx)("div",{className:$s({"nelio-content-social-char-counter__count":!0,"nelio-content-social-char-counter__count--is-warning":i,"nelio-content-social-char-counter__count--is-error":s}),children:Math.min(99,Math.abs(t-e))}),(0,l.jsxs)("svg",{className:"nelio-content-social-char-counter__circle",children:[(0,l.jsx)("circle",{className:"nelio-content-social-char-counter__circle-base",cx:"50%",cy:"50%",r:"8",fill:"none",strokeWidth:"1"}),(0,l.jsx)("circle",{className:$s({"nelio-content-social-char-counter__circle-arc":!0,"nelio-content-social-char-counter__circle-arc--is-warning":i,"nelio-content-social-char-counter__circle-arc--is-error":s}),cx:"50%",cy:"50%",r:"8",fill:"none",strokeWidth:"2",style:{strokeDashoffset:50*(1-Math.min(1,e/t)),strokeDasharray:50}})]})]})},un=({disabled:e})=>Ut("text")?(0,l.jsx)("div",{className:$s({"nelio-content-social-message-editor__char-counter-wrapper":!0,"nelio-content-social-message-editor__char-counter-wrapper--is-disabled":e}),children:(0,l.jsx)(mn,{})}):null,gn=window.wp.mediaUtils;let pn;const hn=()=>{"function"==typeof pn&&pn()},xn=({disabled:e})=>{var t;const s=Ut("image"),i=Ut("multi-image"),n=$t(),a=Dt(),o=d(e=>e(Mt).hasExplicitImage()),{setImages:r}=(0,c.useDispatch)(Mt),{receiveMediaUploadItem:m}=(0,c.useDispatch)(u.store);return s?["image","multi-media"].includes(n)?(0,l.jsx)(vn,{disabled:e}):o?(0,l.jsx)(kn,{disabled:e}):(0,l.jsx)(gn.MediaUpload,{title:(0,At.sprintf)(/* translators: %s: Social network name. */ /* translators: %s: Social network name. */
(0,At._x)("Select or Upload Image Files for %s","command","nelio-content"),(0,p.getNetworkLabel)("name",a)),allowedTypes:[...null!==(t=(0,p.getSupportedImageTypes)(a))&&void 0!==t?t:"image"],multiple:!!i&&"add",onSelect:e=>{(e=(0,g.isArray)(e)?e:[e]).forEach(e=>{m(e)}),r(a,e.map(e=>e.id),e.map(e=>e.url),e.map(e=>e.alt))},render:({open:t})=>(0,l.jsx)(wn,{disabled:e,onClick:t})}):null},vn=({disabled:e})=>{const{removeImages:t}=(0,c.useDispatch)(Mt);return(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-editor__quick-action nelio-content-social-message-editor__quick-action--is-toggled",icon:"format-image",label:(0,At._x)("Remove Image","command","nelio-content"),tooltipPosition:"bottom center",isPressed:!0,disabled:e,onClick:t})},wn=({disabled:e,onClick:t})=>(0,l.jsx)(Lt.DropdownMenu,{className:$s({"nelio-content-social-message-editor__image-dropdown":!0,"nelio-content-social-message-editor__quick-action":!0}),icon:"format-image",label:(0,At._x)("Add Image…","command","nelio-content"),toggleProps:{tooltipPosition:"bottom center",disabled:e},popoverProps:{onClick:hn,onFocusOutside:hn},children:({onClose:e})=>(pn=e,(0,l.jsxs)(Lt.MenuGroup,{children:[(0,l.jsx)(bn,{closeMenu:e,openMediaLibrary:t}),(0,l.jsx)(fn,{closeMenu:e})]}))}),bn=({openMediaLibrary:e,closeMenu:t})=>(0,l.jsx)(Lt.MenuItem,{role:"menuitem",onClick:()=>{t(),e()},children:(0,At._x)("Media Library","text","nelio-content")}),fn=({closeMenu:e})=>{const{showImageUrlSelector:t}=(0,c.useDispatch)(Mt);return(0,l.jsx)(Lt.MenuItem,{role:"menuitem",onClick:()=>{e(),t(!0)},children:(0,At._x)("URL","text","nelio-content")})},kn=({disabled:e})=>{const t=Dt(),{switchMessageType:s}=(0,c.useDispatch)(Mt);return(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-editor__quick-action",icon:"format-image",label:(0,At._x)("Use Image","command","nelio-content"),tooltipPosition:"bottom center",disabled:e,onClick:()=>s(t,"image")})},jn=({disabled:e})=>{var t;const s=Ut("video"),i=Ut("multi-media"),n=$t(),a=Dt(),o=d(e=>e(Mt).hasExplicitVideo()),{setVideos:r}=(0,c.useDispatch)(Mt),{receiveMediaUploadItem:m}=(0,c.useDispatch)(u.store);return s?["video","multi-media"].includes(n)?(0,l.jsx)(yn,{disabled:e}):o?(0,l.jsx)(Sn,{disabled:e}):(0,l.jsx)(gn.MediaUpload,{title:(0,At.sprintf)(/* translators: %s: Social network name. */ /* translators: %s: Social network name. */
(0,At._x)("Select or Upload Video Files for %s","command","nelio-content"),(0,p.getNetworkLabel)("name",a)),allowedTypes:[...null!==(t=(0,p.getSupportedVideoTypes)(a))&&void 0!==t?t:"video"],multiple:!!i&&"add",onSelect:e=>{(e=(0,g.isArray)(e)?e:[e]).forEach(e=>{m(e)}),r(a,e.map(e=>e.id),e.map(e=>e.url),e.map(e=>e.alt))},render:({open:t})=>(0,l.jsx)(Nn,{disabled:e,onClick:t})}):null},yn=({disabled:e})=>{const{removeVideo:t}=(0,c.useDispatch)(Mt);return(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-editor__quick-action nelio-content-social-message-editor__quick-action--is-toggled",icon:"video-alt2",label:(0,At._x)("Remove Video","command","nelio-content"),tooltipPosition:"bottom center",isPressed:!0,disabled:e,onClick:t})},Nn=({label:e,disabled:t,onClick:s})=>(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-editor__quick-action",icon:"video-alt2",label:null!=e?e:(0,At._x)("Add Video…","command","nelio-content"),tooltipPosition:"bottom center",disabled:t,onClick:s}),Sn=({disabled:e})=>{const t=Dt(),{switchMessageType:s}=(0,c.useDispatch)(Mt);return(0,l.jsx)(Lt.Button,{className:"nelio-content-social-message-editor__quick-action",icon:"video-alt2",label:(0,At._x)("Use Video","command","nelio-content"),tooltipPosition:"bottom center",disabled:e,onClick:()=>s(t,"video")})},Tn=({disabled:e})=>{const t=Ut("medium-tags"),s=(0,u.useIsSubscribed)(),[i,n]=Wt();return t&&s?(0,l.jsx)(Lt.Button,{className:$s({"nelio-content-social-message-editor__quick-action":!0,"nelio-content-social-message-editor__quick-action--are-media-tags":!0,"nelio-content-social-message-editor__quick-action--is-toggled":i}),icon:"nametag",label:(0,At._x)("Medium Tags","text","nelio-content"),tooltipPosition:"bottom center",isPressed:i,disabled:e,onClick:()=>n(!i)}):null},In=({disabled:e})=>{const[t]=Ft(),s=(0,u.useIsSubscribed)(),[i,n]=Xt();return"plurk"!==t?null:s?(0,l.jsx)(Lt.Button,{className:$s({"nelio-content-social-message-editor__quick-action":!0,"nelio-content-social-message-editor__quick-action--is-plurk-qualifier":!0,"nelio-content-social-message-editor__quick-action--is-toggled":i}),icon:"flag",label:(0,At._x)("Plurk Qualifier","text","nelio-content"),tooltipPosition:"bottom center",isPressed:i,disabled:e,onClick:()=>n(!i)}):null},Pn=({disabled:e})=>{const t=Dt(),[s,i]=Kt();return"tiktok"!==t?null:(0,l.jsx)(Lt.Button,{className:$s({"nelio-content-social-message-editor__quick-action":!0,"nelio-content-social-message-editor__quick-action--are-tiktok-settings":!0,"nelio-content-social-message-editor__quick-action--is-toggled":s}),icon:"admin-settings",label:(0,At._x)("TikTok Settings","text","nelio-content"),tooltipPosition:"bottom center",isPressed:s,disabled:e,onClick:()=>i(!s)})};let On;const En=()=>{"function"==typeof On&&On()},Cn=({disabled:e})=>{const t=Ut("text"),[s]=es(),{published:i,pending:n}=d(e=>{const{getPostId:t}=e(Mt),s=t();if(!s)return{published:[],pending:[]};const{getSocialMessagesRelatedToPost:i}=e(u.store),n=i(s),a=(0,g.filter)(n,e=>"publish"===e.status),o=(0,g.filter)(n,e=>"publish"!==e.status);return{published:(0,g.uniq)((0,g.map)(a,"text")),pending:(0,g.uniq)((0,g.map)(o,"text"))}}),a=d(e=>{const t=e(Mt).getPostId(),s=e(u.store).isResolving("getPostRelatedItems",[t]);return!!t&&s}),[o,r]=ns(),c=!!i.length||!!n.length;return t&&s?(0,l.jsx)(Lt.DropdownMenu,{className:"nelio-content-social-message-editor__quick-action nelio-content-social-message-editor__existing-message-selector",icon:"backup",label:(0,At._x)("Previous Social Messages","text","nelio-content"),toggleProps:{disabled:e||!c,tooltipPosition:"bottom center"},popoverProps:{onFocusOutside:En},children:({onClose:e})=>{if(On=e,a)return(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__previous-messages-loader",children:[(0,l.jsx)(Lt.Spinner,Object.assign({},{isActive:!0})),(0,At._x)("Loading…","text","nelio-conent")]});const t=e=>80<e.length?(0,g.trim)(e.substring(0,75))+"…":e;return(0,l.jsxs)(l.Fragment,{children:[!!i.length&&(0,l.jsx)(Lt.MenuGroup,{label:(0,At._x)("Previous Social Messages","text","nelio-content"),children:i.map(s=>(0,l.jsx)(Lt.MenuItem,{role:"menuitem",onClick:()=>{e(),r(s)},children:t(s)},s))}),!!n.length&&(0,l.jsx)(Lt.MenuGroup,{label:(0,At._x)("Other Social Messages","text","nelio-content"),children:n.map(s=>(0,l.jsx)(Lt.MenuItem,{role:"menuitem",onClick:()=>{e(),r(s)},children:t(s)},s))})]})}}):null},Mn=({disabled:e})=>{const t=Ut("recurrence"),s=d(e=>"toggeable"===e(Mt).getRecurrenceMode()),i=(0,u.useIsSubscribed)(),[n,a]=hs();return t&&s&&i?(0,l.jsx)(Lt.Button,{className:$s({"nelio-content-social-message-editor__quick-action":!0,"nelio-content-social-message-editor__quick-action--is-recurring":!0,"nelio-content-social-message-editor__quick-action--is-toggled":n}),icon:"controls-repeat",label:(0,At._x)("Recurring Message","text","nelio-content"),tooltipPosition:"bottom center",isPressed:n,disabled:e,onClick:()=>a(!n)}):null};let Ln;const An=()=>{"function"==typeof Ln&&Ln()},Vn=({disabled:e})=>{const t=Ut("text"),[s]=es(),[i,n]=ns(),a=(0,g.values)(null==s?void 0:s.customFields),o=(0,g.values)(null==s?void 0:s.customPlaceholders),r=is("author",s),c=is("excerpt",s),m=(e=>d(t=>{var s;const{getEntityRecords:i}=t(Jt.store);return(null!==(s=i("root","taxonomy",{per_page:-1}))&&void 0!==s?s:[]).filter(e=>!!e).filter(t=>{var s;return t.visibility.public&&t.types.includes(null!==(s=null==e?void 0:e.type)&&void 0!==s?s:"")})}))(s),u=!!a.length,p=!!o.length;return t?(0,k.isEmpty)(s)?null:(0,l.jsx)(Lt.DropdownMenu,{className:"nelio-content-social-message-editor__quick-action nelio-content-social-message-editor__add-placeholder",icon:"tag",label:(0,At._x)("Placeholders","text","nelio-content"),toggleProps:{disabled:!s||!!e,tooltipPosition:"bottom center"},popoverProps:{onFocusOutside:An},children:({onClose:e})=>{Ln=e;const t=e=>n(/[^\s]$/.test(i)?`${i} ${e}`:`${i}${e}`);return(0,l.jsxs)(Lt.MenuGroup,{children:[(0,l.jsxs)(Lt.MenuGroup,{children:[(0,l.jsx)(Lt.MenuItem,{role:"menuitem",icon:"editor-textcolor",onClick:()=>t("{title}"),children:(0,At._x)("Add Title","command","nelio-content")}),r&&(0,l.jsx)(Lt.MenuItem,{role:"menuitem",icon:"admin-users",onClick:()=>t("{author}"),children:(0,At._x)("Add Author","command","nelio-content")}),c&&(0,l.jsx)(Lt.MenuItem,{role:"menuitem",icon:"text",onClick:()=>t("{excerpt}"),children:(0,At._x)("Add Excerpt","command","nelio-content")}),(0,l.jsx)(Lt.MenuItem,{role:"menuitem",icon:"admin-links",onClick:()=>t("{permalink}"),children:(0,At._x)("Add Permalink","command","nelio-content")})]}),!!m.length&&(0,l.jsx)(Lt.MenuGroup,{label:(0,At._x)("Taxonomies","text","nelio-content"),children:m.map(({slug:e,labels:s})=>(0,l.jsx)(Lt.MenuItem,{role:"menuitem",icon:Rn(e),onClick:()=>t(Bn(e)),children:(0,At.sprintf)(/* translators: %s: Taxonomy name. */ /* translators: %s: Taxonomy name. */
(0,At._x)("Add %s","command","nelio-content"),s.name)},e))}),u&&(0,l.jsx)(Lt.MenuGroup,{label:(0,At._x)("Custom fields","text","nelio-content"),children:a.map(({key:e,name:s})=>(0,l.jsx)(Lt.MenuItem,{role:"menuitem",icon:"welcome-widgets-menus",onClick:()=>t(`{field:${e}}`),children:(0,At.sprintf)(/* translators: %s: Custom field name. */ /* translators: %s: Custom field name. */
(0,At._x)("Add %s","command","nelio-content"),s)},e))}),p&&(0,l.jsx)(Lt.MenuGroup,{label:(0,At._x)("Custom placeholders","text","nelio-content"),children:o.map(({key:e,name:s})=>(0,l.jsx)(Lt.MenuItem,{role:"menuitem",icon:"plus-alt",onClick:()=>t(`{custom:${e}}`),children:(0,At.sprintf)(/* translators: %s: Custom placeholder name. */ /* translators: %s: Custom placeholder name. */
(0,At._x)("Add %s","command","nelio-content"),s)},e))})]})}}):null},Rn=e=>{switch(e){case"category":case"product_cat":return"category";case"post_tag":case"product_tag":return"tag";default:return"archive"}},Bn=e=>{switch(e){case"category":case"product_cat":return"{categories}";case"post_tag":case"product_tag":return"{tags}";default:return`{taxonomy:${e}}`}},Dn=({disabled:e})=>{const t=Dt(),s=(0,p.doesNetworkSupport)("preview",t)&&!(0,p.doesNetworkRequire)("preview",t),[i,n]=ls();return s?(0,l.jsx)(Lt.Button,{className:$s({"nelio-content-social-message-editor__quick-action":!0,"nelio-content-social-message-editor__quick-action--is-preview":!0,"nelio-content-social-message-editor__quick-action--is-toggled":i}),icon:"visibility",label:(0,At._x)("Preview","text","nelio-content"),tooltipPosition:"bottom center",isPressed:i,disabled:e,onClick:()=>n(!i)}):null};let Un;const Fn=()=>{"function"==typeof Un&&Un()},$n=({disabled:e})=>{const t=Ut("text"),[s]=es(),{recommendedTemplates:i,otherTemplates:n}=(e=>d(t=>{const{getSelectedSocialNetworks:s,getSelectedSocialProfiles:i,getSelectedTargetsInProfile:n}=t(Mt),a=i().map(e=>(0,k.isAutoSelectedUuid)(e)?e.value:e),o=s(),l=(0,g.flatten)((0,g.map)(a,n)),r=t(u.store).getSocialTemplates(e),c=(0,g.keyBy)((0,g.filter)(r,t=>(!!e||!t.text.includes("{permalink}"))&&bs(t.profileId,a)&&bs(t.network,o)&&bs(t.targetName,l)&&(!e||(!t.author||t.author===e.author)&&(0,g.values)((0,g.mapValues)(e.taxonomies,(e,s)=>!t.taxonomies[s]||!!(0,g.find)(e,{id:t.taxonomies[s]}))).every(Boolean))),"text"),d=(0,g.keys)(c),m=(0,g.keyBy)((0,g.filter)(r,e=>!d.includes(e.text)),"text");return{recommendedTemplates:(0,g.values)(c),otherTemplates:(0,g.values)(m)}}))(s),{setText:a}=(0,c.useDispatch)(Mt);if(!t)return null;const o=!!i.length,r=!!n.length;return o||r?(0,l.jsx)(Lt.DropdownMenu,{className:"nelio-content-social-message-editor__quick-action nelio-content-social-message-editor__use-template",icon:(0,l.jsx)(Gn,{}),label:(0,At._x)("Templates","command","nelio-content"),toggleProps:{disabled:!!e,tooltipPosition:"bottom center"},popoverProps:{onFocusOutside:Fn},children:({onClose:e})=>(Un=e,(0,l.jsxs)(Lt.MenuGroup,{children:[(0,l.jsx)(qn,{title:(0,At._x)("Recommended","text (templates)","nelio-content"),templates:i,onClick:t=>{e(),a(t)}}),(0,l.jsx)(qn,{title:o?(0,At._x)("Other Templates","text","nelio-content"):(0,At._x)("Available Templates","text","nelio-content"),templates:n,onClick:t=>{e(),a(t)}})]}))}):null},qn=({title:e,templates:t,onClick:s})=>t.length?e?(0,l.jsx)(Lt.MenuGroup,{label:e,children:t.map(({id:e,text:t})=>(0,l.jsx)(Lt.MenuItem,{role:"menuitem",onClick:()=>s(t),children:Hn(t)},`template-${e}`))}):(0,l.jsx)(l.Fragment,{children:t.map(({id:e,text:t})=>(0,l.jsx)(Lt.MenuItem,{role:"menuitem",onClick:()=>s(t),children:Hn(t)},`template-${e}`))}):null,Gn=()=>(0,l.jsx)("svg",{viewBox:"0 0 20 20",width:"20",height:"20",children:(0,l.jsx)("path",{d:"M 3 2 C 2.45 2 2 2.45 2 3 L 2 17 C 2 17.55 2.45 18 3 18 L 18 18 C 18.55 18 19 17.55 19 17 L 19 3 C 19 2.45 18.55 2 18 2 L 3 2 z M 4 4 L 17 4 L 17 16 L 4 16 L 4 4 z M 5 5 L 5 9 L 7 9 L 7 8 L 6 8 L 6 6 L 7 6 L 7 5 L 5 5 z M 8 5 L 8 6 L 9 6 L 9 5 L 8 5 z M 10 5 L 10 6 L 11 6 L 11 5 L 10 5 z M 12 5 L 12 6 L 13 6 L 13 5 L 12 5 z M 14 5 L 14 6 L 15 6 L 15 8 L 14 8 L 14 9 L 16 9 L 16 5 L 14 5 z M 8 8 L 8 9 L 9 9 L 9 8 L 8 8 z M 10 8 L 10 9 L 11 9 L 11 8 L 10 8 z M 12 8 L 12 9 L 13 9 L 13 8 L 12 8 z M 5 11 L 5 15 L 7 15 L 7 14 L 6 14 L 6 12 L 7 12 L 7 11 L 5 11 z M 8 11 L 8 12 L 9 12 L 9 11 L 8 11 z M 10 11 L 10 12 L 11 12 L 11 11 L 10 11 z M 12 11 L 12 12 L 13 12 L 13 11 L 12 11 z M 14 11 L 14 12 L 15 12 L 15 14 L 14 14 L 14 15 L 16 15 L 16 11 L 14 11 z M 8 14 L 8 15 L 9 15 L 9 14 L 8 14 z M 10 14 L 10 15 L 11 15 L 11 14 L 10 14 z M 12 14 L 12 15 L 13 15 L 13 14 L 12 14 z "})}),Hn=e=>80<e.length?(0,g.trim)(e.substring(0,75))+"…":e,Yn=({disabled:e})=>(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__quick-actions-wrapper",children:[(0,l.jsx)(dn,{disabled:e}),(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__quick-actions",children:[(0,l.jsx)(Cn,{disabled:e}),(0,l.jsx)($n,{disabled:e}),(0,l.jsx)(Vn,{disabled:e}),(0,l.jsx)(Mn,{disabled:e}),(0,l.jsx)(Tn,{disabled:e}),(0,l.jsx)(In,{disabled:e}),(0,l.jsx)(Pn,{disabled:e}),(0,l.jsx)(xn,{disabled:e}),(0,l.jsx)(jn,{disabled:e}),(0,l.jsx)(Dn,{disabled:e}),(0,l.jsx)(un,{disabled:e})]})]}),zn=()=>{const e=Ut("recurrence"),t=d(e=>"locked"!==e(Mt).getRecurrenceMode()),[s]=hs(),[i,n]=xs(),a=(()=>{const[e]=_s(),[t]=vs();return(0,u.useRecurrenceSummary)(e,t)})();return e&&s?(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__recurrence-summary",children:[(0,l.jsx)(Lt.Dashicon,{icon:"controls-repeat"}),(0,l.jsx)(Lt.VisuallyHidden,{children:(0,At._x)("Repeats","text","nelio-content")+": "})," ",t?(0,l.jsx)(Lt.Button,{variant:"link",onClick:()=>n(!0),children:a}):(0,l.jsx)(l.Fragment,{children:a})]}):null},Wn=()=>{const e=Qn(),[t,s]=_s();return(0,r.useEffect)(()=>{s((0,k.createRecurrenceContext)(e))},[s,e]),null},Qn=()=>{const e=rs().schedule,t=(0,u.useToday)(),s=d(e=>e(u.store).getSiteTimezone());return(e?(0,Hs.dateI18n)("Y-m-d",e,s):void 0)||t},Kn=({disabled:e})=>{const[t]=Ft(),s=qt(),[i]=Kt(),[n,a]=Qt(),o=Object.assign(Object.assign({},Xn),n);if("tiktok"!==t)return null;if(!i)return null;const c=s[t],d=[{value:"PUBLIC_TO_EVERYONE",label:(0,At._x)("Public","text","nelio-content")},{value:"MUTUAL_FOLLOW_FRIENDS",label:(0,At._x)("Friends","text","nelio-content")},{value:"FOLLOWER_OF_CREATOR",label:(0,At._x)("Followers","text","nelio-content")},{value:"SELF_ONLY",label:(0,At._x)("Private","text","nelio-content"),disabled:o.discloseContent&&o.isBrandContent}];return(0,l.jsxs)("div",{className:$s({"nelio-content-social-message-editor__tiktok-settings":!0}),children:[(0,l.jsx)(Lt.SelectControl,{label:"image"===c?(0,At._x)("Who can view these photos","text","nelio-content"):(0,At._x)("Who can view this video","text","nelio-content"),help:o.discloseContent&&(0,At._x)("Branded content visibility cannot be set to private.","text","nelio-content"),value:o.privacyLevel,disabled:e,options:d,onChange:e=>a(Object.assign(Object.assign(Object.assign({},o),{privacyLevel:e}),"SELF_ONLY"===e&&{isBrandContent:!1}))}),(0,l.jsx)(Lt.BaseControl,{id:"nelio-content-social-message-editor__tiktok-settings__user-capabilities",className:"nelio-content-social-message-editor__tiktok-settings__user-capabilities",label:(0,At._x)("Allow users to","text","nelio-content"),children:(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__tiktok-settings__user-capabilities-container",children:[(0,l.jsx)(Lt.CheckboxControl,{checked:!o.disableComment,label:(0,At._x)("Comment","action","nelio-content"),onChange:e=>a(Object.assign(Object.assign({},o),{disableComment:!e}))}),"image"!==c&&(0,l.jsx)(Lt.CheckboxControl,{checked:!o.disableDuet,label:(0,At._x)("Duet","action","nelio-content"),onChange:e=>a(Object.assign(Object.assign({},o),{disableDuet:!e}))}),"image"!==c&&(0,l.jsx)(Lt.CheckboxControl,{checked:!o.disableStitch,label:(0,At._x)("Stitch","action","nelio-content"),onChange:e=>a(Object.assign(Object.assign({},o),{disableStitch:!e}))})]})}),(0,l.jsx)(Lt.ToggleControl,{className:"nelio-content-social-message-editor__tiktok-settings__disclose-content",checked:o.discloseContent,label:"image"!==c?(0,At._x)("Disclose video content","action","nelio-content"):(0,At._x)("Disclose image content","action","nelio-content"),help:"image"!==c?(0,At._x)("Turn on to disclose that this video promotes goods or services in exchange for something of value. Your video could promote yourself, a third party, or both.","user","nelio-content"):(0,At._x)("Turn on to disclose that this image promotes goods or services in exchange for something of value. Your image could promote yourself, a third party, or both.","user","nelio-content"),onChange:e=>a(Object.assign(Object.assign({},o),{discloseContent:e}))}),o.discloseContent&&(0,l.jsx)(Lt.CheckboxControl,{checked:o.isBrandOrganic,label:(0,At._x)("Your brand","text","nelio-content"),help:"image"!==c?(0,At._x)("You are promoting yourself or your own business. This video will be classified as Brand Organic.","user","nelio-content"):(0,At._x)("You are promoting yourself or your own business. This image will be classified as Brand Organic.","user","nelio-content"),onChange:e=>a(Object.assign(Object.assign({},o),{isBrandOrganic:e}))}),o.discloseContent&&(0,l.jsx)(Lt.CheckboxControl,{checked:o.isBrandContent,disabled:"SELF_ONLY"===o.privacyLevel,label:(0,At._x)("Branded content","text","nelio-content"),help:"image"!==c?(0,At._x)("You are promoting another brand or a third party. This video will be classified as Branded Content.","user","nelio-content"):(0,At._x)("You are promoting another brand or a third party. This image will be classified as Branded Content.","user","nelio-content"),onChange:e=>a(Object.assign(Object.assign(Object.assign({},o),{isBrandContent:e}),e&&{privacyLevel:"PUBLIC_TO_EVERYONE"}))}),o.discloseContent&&(o.isBrandContent||o.isBrandOrganic)&&(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__tiktok-settings__disclosure-notice",children:[(0,l.jsx)("p",{children:(0,l.jsx)(Lt.Dashicon,{icon:"info"})}),(0,l.jsx)("p",{children:Jn(o,c)})]}),(0,l.jsx)("p",{children:(0,r.createInterpolateElement)(o.isBrandContent?(0,At._x)("By posting, you agree to TikTok’s <ttp>Branded Content Policy</ttp> and <ttm>Music Usage Confirmation</ttm>.","user","nelio-content"):(0,At._x)("By posting, you agree to TikTok’s <ttm>Music Usage Confirmation</ttm>.","user","nelio-content"),{ttp:(0,l.jsx)(Lt.ExternalLink,{href:"https://www.tiktok.com/legal/page/global/bc-policy/en"}),ttm:(0,l.jsx)(Lt.ExternalLink,{href:"https://www.tiktok.com/legal/page/global/music-usage-confirmation/en"})})})]})},Xn={privacyLevel:"PUBLIC_TO_EVERYONE",disableComment:!0,disableDuet:!0,disableStitch:!0,discloseContent:!1,isBrandContent:!1,isBrandOrganic:!1};function Jn(e,t){return e.isBrandOrganic&&!e.isBrandContent?"image"!==t?(0,At._x)('Your video will be labeled "Promotional content". This cannot be changed once your video is posted.',"text","nelio-content"):(0,At._x)('Your photo will be labeled "Promotional content". This cannot be changed once your photo is posted.',"text","nelio-content"):"image"!==t?(0,At._x)('Your video will be labeled "Paid partnership". This cannot be changed once your video is posted.',"text","nelio-content"):(0,At._x)('Your photo will be labeled "Paid partnership". This cannot be changed once your photo is posted.',"text","nelio-content")}const Zn=({disabled:e})=>{const{resetTime:t}=(0,c.useDispatch)(Mt);return(0,l.jsx)("div",{className:"nelio-content-social-message-editor__reset-time-button",children:(0,l.jsx)(Lt.Button,{variant:"link",disabled:e,onClick:t,children:(0,At._x)("Change","command","nelio-content")})})},ea=({disabled:e})=>{const[{timeValue:t},s]=Rt();return(0,l.jsx)(Lt.BaseControl,{id:"nelio-content-social-message-editor__time-selector",label:(0,At._x)("Time","text","nelio-content"),children:(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__time-selector",children:[(0,l.jsx)(js.TimeInput,{disabled:e,value:t,onChange:e=>s("exact",null!=e?e:"")}),(0,l.jsx)(Zn,{disabled:e})]})})},ta=({disabled:e})=>{const[{timeValue:t},s]=Rt(),i=Bt();return(0,l.jsx)(Lt.BaseControl,{id:"nelio-content-social-message-editor__time-selector",label:(0,At._x)("Time","text","nelio-content"),children:(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__time-selector",children:[(0,r.createInterpolateElement)(sa(i),{input:(0,l.jsx)(js.NumberControl,{className:"nelio-content-social-message-editor__positive-hours-selector",disabled:e,value:t,min:2,onChange:e=>s("positive-hours",void 0===e?"":`${e}`)})}),(0,l.jsx)(Zn,{disabled:e})]})})},sa=e=>e?(0,At.sprintf)(/* translators: %s: Number of hours. */ /* translators: %s: Number of hours. */
(0,At._x)("%s hours after publication.","text","nelio-content"),"<input/>"):(0,At.sprintf)(/* translators: %s: Number of hours. */ /* translators: %s: Number of hours. */
(0,At._x)("In %s hours.","text","nelio-content"),"<input/>"),ia=({disabled:e})=>{const[{timeValue:t},s]=Rt();return(0,l.jsx)(Lt.BaseControl,{id:"nelio-content-social-message-editor__time-selector",label:(0,At._x)("Time","text","nelio-content"),children:(0,l.jsx)("div",{className:"nelio-content-social-message-editor__time-selector",children:(0,l.jsx)(Lt.SelectControl,{disabled:e,options:na,value:t,onChange:e=>{"exact"===e?s("exact",""):s("time-interval",e)}})})})},na=[{value:"morning",label:(0,At._x)("Morning (8am – 11am)","text","nelio-content")},{value:"noon",label:(0,At._x)("Noon (11am – 3pm)","text","nelio-content")},{value:"afternoon",label:(0,At._x)("Afternoon (3pm – 7pm)","text","nelio-content")},{value:"night",label:(0,At._x)("Night (7pm – 11pm)","text","nelio-content")},{value:"exact",label:(0,At._x)("Choose a custom time…","user","nelio-content")}],aa=({disabled:e})=>{const[{timeValue:t},s]=Rt(),i=Bt();return(0,l.jsx)(Lt.BaseControl,{id:"nelio-content-social-message-editor__time-selector",label:(0,At._x)("Time","text","nelio-content"),children:(0,l.jsx)("div",{className:"nelio-content-social-message-editor__time-selector",children:(0,l.jsx)(Lt.SelectControl,{disabled:e,options:i?la:oa,value:t,onChange:e=>{"positive-hours"===e||"exact"===e?s(e,""):s("predefined-offset",e)}})})})},oa=[{value:"0",label:(0,At._x)("Now","text","nelio-content")},{value:"1",label:(0,At._x)("In one hour","text","nelio-content")},{value:"3",label:(0,At._x)("In three hours","text","nelio-content")},{value:"5",label:(0,At._x)("In five hours","text","nelio-content")},{value:"positive-hours",label:(0,At._x)("In __ hours","text","nelio-content")},{value:"exact",label:(0,At._x)("Choose a custom time…","user","nelio-content")}],la=[{value:"0",label:(0,At._x)("Same time as publication","text","nelio-content")},{value:"1",label:(0,At._x)("One hour after publication","text","nelio-content")},{value:"3",label:(0,At._x)("Three hours after publication","text","nelio-content")},{value:"5",label:(0,At._x)("Five hours after publication","text","nelio-content")},{value:"positive-hours",label:(0,At._x)("__ hours after publication","text","nelio-content")},{value:"exact",label:(0,At._x)("Choose a custom time…","user","nelio-content")}],ra=({disabled:e})=>{const[{timeType:t}]=Rt();switch(t){case"exact":return(0,l.jsx)(ea,{disabled:e});case"positive-hours":return(0,l.jsx)(ta,{disabled:e});case"time-interval":return(0,l.jsx)(ia,{disabled:e});default:return(0,l.jsx)(aa,{disabled:e})}},ca=({callback:e})=>{const t=Zt(),s=Yt(),i=(0,u.useIsSubscribed)(),n=ss(),a=(0,l.jsx)(da,{});return(0,l.jsxs)(js.LoadingModal,{className:"nelio-content-social-message-editor",title:a,onClose:()=>{},isLoading:t,loadingErrorMessage:"error"===n.type?(0,At.sprintf)(/* translators: %d: Post ID. */ /* translators: %d: Post ID. */
(0,At._x)("Post %d not found.","text","nelio-content"),n.postId):"",children:[(0,l.jsx)(Ds,{}),(0,l.jsx)(Wn,{}),(0,l.jsx)(cn,{disabled:s}),(0,l.jsx)(Gs,{disabled:s}),(0,l.jsx)(Yn,{disabled:s}),(0,l.jsx)(Ki,{}),(0,l.jsx)(qs,{disabled:s}),(0,l.jsx)(Xi,{disabled:s}),(0,l.jsx)(Kn,{disabled:s}),(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__schedule-options",children:[(0,l.jsx)(Bs,{disabled:s||!i}),(0,l.jsx)(ra,{disabled:s||!i})]}),(0,l.jsx)(zn,{}),(0,l.jsx)(Ns,{callback:e})]})},da=()=>{const e=Ht();return(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__title",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-editor__title-text",children:e?(0,At._x)("Create Social Message","text","nelio-content"):(0,At._x)("Edit Social Message","text","nelio-content")}),(0,l.jsx)("div",{className:"nelio-content-social-message-editor__title-help",children:(0,l.jsx)(js.ContextualHelp,{context:"social-message-editor",walkthrough:ys,autostart:!0})})]})},ma=()=>{const e=Yt(),t=d(e=>e(Mt).getFailureDescription()),{close:s,makeEditable:i,sendNow:n}=(0,c.useDispatch)(Mt);return(0,l.jsxs)(Lt.Modal,{className:"nelio-content-social-message-error-dialog",title:(0,At._x)("Failed Social Message","text","nelio-content"),onRequestClose:()=>!e&&s(),children:[(0,l.jsx)("div",{className:"nelio-content-social-message-error-dialog__content",children:(0,k.isEmpty)(t)?(0,l.jsx)(l.Fragment,{children:(0,At._x)("An error occurred while attempting to share this social message.","text","nelio-content")}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("strong",{children:(0,At._x)("Error!","text","nelio-content")}),` ${t}`]})}),(0,l.jsxs)("div",{className:"nelio-content-social-message-error-dialog__actions",children:[(0,l.jsx)(Lt.Button,{variant:"secondary",onClick:i,disabled:e,children:(0,At._x)("Edit","command","nelio-content")}),(0,l.jsx)(Lt.Button,{variant:"primary",isBusy:e,onClick:n,disabled:e,children:e?(0,At._x)("Saving…","text","nelio-content"):(0,At._x)("Send Now","command","nelio-content")})]})]})},ua=()=>{const[e]=es(),t=ts(),s=!!t,i=(()=>{var e,t,s;const{networkId:i,networkLink:n,profileId:a}=d(e=>{const t=e(Mt).getSelectedSocialProfiles()[0];return{networkId:e(Mt).getNetworkId(),networkLink:e(Mt).getNetworkLink(),profileId:(0,k.isAutoSelectedUuid)(t)?t.value:t}}),o=d(e=>e(u.store).getSocialProfile(a));if(n)return n;if(o&&i&&"nc-email"!==i)switch(o.network){case"band":case"blogger":case"gmb":case"instagram":case"medium":case"slack":case"telegram":case"threads":case"tiktok":case"ok":case"vk":return;case"bluesky":const n=null===(e=i.split(" ")[0])||void 0===e?void 0:e.split("/").pop();if(!n)return;return`https://bsky.app/profile/${o.username}/post/${n}`;case"discord":case"mastodon":return o.link&&`${o.link}/${i}`;case"facebook":return i.includes("_")?`https://www.facebook.com/${null!==(t=i.split("_")[0])&&void 0!==t?t:""}/posts/${null!==(s=i.split("_")[1])&&void 0!==s?s:""}`:void 0;case"linkedin":return`https://www.linkedin.com/feed/update/${i}`;case"pinterest":return`https://www.pinterest.com/pin/${i}/`;case"plurk":return`https://www.plurk.com/p/${parseInt(i).toString(36)}`;case"reddit":return i;case"tumblr":return o.link?`${o.link}/${i}`:`https://www.tumblr.com/${o.username}/${i}`;case"twitter":return`https://x.com/${o.username}/status/${i}`}})(),n=Zt(),[a]=ns(),{close:o,showPreview:m}=(0,c.useDispatch)(Mt);return(0,r.useEffect)(()=>{m(!0)}),(0,l.jsxs)(js.LoadingModal,{className:"nelio-content-social-message-publish-dialog",title:(0,At._x)("Social Message","text","nelio-content"),onClose:o,isLoading:n,children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-publish-dialog__content",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-publish-dialog__content-text",children:a}),(0,l.jsx)(Ki,{}),s&&!!(null==e?void 0:e.title)&&(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:(0,At._x)("Related Post:","text","nelio-content")})," ",(0,l.jsx)(Lt.ExternalLink,{href:null==e?void 0:e.viewLink,children:null==e?void 0:e.title})]}),s&&!(null==e?void 0:e.title)&&(0,l.jsx)("p",{children:(0,l.jsxs)("em",{children:[(0,l.jsx)("strong",{children:(0,At._x)("Warning:","text","nelio-content")+" "}),(0,At.sprintf)(/* translators: %d: Post id. */ /* translators: %d: Post id. */
(0,At._x)("related post “%d” couldn’t be loaded.","text","nelio-content"),t)]})}),!!i&&(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:(0,At._x)("Network Link:","text","nelio-content")})," ",(0,l.jsx)(Lt.ExternalLink,{href:i,children:(0,At._x)("Published Message","text","nelio-content")})]})]}),(0,l.jsx)("div",{className:"nelio-content-social-message-publish-dialog__actions",children:(0,l.jsx)(Lt.Button,{variant:"secondary",onClick:o,children:(0,At._x)("Close","command","nelio-content")})})]})},ga=window.NelioContent.constants,pa=()=>{const[e]=_s(),[t,s]=xs(),i=va(),[n,a]=vs();return(0,l.jsxs)(Lt.Modal,{className:"nelio-content-social-message-recurrence-settings-dialog",title:(0,At._x)("Recurring Message Settings","text","nelio-content"),isDismissible:!1,onRequestClose:()=>{},children:[(0,l.jsxs)("div",{className:"nelio-content-social-message-recurrence-settings-dialog__content",children:[(0,l.jsx)("div",{className:"nelio-content-social-message-recurrence-settings-dialog__basic-settings",children:(0,r.createInterpolateElement)((0,At.sprintf)(/* translators: %1$s: Number selector. %2$s: Days/weeks/months selector. */ /* translators: %1$s: Number selector. %2$s: Days/weeks/months selector. */
(0,At._x)("Repeat every %1$s %2$s","text","nelio-content"),"<occurrences />","<period />"),{occurrences:(0,l.jsx)(js.NumberControl,{value:n.interval?n.interval:void 0,onChange:(e=0)=>a(Object.assign(Object.assign({},n),{interval:e})),min:1}),period:(0,l.jsx)(Lt.SelectControl,{value:n.period,onChange:t=>{switch(t){case"day":return a({period:t,occurrences:n.occurrences,interval:n.interval});case"week":return a({period:t,occurrences:n.occurrences,interval:n.interval,firstWeekday:i,weekdays:[e.weekday],isMessageDay:!0});case"month":return a({period:t,occurrences:n.occurrences,interval:n.interval,day:"monthday"})}},options:wa})})}),(0,l.jsx)(ha,{}),(0,l.jsx)(xa,{}),(0,l.jsx)("div",{className:"nelio-content-social-message-recurrence-settings-dialog__occurrences",children:(0,r.createInterpolateElement)((0,At.sprintf)(/* translators: %s: Number. */ /* translators: %s: Number. */
(0,At._x)("Ends after %s occurrences","text","nelio-content"),"<occurrences />"),{occurrences:(0,l.jsx)(js.NumberControl,{value:n.occurrences<2?void 0:n.occurrences,onChange:(e=0)=>a(Object.assign(Object.assign({},n),{occurrences:e})),min:2,max:ga.MAX_OCCURRENCES})})})]}),(0,l.jsx)("div",{className:"nelio-content-social-message-recurrence-settings-dialog__actions",children:(0,l.jsx)(Lt.Button,{variant:"primary",onClick:()=>s(!1),disabled:ja(n),children:(0,At._x)("Back","command","nelio-content")})})]})},ha=()=>{const[e]=_s(),[t,s]=vs(),i=d(e=>e(u.store).getFirstDayOfWeek());return"week"!==t.period?null:(0,l.jsxs)("div",{className:"nelio-content-social-message-recurrence-settings-dialog__weekdays",children:[(0,l.jsx)("span",{children:(0,At._x)("On","text (on + weekdays)","nelio-content")}),(0,g.range)(0,7).map(e=>ba[(e+i)%7]||"sun").map((i,n)=>(0,l.jsxs)("div",{className:"nelio-content-social-message-recurrence-settings-dialog__weekdays__toggle",children:[(0,l.jsx)("input",{type:"checkbox",checked:t.weekdays.includes(i),onChange:n=>((i,n)=>{const a=n?[...t.weekdays,i]:(0,g.without)(t.weekdays,i),o=Object.assign(Object.assign({},t),{weekdays:a,isMessageDay:1===a.length&&a.includes(e.weekday)}),l=Object.assign(Object.assign({},t),{weekdays:[e.weekday],isMessageDay:!0}),r=0===o.weekdays.length;s(r?l:o)})(i,n.target.checked)}),(0,l.jsx)("span",{children:ka[i]})]},n))]})},xa=()=>{const[e]=_s(),[t,s]=vs();if("month"!==t.period)return null;const i=t=>{switch(t){case 1:return(0,At.sprintf)(/* translators: %s: Day of week. */ /* translators: %s: Day of week. */
(0,At._x)("On the first %s","text","nelio-content"),fa[e.weekday]);case 2:return(0,At.sprintf)(/* translators: %s: Day of week. */ /* translators: %s: Day of week. */
(0,At._x)("On the second %s","text","nelio-content"),fa[e.weekday]);case 3:return(0,At.sprintf)(/* translators: %s: Day of week. */ /* translators: %s: Day of week. */
(0,At._x)("On the third %s","text","nelio-content"),fa[e.weekday]);case 4:return(0,At.sprintf)(/* translators: %s: Day of week. */ /* translators: %s: Day of week. */
(0,At._x)("On the fourth %s","text","nelio-content"),fa[e.weekday]);case 5:return(0,At.sprintf)(/* translators: %s: Day of week. */ /* translators: %s: Day of week. */
(0,At._x)("On the last %s","text","nelio-content"),fa[e.weekday])}},n=[{value:"monthday",label:(0,At.sprintf)(/* translators: %d: Day number in month. */ /* translators: %d: Day number in month. */
(0,At._x)("On day %d","text","nelio-content"),e.monthday)},{value:5===e.weekindex[0]?"last-weekday":"nth-weekday",label:i(e.weekindex[0])}];return 5===e.weekindex[1]&&n.push({value:"last-weekday",label:i(5)}),(0,l.jsx)(Lt.SelectControl,{options:n,value:t.day,onChange:e=>s(Object.assign(Object.assign({},t),{day:e}))})},va=()=>d(e=>ba[e(u.store).getFirstDayOfWeek()]||"sun"),_a={day:(0,At._x)("Days","text","nelio-content"),week:(0,At._x)("Weeks","text","nelio-content"),month:(0,At._x)("Months","text","nelio-content")},wa=Object.keys(_a).map(e=>e).map(e=>({value:e,label:_a[e]})),ba=["sun","mon","tue","wed","thu","fri","sat"],fa={sun:(0,At._x)("Sunday","text","nelio-content"),mon:(0,At._x)("Monday","text","nelio-content"),tue:(0,At._x)("Tuesday","text","nelio-content"),wed:(0,At._x)("Wednesday","text","nelio-content"),thu:(0,At._x)("Thursday","text","nelio-content"),fri:(0,At._x)("Friday","text","nelio-content"),sat:(0,At._x)("Saturday","text","nelio-content")},ka={sun:(0,At._x)("S","text (sunday)","nelio-content"),mon:(0,At._x)("M","text (monday)","nelio-content"),tue:(0,At._x)("T","text (tuesday)","nelio-content"),wed:(0,At._x)("W","text (wednesday)","nelio-content"),thu:(0,At._x)("T","text (thursday)","nelio-content"),fri:(0,At._x)("F","text (friday)","nelio-content"),sat:(0,At._x)("S","text (saturday)","nelio-content")},ja=e=>e.occurrences<2||e.interval<1,ya=()=>{const e=d(e=>e(Mt).getReusableMessageId()),t=!e,s=Na(),[i]=Gt(),n=Yt(),{deleteReusableMessage:a}=(0,c.useDispatch)(u.store),{close:o,saveReusableAndClose:r}=(0,c.useDispatch)(Mt);return(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__actions nelio-content-social-message-editor__actions--is-reusable-message",children:[!!i&&(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__error-summary",children:[(0,l.jsx)("span",{children:(0,l.jsx)(Lt.Dashicon,{icon:"warning"})}),(0,l.jsx)("span",{children:i})]}),!t&&!i&&(0,l.jsx)(js.DeleteButton,{className:"nelio-content-social-message-editor__delete-reusable-message",disabled:n,onClick:()=>{e&&(a(e),o())}}),(0,l.jsx)(Lt.Button,{variant:"secondary",disabled:n,onClick:o,children:(0,At._x)("Cancel","command","nelio-content")}),(0,l.jsx)(js.SaveButton,{variant:"primary",disabled:t?void 0:!s,error:i,isSaving:n,isUpdate:!t,onClick:()=>{r()}})]})},Na=()=>{const e=d(e=>e(u.store).getReusableMessage(e(Mt).getReusableMessageId()));return d(t=>{var s,i;if(t(Mt),!e)return!0;const n=t(Mt).getSelectedSocialProfiles(),a=(0,k.isAutoSelectedUuid)(n[0])?n[0].value:n[0],o=a?null===(s=t(Mt).getSelectedTargetsInProfile(a))||void 0===s?void 0:s[0]:void 0,l=t(Mt).getTimeType(),r={profileId:a,targetName:o,text:t(Mt).getText(),postId:null===(i=t(Mt).getPost())||void 0===i?void 0:i.id,timeType:"exact"===l||"time-interval"===l?l:"exact",timeValue:t(Mt).getTimeValue(),image:t(Mt).hasExplicitImage()?t(Mt).getImageUrl():void 0,video:t(Mt).getVideoUrl()},c=(0,g.mapValues)(r,(t,s)=>e[s]!==t);return(0,g.some)((0,g.values)(c))})},Sa=({disabled:e})=>(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__quick-actions-wrapper",children:[(0,l.jsx)(dn,{disabled:e}),(0,l.jsxs)("div",{className:"nelio-content-social-message-editor__quick-actions",children:[(0,l.jsx)($n,{disabled:e}),(0,l.jsx)(Vn,{disabled:e}),(0,l.jsx)(xn,{disabled:e}),(0,l.jsx)(jn,{disabled:e}),(0,l.jsx)(Dn,{disabled:e}),(0,l.jsx)(un,{disabled:e})]})]}),Ta=({disabled:e})=>{const[{timeType:t}]=Rt();return"exact"===t?(0,l.jsx)(ea,{disabled:e}):(0,l.jsx)(ia,{disabled:e})},Ia=()=>{const e=Zt(),t=Yt(),s=(0,u.useIsSubscribed)(),i=ss(),{close:n}=(0,c.useDispatch)(Mt),a=(0,l.jsx)(Pa,{});return(0,l.jsxs)(js.LoadingModal,{className:"nelio-content-social-message-editor",title:a,onClose:n,isLoading:e,loadingErrorMessage:"error"===i.type?(0,At.sprintf)(/* translators: %d: Post ID. */ /* translators: %d: Post ID. */
(0,At._x)("Post %d not found.","text","nelio-content"),i.postId):"",children:[(0,l.jsx)(Ds,{}),(0,l.jsx)(Zi,{disabled:t}),(0,l.jsx)(Gs,{disabled:t}),(0,l.jsx)(Sa,{disabled:t}),(0,l.jsx)(Ki,{}),(0,l.jsx)("div",{className:"nelio-content-social-message-editor__schedule-options",children:(0,l.jsx)(Ta,{disabled:t||!s})}),(0,l.jsx)(ya,{})]})},Pa=()=>{const e=d(e=>!e(Mt).getReusableMessageId());return(0,l.jsx)("div",{className:"nelio-content-social-message-editor__title",children:(0,l.jsx)("div",{className:"nelio-content-social-message-editor__title-text",children:e?(0,At._x)("Create Reusable Social Message","text","nelio-content"):(0,At._x)("Edit Reusable Social Message","text","nelio-content")})})},Oa=({callback:e})=>{const t=d(e=>e(Mt).isEditorVisible()),s=(0,u.useSocialProfiles)(),i=d(e=>e(Mt).isFreePreview()),n=d(e=>e(Mt).isImageUrlSelectorVisible()),a=d(e=>e(Mt).getStatus()),o=d(e=>e(Mt).isEditingReusableMessage()),[m]=xs(),{openPremiumDialog:g}=(0,c.useDispatch)(u.store),{close:p}=(0,c.useDispatch)(Mt);return(0,r.useEffect)(()=>{t&&i&&(p(),g("raw/free-previews"))},[t,i]),t?s.length?"error"===a?(0,l.jsx)(ma,{}):"publish"===a?(0,l.jsx)(ua,{}):m?(0,l.jsx)(pa,{}):n?(0,l.jsx)(fs,{}):o?(0,l.jsx)(Ia,{}):(0,l.jsx)(ca,{callback:e}):(0,l.jsx)(ks,{}):null}},7206:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}}},s={};function i(e){var n=s[e];if(void 0!==n)return n.exports;var a=s[e]={exports:{}};return t[e](a,a.exports,i),a.exports}i.m=t,e=[],i.O=(t,s,n,a)=>{if(!s){var o=1/0;for(d=0;d<e.length;d++){for(var[s,n,a]=e[d],l=!0,r=0;r<s.length;r++)(!1&a||o>=a)&&Object.keys(i.O).every(e=>i.O[e](s[r]))?s.splice(r--,1):(l=!1,a<o&&(o=a));if(l){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[s,n,a]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={9826:0,2445:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var n,a,[o,l,r]=s,c=0;if(o.some(t=>0!==e[t])){for(n in l)i.o(l,n)&&(i.m[n]=l[n]);if(r)var d=r(i)}for(t&&t(s);c<o.length;c++)a=o[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(d)},s=globalThis.webpackChunkNelioContent=globalThis.webpackChunkNelioContent||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=i.O(void 0,[2445],()=>i(4191));n=i.O(n);var a=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var o in n)a[o]=n[o];n.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})();