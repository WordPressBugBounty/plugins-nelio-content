(()=>{var e,t={5526:(e,t,n)=>{"use strict";n.r(t),n.d(t,{initPage:()=>Ae});var a={};n.r(a),n.d(a,{getEditingTask:()=>h,getEditingTaskError:()=>x,getEditingTaskSource:()=>y,getTaskPreset:()=>T,getTaskPresets:()=>_,isEditingTaskDirty:()=>g,isSavingPresets:()=>P,isTaskTemplateEditorOpen:()=>b});var r={};n.r(r),n.d(r,{closeTaskTemplateEditor:()=>M,createTaskPreset:()=>I,editTaskTemplate:()=>R,markAsSaving:()=>w,openTaskTemplateEditor:()=>D,removeTaskPreset:()=>A,resetTaskPresets:()=>N,setTaskPresetName:()=>C,setTaskTemplates:()=>O});var o={};n.r(o),n.d(o,{saveTaskPresets:()=>G});const s=window.wp.element;function i(e,t){t&&(s.createRoot?(0,s.createRoot)(t).render(e):(0,s.render)(e,t))}const l=window.wp.data;function c(e,t){return(0,l.useSelect)(e,t)}const u=window.wp.i18n,d=window.NelioContent.components,p=window.NelioContent.data,m=window.lodash;var f={saving:!1,taskPresets:{byId:{},allIds:[]},editor:void 0},k=function(){return k=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},k.apply(this,arguments)},v=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},E=function(){return E=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},E.apply(this,arguments)};function _(e){return e.taskPresets.allIds}function T(e,t){return t?e.taskPresets.byId[t]:void 0}function b(e){return!!e.editor}function y(e){if(e.editor){var t=e.editor;return{presetId:t.presetId,source:t.source}}}function h(e){var t;return(null===(t=e.editor)||void 0===t?void 0:t.attrs)||S}function g(e){if(!e.editor)return!1;var t=e.editor.source,n=E(E({},e.editor.attrs),{task:(0,m.trim)(e.editor.attrs.task)});return!(0,m.isEqual)(t,n)}function x(e){if(e.editor){var t=e.editor.attrs;return""===(0,m.trim)(t.task)?(0,u._x)("Please write a valid task","user","nelio-content"):""===(0,m.trim)(t.dateValue)?(0,u._x)("Please set a valid date","user","nelio-content"):void 0}}function P(e){return e.saving}var S={task:"",color:"none",dateType:"predefined-offset",dateValue:"0",assigneeId:void 0};function w(e){return{type:"MARK_AS_SAVING",saving:e}}function N(e){return{type:"RESET_TASK_PRESETS",presets:e}}function I(){return{type:"CREATE_TASK_PRESET"}}function A(e){return{type:"REMOVE_TASK_PRESET",presetId:e}}function C(e,t){return{type:"SET_TASK_PRESET_NAME",presetId:e,name:t}}function O(e,t){return{type:"SET_TASK_TEMPLATES",presetId:e,templates:t}}function D(e,t){return{type:"OPEN_TASK_TEMPLATE_EDITOR",presetId:e,task:t}}function R(e){return{type:"EDIT_TASK_TEMPLATE",task:e}}function M(){return{type:"CLOSE_TASK_TEMPLATE_EDITOR"}}const V=window.wp.apiFetch,K=n.n(V)(),j=window.wp.notices,L=window.NelioContent.utils;var B=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((a=a.apply(e,t||[])).next())}))},q=function(e,t){var n,a,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function G(){return B(this,void 0,Promise,(function(){var e,t,n,a,r;return q(this,(function(o){switch(o.label){case 0:return[4,(0,l.dispatch)(U).markAsSaving(!0)];case 1:o.sent(),e=(0,l.select)(U),t=e.getTaskPreset,n=e.getTaskPresets,a=n().map(t).filter(L.isDefined),o.label=2;case 2:return o.trys.push([2,6,,8]),[4,K({path:"/nelio-content/v1/task-presets",method:"POST",data:{presets:a}})];case 3:return r=o.sent(),[4,(0,l.dispatch)(p.store).resetTaskPresets(r)];case 4:return o.sent(),[4,(0,l.dispatch)(U).resetTaskPresets(r)];case 5:return o.sent(),[3,8];case 6:return[4,F(o.sent())];case 7:return o.sent(),[3,8];case 8:return[4,(0,l.dispatch)(U).markAsSaving(!1)];case 9:return o.sent(),[2]}}))}))}function F(e){return B(this,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return[4,(0,l.dispatch)(j.store).createErrorNotice(e.message||(0,u._x)("Something went wrong","text","nelio-content"))];case 1:return t.sent(),[2]}}))}))}var H=function(){return H=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},H.apply(this,arguments)},U=(0,l.createReduxStore)("nelio-content/task-preset-settings",{reducer:function(e,t){var n;return void 0===e&&(e=f),null!==(n=function(e,t){var n,a,r;switch(t.type){case"RESET_TASK_PRESETS":return k(k({},e),{taskPresets:{byId:(0,m.keyBy)(t.presets,"id"),allIds:(0,m.map)(t.presets,"id")}});case"MARK_AS_SAVING":return k(k({},e),{saving:t.saving});case"CREATE_TASK_PRESET":var o=e.taskPresets.allIds.map((function(e){return Math.abs(e)})),s=-(((0,m.max)(o)||0)+1);return k(k({},e),{taskPresets:{byId:k(k({},e.taskPresets.byId),(n={},n[s]={id:s,name:"",tasks:[]},n)),allIds:v(v([],e.taskPresets.allIds,!0),[s],!1)}});case"SET_TASK_PRESET_NAME":return(i=e.taskPresets.byId[t.presetId])?k(k({},e),{taskPresets:k(k({},e.taskPresets),{byId:k(k({},e.taskPresets.byId),(a={},a[i.id]=k(k({},i),{name:t.name}),a))})}):e;case"SET_TASK_TEMPLATES":var i;return(i=e.taskPresets.byId[t.presetId])?k(k({},e),{taskPresets:k(k({},e.taskPresets),{byId:k(k({},e.taskPresets.byId),(r={},r[i.id]=k(k({},i),{tasks:t.templates}),r))})}):e;case"REMOVE_TASK_PRESET":return k(k({},e),{taskPresets:{byId:(0,m.omit)(e.taskPresets.byId,t.presetId),allIds:(0,m.without)(e.taskPresets.allIds,t.presetId)}});case"OPEN_TASK_TEMPLATE_EDITOR":return k(k({},e),{editor:{presetId:t.presetId,source:t.task,attrs:t.task}});case"EDIT_TASK_TEMPLATE":var l=e.editor;return l?k(k({},e),{editor:k(k({},l),{attrs:k(k({},l.attrs),t.task)})}):e;case"CLOSE_TASK_TEMPLATE_EDITOR":return k(k({},e),{editor:void 0})}}(e,t))&&void 0!==n?n:e},controls:l.controls,actions:H(H({},r),o),selectors:a});!function(e){(0,l.register)(e)}(U),(0,l.dispatch)(U).resetTaskPresets((0,l.select)(p.store).getTaskPresets());var Y=[{title:(0,u._x)("Settings - Task Presets","text","nelio-content"),intro:(0,u._x)("Task presets make it possible to create editorial tasks once and use them when needed, thus saving a lot of time. Don’t repeat yourself and automate your workflow.","text","nelio-content")},{title:(0,u._x)("Task Presets","text","nelio-content"),intro:(0,u._x)("You can easily create new task presets using this button.","text","nelio-content"),element:function(){return document.querySelector(".nelio-content-add-task-preset")}},{title:(0,u._x)("Task Presets","text","nelio-content"),intro:(0,u._x)("Each preset has an identifying name and contains a set of tasks. Hover on each task to reveal its actions and, thus, be able to edit or delete it, or use the “New Task” button to create new tasks.","text","nelio-content"),elementToClick:function(){var e=document.querySelector(".nelio-content-task-preset");return e?e.querySelector(".nelio-content-task-preset__body")?null:e.querySelector(".nelio-content-task-preset__header button"):null},element:function(){return document.querySelector(".nelio-content-task-preset")},active:function(){return!!document.querySelector(".nelio-content-task-preset")}},{title:(0,u._x)("Save Changes","text","nelio-content"),intro:(0,u._x)("Once you’re happy with your setup, don’t forget to save your changes using this button!","user","nelio-content"),element:function(){return document.querySelector(".nelio-content-save-button.is-primary")}}];const $=window.wp.components;var z=function(){return c((function(e){var t=e(p.store).getTaskPresets(),n=e(U),a=n.getTaskPreset,r=(0,n.getTaskPresets)().map(a).filter(L.isDefined);return!!(0,m.difference)((0,m.map)(t,"id"),(0,m.map)(r,"id")).length||(0,m.some)(r,(function(e){var n=(0,m.find)(t,{id:e.id});return!(0,m.isEqual)(e,n)}))}))},W=function(){return c((function(e){return e(U).isSavingPresets()}))},J=function(e){var t=e.presetId,n=e.task,a=e.onDelete,r=(0,l.useDispatch)(U).openTaskTemplateEditor,o=(0,p.useAuthorName)(n.assigneeId),i=Q(n.dateType,n.dateValue);return s.createElement("div",{className:"none"===n.color?"nelio-content-task-template":"nelio-content-task-template nelio-content-task-template--is-".concat(n.color)},s.createElement("div",{className:"nelio-content-task-template__task"},n.task),s.createElement("div",{className:"nelio-content-task-template__extra"},(0,u.sprintf)("%1$s • %2$s",n.assigneeId?o:(0,u._x)("Post Author","text","nelio-content"),i)),s.createElement("div",{className:"nelio-content-task-template__actions"},s.createElement($.Button,{variant:"link",onClick:function(){return r(t,n)}},(0,u._x)("Edit","command","nelio-content")),s.createElement(d.DeleteButton,{onClick:a})))},Q=function(e,t){var n=Math.abs(Number.parseInt(t)||0);switch(e){case"negative-days":case"predefined-offset":return{0:(0,u._x)("Same day as publication","text","nelio-content"),"-1":(0,u._x)("The day before publication","text","nelio-content"),"-7":(0,u._x)("A week before publication","text","nelio-content")}[t]||(0,u.sprintf)(/* translators: number of days */ /* translators: number of days */
(0,u._nx)("%d day before publication","%d days before publication",n,"text","nelio-content"),n);case"positive-days":return(0,u.sprintf)(/* translators: number of days */ /* translators: number of days */
(0,u._nx)("%d day after publication","%d days after publication",n,"text","nelio-content"),n)}},X=function(e){var t=e.presetId,n=function(e){return c((function(t){return t(U).getTaskPreset(e)}))}(t),a=W(),r=(0,l.useDispatch)(U),o=r.openTaskTemplateEditor,i=r.removeTaskPreset,p=r.setTaskPresetName,f=r.setTaskTemplates,k=(0,s.useState)(!(null==n?void 0:n.tasks.length)),v=k[0],E=k[1];return n?s.createElement("div",{className:"nelio-content-task-preset"},s.createElement("div",{className:"nelio-content-task-preset__header"},s.createElement("button",{disabled:a,onClick:function(e){e.preventDefault(),E(!v)}},s.createElement("span",null,s.createElement("strong",null,(0,m.trim)(n.name)||(0,u._x)("Unnamed Task Preset","text","nelio-content"))," ",(0,u.sprintf)(/* translators: number of tasks */ /* translators: number of tasks */
(0,u._nx)("(%d task)","(%d tasks)",n.tasks.length,"text","nelio-content"),n.tasks.length)),s.createElement($.Dashicon,{icon:v?"arrow-up":"arrow-down"}))),v&&s.createElement("div",{className:"nelio-content-task-preset__body"},s.createElement("div",{className:"nelio-content-task-preset__name-and-delete"},s.createElement($.TextControl,{value:n.name,onChange:function(e){return p(t,e)},placeholder:(0,u._x)("Name your preset…","user","nelio-content")}),s.createElement("span",null,s.createElement(d.DeleteButton,{onClick:function(){return i(t)}}))),s.createElement("div",{className:"nelio-content-task-preset__tasks"},n.tasks.map((function(e,r){return s.createElement(J,{key:"".concat(r,"-").concat(n.tasks.length),presetId:t,task:e,onDelete:function(){return f(t,(0,m.without)(n.tasks,e))},onUpdate:function(a){return f(t,(0,L.replace)(e,a,n.tasks))},disabled:a})}))),s.createElement("div",{className:"nelio-content-task-preset__actions"},s.createElement($.Button,{size:"small",variant:"secondary",onClick:function(){return o(t,{task:"",assigneeId:void 0,color:"none",dateType:"predefined-offset",dateValue:"0"})}},(0,u._x)("New Task","command","nelio-content"))))):null},Z=function(){var e=c((function(e){return e(U).getTaskPresets()})),t=W(),n=z(),a=ee(),r=(0,l.useDispatch)(U),o=r.createTaskPreset,i=r.saveTaskPresets;return s.createElement(s.Fragment,null,s.createElement("div",{className:"nelio-content-task-preset-list"},(0,L.isEmpty)(e)&&(0,u._x)("Task Presets let you define a set of Editorial Tasks that can be automatically instantiated when creating new posts in your blog.","user","nelio-content"),e.map((function(e,t){return s.createElement(X,{key:t,presetId:e})}))),s.createElement("div",{className:"nelio-content-task-preset-list__actions"},s.createElement(d.SaveButton,{variant:"primary",error:a,isSaving:t,onClick:i,disabled:!n||t||!!a,baseLabel:(0,u._x)("Save Changes","command","nelio-content")}),s.createElement($.Button,{className:"nelio-content-add-task-preset",variant:"secondary",onClick:o,disabled:t},(0,u._x)("Add Task Preset","command","nelio-content"))))},ee=function(){var e=c((function(e){return e(U).getTaskPresets().map(e(U).getTaskPreset).filter(L.isDefined)}));return(0,m.some)(e,(function(e){return!(0,m.trim)(e.name)}))?(0,u._x)("Please name all your presets","user","nelio-content"):(0,m.some)(e,(function(e){return!e.tasks.length}))?(0,u._x)("Please add one or more tasks to all your presets","user","nelio-content"):void 0},te=function(){var e=ne(),t=e[0],n=e[1];return ae()?s.createElement("div",{className:"nelio-content-task-template-editor__assignee"},s.createElement(d.AuthorSearcher,{hasAllAuthors:!0,allAuthorsLabel:(0,u._x)("Post Author","text","nelio-content"),value:t||void 0,onChange:n,placeholder:(0,u._x)("Assign task to…","command","nelio-content")})):null},ne=function(){var e=c((function(e){return e(U).getEditingTask()})),t=(0,l.useDispatch)(U).editTaskTemplate;return[e.assigneeId,function(e){return t({assigneeId:e})}]},ae=function(){return c((function(e){return e(p.store).isMultiAuthor}))},re=function(e){var t=e.dateValue,n=e.disabled,a=e.setDateType,r=e.setDateValue;return s.createElement($.SelectControl,{className:"nelio-content-task-template-editor-date-due__default-select",disabled:n,options:se,value:t,onChange:function(e){oe(e)?(a(e),r("")):r(e)}})},oe=function(e){return["positive-days","negative-days"].includes(e)},se=[{value:"0",label:(0,u._x)("Same day as publication","text","nelio-content")},{value:"-1",label:(0,u._x)("The day before publication","text","nelio-content")},{value:"-7",label:(0,u._x)("A week before publication","text","nelio-content")},{value:"negative-days",label:(0,u._x)("__ days before publication","text","nelio-content")},{value:"positive-days",label:(0,u._x)("__ days after publication","text","nelio-content")}],ie=function(){var e=c((function(e){return e(U).getEditingTask()})),t=(0,l.useDispatch)(U).editTaskTemplate;return[e.dateType,function(e){return t({dateType:e})}]},le=function(){var e=c((function(e){return e(U).getEditingTask()})),t=(0,l.useDispatch)(U).editTaskTemplate;return[e.dateValue,function(e){return t({dateValue:e})}]},ce=function(e){var t=e.disabled,n=ie(),a=(n[0],n[1]),r=le(),o=(r[0],r[1]);return s.createElement("div",{className:"nelio-content-task-editor-date-due__back-button"},s.createElement($.Button,{variant:"link",disabled:t,onClick:function(){a("predefined-offset"),o("0")}},(0,u._x)("Back","command","nelio-content")))},ue=function(e){var t=e.disabled,n=e.dateValue,a=e.setDateValue;return s.createElement("div",{className:"nelio-content-task-template-editor-date-due__days-offset"},s.createElement(d.NumberControl,{className:"nelio-content-task-template-editor-date-due__days-input",disabled:t,min:2,value:n,onChange:function(e){return a(de(e))}}),s.createElement("span",null,(0,u._x)("days before pub.","text","nelio-content")),s.createElement(ce,{disabled:t}))},de=function(e){return void 0===e?"":"".concat(e)},pe=function(e){var t=e.disabled,n=e.dateValue,a=e.setDateValue;return s.createElement("div",{className:"nelio-content-task-template-editor-date-due__days-offset"},s.createElement(d.NumberControl,{className:"nelio-content-task-template-editor-date-due__days-input",disabled:t,min:1,value:n,onChange:function(e){return a(me(e))}}),s.createElement("span",null,(0,u._x)("days after pub.","text","nelio-content")),s.createElement(ce,{disabled:t}))},me=function(e){return void 0===e?"":"".concat(e)},fe=function(e){var t=e.disabled,n=ie(),a=n[0],r=n[1],o=le(),i=o[0],l=o[1],c="nelio-content-task-template-editor-date-due nelio-content-task-template-editor__date-due";return"negative-days"===a?s.createElement("div",{className:c},s.createElement(ue,{disabled:t,dateValue:i,setDateValue:l})):"positive-days"===a?s.createElement("div",{className:c},s.createElement(pe,{disabled:t,dateValue:i,setDateValue:l})):s.createElement("div",{className:c},s.createElement(re,{disabled:t,dateValue:i,setDateValue:l,setDateType:r}))},ke=function(e){var t=e.color,n=e.disabled,a=e.label,r=e.selected,o=e.onChange;return s.createElement("li",{className:"nelio-content-task-template-colors__option nelio-content-task-template-colors__option--is-".concat(t)},s.createElement("input",{disabled:n,type:"checkbox",checked:!!r,onChange:function(e){return o(!!e.target.checked)},title:a})," ",s.createElement("span",{className:"screen-reader-text"},a))},ve=function(e){var t=e.className,n=void 0===t?"":t,a=e.disabled,r=Ee(),o=r[0],i=r[1];return s.createElement("div",{className:"nelio-content-task-template-colors ".concat(n)},s.createElement("p",{className:"screen-reader-text"},(0,u._x)("Select a color:","user","nelio-content")),s.createElement("ul",{className:"nelio-content-task-template-colors__list"},_e.map((function(e){var t=e.value,n=e.label;return s.createElement(ke,{key:t,disabled:a,color:t,label:n,selected:o===t,onChange:function(e){return i(e?t:"none")}})}))))},Ee=function(){var e=c((function(e){return e(U).getEditingTask()})),t=(0,l.useDispatch)(U).editTaskTemplate;return[e.color,function(e){return t({color:e})}]},_e=[{value:"red",label:(0,u._x)("Red","text","nelio-content")},{value:"orange",label:(0,u._x)("Orange","text","nelio-content")},{value:"yellow",label:(0,u._x)("Yellow","text","nelio-content")},{value:"green",label:(0,u._x)("Green","text","nelio-content")},{value:"cyan",label:(0,u._x)("Cyan","text","nelio-content")},{value:"blue",label:(0,u._x)("Blue","text","nelio-content")},{value:"purple",label:(0,u._x)("Purple","text","nelio-content")}],Te=function(e){var t=e.disabled,n=be(),a=n[0],r=n[1];return s.createElement("div",{className:"nelio-content-task-template-editor__actual-task"},s.createElement($.TextareaControl,{disabled:t,value:a,onChange:function(e){return r(e)},placeholder:(0,u._x)("Describe the task…","user","nelio-content")}))},be=function(){var e=c((function(e){return e(U).getEditingTask()})),t=(0,l.useDispatch)(U).editTaskTemplate;return[e.task,function(e){return t({task:e})}]},ye=function(){return ye=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ye.apply(this,arguments)},he=function(){var e=c((function(e){return e(U).getEditingTaskSource()})),t=c((function(e){return e(U).getEditingTask()})),n=c((function(t){return t(U).getTaskPreset(null==e?void 0:e.presetId)})),a=!xe(),r=c((function(e){return e(U).isTaskTemplateEditorOpen()})),o=c((function(e){return e(U).getEditingTaskError()})),i=c((function(e){var t=e(U).isEditingTaskDirty;return a&&t()})),p=(0,l.useDispatch)(U),f=p.closeTaskTemplateEditor,k=p.setTaskTemplates,v=s.createElement(ge,null);return r?s.createElement($.Modal,{className:"nelio-content-task-template-editor",title:v,isDismissible:!1,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,onRequestClose:function(){}},s.createElement(Te,null),s.createElement("div",{className:"nelio-content-task-template-editor__options"},s.createElement(te,null),s.createElement(fe,null)),s.createElement("div",{className:"nelio-content-task-template-editor__footer"},s.createElement(ve,{className:"nelio-content-task-template-editor__colors"}),s.createElement("div",{className:"nelio-content-task-template-editor__actions"},s.createElement($.Button,{variant:"secondary",onClick:f},i?(0,u._x)("Discard Changes","command","nelio-content"):(0,u._x)("Close","command","nelio-content")),s.createElement(d.SaveButton,{variant:"primary",error:o,disabled:!!a&&!i,isUpdate:a,onClick:function(){if(e&&n){var a=ye(ye({},t),{task:(0,m.trim)(t.task)});k(n.id,(0,m.sortBy)((0,L.replaceOrAppend)(e.source,a,n.tasks),Pe))}f()}})))):null},ge=function(){var e=xe();return s.createElement("div",{className:"nelio-content-task-template-editor__title"},s.createElement("div",{className:"nelio-content-task-template-editor__title-text"},e?(0,u._x)("Create Task","text","nelio-content"):(0,u._x)("Edit Task","text","nelio-content")))},xe=function(){return c((function(e){var t=e(U).getEditingTaskSource();if(!t)return!1;var n=e(U).getTaskPreset(t.presetId);return!(null==n?void 0:n.tasks.includes(t.source))}))},Pe=function(e){var t="",n=Math.abs(Number.parseInt(e.dateValue)||0);return 0===n?(t+="1",t+=(0,m.padStart)("0",5,"0")):"positive-days"===e.dateType?(t+="2",t+=(0,m.padStart)("".concat(n),5,"0")):(t+="0",t+=(0,m.padStart)("".concat(99999-n),5,"9")),t+e.task},Se=function(){return s.createElement(s.StrictMode,null,s.createElement($.SlotFillProvider,null,s.createElement(we,null),s.createElement(d.PremiumDialog,null),s.createElement($.Popover.Slot,null)))},we=(0,p.withSubscriptionCheck)("raw/task-presets",(function(){var e=Ne(),t=e.notices,n=e.removeNotice,a=z();return(0,s.useEffect)((function(){return a?window.addEventListener("beforeunload",Ie,{capture:!0}):window.removeEventListener("beforeunload",Ie,{capture:!0}),function(){window.removeEventListener("beforeunload",Ie,{capture:!0})}}),[a]),s.createElement("div",{className:"nelio-content-task-presets-settings-layout"},s.createElement($.NoticeList,{notices:t,className:"components-editor-notices__pinned",onRemove:n}),s.createElement(Z,null),s.createElement(he,null))})),Ne=function(){return{notices:c((function(e){return e(j.store).getNotices()})),removeNotice:(0,l.useDispatch)(j.store).removeNotice}},Ie=function(e){return e.preventDefault(),e.returnValue=""};function Ae(e){var t=(0,l.select)(p.store).isSubscribed(),n=document.getElementById(e);i(s.createElement(Se,null),n);var a=document.getElementById("nelio-content-settings-title");t&&a&&i(s.createElement(d.ContextualHelp,{context:"social-task-presets",walkthrough:Y,autostart:!0,component:Ce}),a)}var Ce=function(e){var t=e.className,n=e.runWalkthrough;return s.createElement("button",{className:"".concat(t,"  page-title-action"),onClick:n},(0,u._x)("Help","text","nelio-content"))}}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,r,o)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],o=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={1247:0,8748:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,s=n[0],i=n[1],l=n[2],c=0;if(s.some((t=>0!==e[t]))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var u=l(a)}for(t&&t(n);c<s.length;c++)o=s[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self.webpackChunkNelioContent=self.webpackChunkNelioContent||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=a.O(void 0,[8748],(()=>a(5526)));r=a.O(r);var o=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var s in r)o[s]=r[s];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();